"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@videojs";
exports.ids = ["vendor-chunks/@videojs"];
exports.modules = {

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/byte-helpers.js":
/*!*************************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/byte-helpers.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ENDIANNESS: () => (/* binding */ ENDIANNESS),\n/* harmony export */   IS_BIG_ENDIAN: () => (/* binding */ IS_BIG_ENDIAN),\n/* harmony export */   IS_LITTLE_ENDIAN: () => (/* binding */ IS_LITTLE_ENDIAN),\n/* harmony export */   bytesMatch: () => (/* binding */ bytesMatch),\n/* harmony export */   bytesToNumber: () => (/* binding */ bytesToNumber),\n/* harmony export */   bytesToString: () => (/* binding */ bytesToString),\n/* harmony export */   concatTypedArrays: () => (/* binding */ concatTypedArrays),\n/* harmony export */   countBits: () => (/* binding */ countBits),\n/* harmony export */   countBytes: () => (/* binding */ countBytes),\n/* harmony export */   isArrayBufferView: () => (/* binding */ isArrayBufferView),\n/* harmony export */   isTypedArray: () => (/* binding */ isTypedArray),\n/* harmony export */   numberToBytes: () => (/* binding */ numberToBytes),\n/* harmony export */   padStart: () => (/* binding */ padStart),\n/* harmony export */   reverseBytes: () => (/* binding */ reverseBytes),\n/* harmony export */   sliceBytes: () => (/* binding */ sliceBytes),\n/* harmony export */   stringToBytes: () => (/* binding */ stringToBytes),\n/* harmony export */   toBinaryString: () => (/* binding */ toBinaryString),\n/* harmony export */   toHexString: () => (/* binding */ toHexString),\n/* harmony export */   toUint8: () => (/* binding */ toUint8)\n/* harmony export */ });\n/* harmony import */ var global_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! global/window */ \"(ssr)/../node_modules/global/window.js\");\n/* harmony import */ var global_window__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(global_window__WEBPACK_IMPORTED_MODULE_0__);\n // const log2 = Math.log2 ? Math.log2 : (x) => (Math.log(x) / Math.log(2));\nvar repeat = function repeat(str, len) {\n    var acc = \"\";\n    while(len--){\n        acc += str;\n    }\n    return acc;\n}; // count the number of bits it would take to represent a number\n// we used to do this with log2 but BigInt does not support builtin math\n// Math.ceil(log2(x));\nvar countBits = function countBits(x) {\n    return x.toString(2).length;\n}; // count the number of whole bytes it would take to represent a number\nvar countBytes = function countBytes(x) {\n    return Math.ceil(countBits(x) / 8);\n};\nvar padStart = function padStart(b, len, str) {\n    if (str === void 0) {\n        str = \" \";\n    }\n    return (repeat(str, len) + b.toString()).slice(-len);\n};\nvar isArrayBufferView = function isArrayBufferView(obj) {\n    if (ArrayBuffer.isView === \"function\") {\n        return ArrayBuffer.isView(obj);\n    }\n    return obj && obj.buffer instanceof ArrayBuffer;\n};\nvar isTypedArray = function isTypedArray(obj) {\n    return isArrayBufferView(obj);\n};\nvar toUint8 = function toUint8(bytes) {\n    if (bytes instanceof Uint8Array) {\n        return bytes;\n    }\n    if (!Array.isArray(bytes) && !isTypedArray(bytes) && !(bytes instanceof ArrayBuffer)) {\n        // any non-number or NaN leads to empty uint8array\n        // eslint-disable-next-line\n        if (typeof bytes !== \"number\" || typeof bytes === \"number\" && bytes !== bytes) {\n            bytes = 0;\n        } else {\n            bytes = [\n                bytes\n            ];\n        }\n    }\n    return new Uint8Array(bytes && bytes.buffer || bytes, bytes && bytes.byteOffset || 0, bytes && bytes.byteLength || 0);\n};\nvar toHexString = function toHexString(bytes) {\n    bytes = toUint8(bytes);\n    var str = \"\";\n    for(var i = 0; i < bytes.length; i++){\n        str += padStart(bytes[i].toString(16), 2, \"0\");\n    }\n    return str;\n};\nvar toBinaryString = function toBinaryString(bytes) {\n    bytes = toUint8(bytes);\n    var str = \"\";\n    for(var i = 0; i < bytes.length; i++){\n        str += padStart(bytes[i].toString(2), 8, \"0\");\n    }\n    return str;\n};\nvar BigInt = (global_window__WEBPACK_IMPORTED_MODULE_0___default().BigInt) || Number;\nvar BYTE_TABLE = [\n    BigInt(\"0x1\"),\n    BigInt(\"0x100\"),\n    BigInt(\"0x10000\"),\n    BigInt(\"0x1000000\"),\n    BigInt(\"0x100000000\"),\n    BigInt(\"0x10000000000\"),\n    BigInt(\"0x1000000000000\"),\n    BigInt(\"0x100000000000000\"),\n    BigInt(\"0x10000000000000000\")\n];\nvar ENDIANNESS = function() {\n    var a = new Uint16Array([\n        0xFFCC\n    ]);\n    var b = new Uint8Array(a.buffer, a.byteOffset, a.byteLength);\n    if (b[0] === 0xFF) {\n        return \"big\";\n    }\n    if (b[0] === 0xCC) {\n        return \"little\";\n    }\n    return \"unknown\";\n}();\nvar IS_BIG_ENDIAN = ENDIANNESS === \"big\";\nvar IS_LITTLE_ENDIAN = ENDIANNESS === \"little\";\nvar bytesToNumber = function bytesToNumber(bytes, _temp) {\n    var _ref = _temp === void 0 ? {} : _temp, _ref$signed = _ref.signed, signed = _ref$signed === void 0 ? false : _ref$signed, _ref$le = _ref.le, le = _ref$le === void 0 ? false : _ref$le;\n    bytes = toUint8(bytes);\n    var fn = le ? \"reduce\" : \"reduceRight\";\n    var obj = bytes[fn] ? bytes[fn] : Array.prototype[fn];\n    var number = obj.call(bytes, function(total, byte, i) {\n        var exponent = le ? i : Math.abs(i + 1 - bytes.length);\n        return total + BigInt(byte) * BYTE_TABLE[exponent];\n    }, BigInt(0));\n    if (signed) {\n        var max = BYTE_TABLE[bytes.length] / BigInt(2) - BigInt(1);\n        number = BigInt(number);\n        if (number > max) {\n            number -= max;\n            number -= max;\n            number -= BigInt(2);\n        }\n    }\n    return Number(number);\n};\nvar numberToBytes = function numberToBytes(number, _temp2) {\n    var _ref2 = _temp2 === void 0 ? {} : _temp2, _ref2$le = _ref2.le, le = _ref2$le === void 0 ? false : _ref2$le;\n    // eslint-disable-next-line\n    if (typeof number !== \"bigint\" && typeof number !== \"number\" || typeof number === \"number\" && number !== number) {\n        number = 0;\n    }\n    number = BigInt(number);\n    var byteCount = countBytes(number);\n    var bytes = new Uint8Array(new ArrayBuffer(byteCount));\n    for(var i = 0; i < byteCount; i++){\n        var byteIndex = le ? i : Math.abs(i + 1 - bytes.length);\n        bytes[byteIndex] = Number(number / BYTE_TABLE[i] & BigInt(0xFF));\n        if (number < 0) {\n            bytes[byteIndex] = Math.abs(~bytes[byteIndex]);\n            bytes[byteIndex] -= i === 0 ? 1 : 2;\n        }\n    }\n    return bytes;\n};\nvar bytesToString = function bytesToString(bytes) {\n    if (!bytes) {\n        return \"\";\n    } // TODO: should toUint8 handle cases where we only have 8 bytes\n    // but report more since this is a Uint16+ Array?\n    bytes = Array.prototype.slice.call(bytes);\n    var string = String.fromCharCode.apply(null, toUint8(bytes));\n    try {\n        return decodeURIComponent(escape(string));\n    } catch (e) {\n    // or full non string data. Just return the potentially garbled string.\n    }\n    return string;\n};\nvar stringToBytes = function stringToBytes(string, stringIsBytes) {\n    if (typeof string !== \"string\" && string && typeof string.toString === \"function\") {\n        string = string.toString();\n    }\n    if (typeof string !== \"string\") {\n        return new Uint8Array();\n    } // If the string already is bytes, we don't have to do this\n    // otherwise we do this so that we split multi length characters\n    // into individual bytes\n    if (!stringIsBytes) {\n        string = unescape(encodeURIComponent(string));\n    }\n    var view = new Uint8Array(string.length);\n    for(var i = 0; i < string.length; i++){\n        view[i] = string.charCodeAt(i);\n    }\n    return view;\n};\nvar concatTypedArrays = function concatTypedArrays() {\n    for(var _len = arguments.length, buffers = new Array(_len), _key = 0; _key < _len; _key++){\n        buffers[_key] = arguments[_key];\n    }\n    buffers = buffers.filter(function(b) {\n        return b && (b.byteLength || b.length) && typeof b !== \"string\";\n    });\n    if (buffers.length <= 1) {\n        // for 0 length we will return empty uint8\n        // for 1 length we return the first uint8\n        return toUint8(buffers[0]);\n    }\n    var totalLen = buffers.reduce(function(total, buf, i) {\n        return total + (buf.byteLength || buf.length);\n    }, 0);\n    var tempBuffer = new Uint8Array(totalLen);\n    var offset = 0;\n    buffers.forEach(function(buf) {\n        buf = toUint8(buf);\n        tempBuffer.set(buf, offset);\n        offset += buf.byteLength;\n    });\n    return tempBuffer;\n};\n/**\n * Check if the bytes \"b\" are contained within bytes \"a\".\n *\n * @param {Uint8Array|Array} a\n *        Bytes to check in\n *\n * @param {Uint8Array|Array} b\n *        Bytes to check for\n *\n * @param {Object} options\n *        options\n *\n * @param {Array|Uint8Array} [offset=0]\n *        offset to use when looking at bytes in a\n *\n * @param {Array|Uint8Array} [mask=[]]\n *        mask to use on bytes before comparison.\n *\n * @return {boolean}\n *         If all bytes in b are inside of a, taking into account\n *         bit masks.\n */ var bytesMatch = function bytesMatch(a, b, _temp3) {\n    var _ref3 = _temp3 === void 0 ? {} : _temp3, _ref3$offset = _ref3.offset, offset = _ref3$offset === void 0 ? 0 : _ref3$offset, _ref3$mask = _ref3.mask, mask = _ref3$mask === void 0 ? [] : _ref3$mask;\n    a = toUint8(a);\n    b = toUint8(b); // ie 11 does not support uint8 every\n    var fn = b.every ? b.every : Array.prototype.every;\n    return b.length && a.length - offset >= b.length && // ie 11 doesn't support every on uin8\n    fn.call(b, function(bByte, i) {\n        var aByte = mask[i] ? mask[i] & a[offset + i] : a[offset + i];\n        return bByte === aByte;\n    });\n};\nvar sliceBytes = function sliceBytes(src, start, end) {\n    if (Uint8Array.prototype.slice) {\n        return Uint8Array.prototype.slice.call(src, start, end);\n    }\n    return new Uint8Array(Array.prototype.slice.call(src, start, end));\n};\nvar reverseBytes = function reverseBytes(src) {\n    if (src.reverse) {\n        return src.reverse();\n    }\n    return Array.prototype.reverse.call(src);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9ieXRlLWhlbHBlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1DLENBQUMsMkVBQTJFO0FBRS9HLElBQUlDLFNBQVMsU0FBU0EsT0FBT0MsR0FBRyxFQUFFQyxHQUFHO0lBQ25DLElBQUlDLE1BQU07SUFFVixNQUFPRCxNQUFPO1FBQ1pDLE9BQU9GO0lBQ1Q7SUFFQSxPQUFPRTtBQUNULEdBQUcsK0RBQStEO0FBQ2xFLHdFQUF3RTtBQUN4RSxzQkFBc0I7QUFHZixJQUFJQyxZQUFZLFNBQVNBLFVBQVVDLENBQUM7SUFDekMsT0FBT0EsRUFBRUMsUUFBUSxDQUFDLEdBQUdDLE1BQU07QUFDN0IsRUFBRSxDQUFDLHNFQUFzRTtBQUVsRSxJQUFJQyxhQUFhLFNBQVNBLFdBQVdILENBQUM7SUFDM0MsT0FBT0ksS0FBS0MsSUFBSSxDQUFDTixVQUFVQyxLQUFLO0FBQ2xDLEVBQUU7QUFDSyxJQUFJTSxXQUFXLFNBQVNBLFNBQVNDLENBQUMsRUFBRVYsR0FBRyxFQUFFRCxHQUFHO0lBQ2pELElBQUlBLFFBQVEsS0FBSyxHQUFHO1FBQ2xCQSxNQUFNO0lBQ1I7SUFFQSxPQUFPLENBQUNELE9BQU9DLEtBQUtDLE9BQU9VLEVBQUVOLFFBQVEsRUFBQyxFQUFHTyxLQUFLLENBQUMsQ0FBQ1g7QUFDbEQsRUFBRTtBQUNLLElBQUlZLG9CQUFvQixTQUFTQSxrQkFBa0JDLEdBQUc7SUFDM0QsSUFBSUMsWUFBWUMsTUFBTSxLQUFLLFlBQVk7UUFDckMsT0FBT0QsWUFBWUMsTUFBTSxDQUFDRjtJQUM1QjtJQUVBLE9BQU9BLE9BQU9BLElBQUlHLE1BQU0sWUFBWUY7QUFDdEMsRUFBRTtBQUNLLElBQUlHLGVBQWUsU0FBU0EsYUFBYUosR0FBRztJQUNqRCxPQUFPRCxrQkFBa0JDO0FBQzNCLEVBQUU7QUFDSyxJQUFJSyxVQUFVLFNBQVNBLFFBQVFDLEtBQUs7SUFDekMs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cy92aHMtdXRpbHMvZXMvYnl0ZS1oZWxwZXJzLmpzPzQ2ZWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHdpbmRvdyBmcm9tICdnbG9iYWwvd2luZG93JzsgLy8gY29uc3QgbG9nMiA9IE1hdGgubG9nMiA/IE1hdGgubG9nMiA6ICh4KSA9PiAoTWF0aC5sb2coeCkgLyBNYXRoLmxvZygyKSk7XG5cbnZhciByZXBlYXQgPSBmdW5jdGlvbiByZXBlYXQoc3RyLCBsZW4pIHtcbiAgdmFyIGFjYyA9ICcnO1xuXG4gIHdoaWxlIChsZW4tLSkge1xuICAgIGFjYyArPSBzdHI7XG4gIH1cblxuICByZXR1cm4gYWNjO1xufTsgLy8gY291bnQgdGhlIG51bWJlciBvZiBiaXRzIGl0IHdvdWxkIHRha2UgdG8gcmVwcmVzZW50IGEgbnVtYmVyXG4vLyB3ZSB1c2VkIHRvIGRvIHRoaXMgd2l0aCBsb2cyIGJ1dCBCaWdJbnQgZG9lcyBub3Qgc3VwcG9ydCBidWlsdGluIG1hdGhcbi8vIE1hdGguY2VpbChsb2cyKHgpKTtcblxuXG5leHBvcnQgdmFyIGNvdW50Qml0cyA9IGZ1bmN0aW9uIGNvdW50Qml0cyh4KSB7XG4gIHJldHVybiB4LnRvU3RyaW5nKDIpLmxlbmd0aDtcbn07IC8vIGNvdW50IHRoZSBudW1iZXIgb2Ygd2hvbGUgYnl0ZXMgaXQgd291bGQgdGFrZSB0byByZXByZXNlbnQgYSBudW1iZXJcblxuZXhwb3J0IHZhciBjb3VudEJ5dGVzID0gZnVuY3Rpb24gY291bnRCeXRlcyh4KSB7XG4gIHJldHVybiBNYXRoLmNlaWwoY291bnRCaXRzKHgpIC8gOCk7XG59O1xuZXhwb3J0IHZhciBwYWRTdGFydCA9IGZ1bmN0aW9uIHBhZFN0YXJ0KGIsIGxlbiwgc3RyKSB7XG4gIGlmIChzdHIgPT09IHZvaWQgMCkge1xuICAgIHN0ciA9ICcgJztcbiAgfVxuXG4gIHJldHVybiAocmVwZWF0KHN0ciwgbGVuKSArIGIudG9TdHJpbmcoKSkuc2xpY2UoLWxlbik7XG59O1xuZXhwb3J0IHZhciBpc0FycmF5QnVmZmVyVmlldyA9IGZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KG9iaikge1xuICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyhvYmopO1xuICB9XG5cbiAgcmV0dXJuIG9iaiAmJiBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG59O1xuZXhwb3J0IHZhciBpc1R5cGVkQXJyYXkgPSBmdW5jdGlvbiBpc1R5cGVkQXJyYXkob2JqKSB7XG4gIHJldHVybiBpc0FycmF5QnVmZmVyVmlldyhvYmopO1xufTtcbmV4cG9ydCB2YXIgdG9VaW50OCA9IGZ1bmN0aW9uIHRvVWludDgoYnl0ZXMpIHtcbiAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgIHJldHVybiBieXRlcztcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShieXRlcykgJiYgIWlzVHlwZWRBcnJheShieXRlcykgJiYgIShieXRlcyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xuICAgIC8vIGFueSBub24tbnVtYmVyIG9yIE5hTiBsZWFkcyB0byBlbXB0eSB1aW50OGFycmF5XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgaWYgKHR5cGVvZiBieXRlcyAhPT0gJ251bWJlcicgfHwgdHlwZW9mIGJ5dGVzID09PSAnbnVtYmVyJyAmJiBieXRlcyAhPT0gYnl0ZXMpIHtcbiAgICAgIGJ5dGVzID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnl0ZXMgPSBbYnl0ZXNdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVWludDhBcnJheShieXRlcyAmJiBieXRlcy5idWZmZXIgfHwgYnl0ZXMsIGJ5dGVzICYmIGJ5dGVzLmJ5dGVPZmZzZXQgfHwgMCwgYnl0ZXMgJiYgYnl0ZXMuYnl0ZUxlbmd0aCB8fCAwKTtcbn07XG5leHBvcnQgdmFyIHRvSGV4U3RyaW5nID0gZnVuY3Rpb24gdG9IZXhTdHJpbmcoYnl0ZXMpIHtcbiAgYnl0ZXMgPSB0b1VpbnQ4KGJ5dGVzKTtcbiAgdmFyIHN0ciA9ICcnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBzdHIgKz0gcGFkU3RhcnQoYnl0ZXNbaV0udG9TdHJpbmcoMTYpLCAyLCAnMCcpO1xuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn07XG5leHBvcnQgdmFyIHRvQmluYXJ5U3RyaW5nID0gZnVuY3Rpb24gdG9CaW5hcnlTdHJpbmcoYnl0ZXMpIHtcbiAgYnl0ZXMgPSB0b1VpbnQ4KGJ5dGVzKTtcbiAgdmFyIHN0ciA9ICcnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBzdHIgKz0gcGFkU3RhcnQoYnl0ZXNbaV0udG9TdHJpbmcoMiksIDgsICcwJyk7XG4gIH1cblxuICByZXR1cm4gc3RyO1xufTtcbnZhciBCaWdJbnQgPSB3aW5kb3cuQmlnSW50IHx8IE51bWJlcjtcbnZhciBCWVRFX1RBQkxFID0gW0JpZ0ludCgnMHgxJyksIEJpZ0ludCgnMHgxMDAnKSwgQmlnSW50KCcweDEwMDAwJyksIEJpZ0ludCgnMHgxMDAwMDAwJyksIEJpZ0ludCgnMHgxMDAwMDAwMDAnKSwgQmlnSW50KCcweDEwMDAwMDAwMDAwJyksIEJpZ0ludCgnMHgxMDAwMDAwMDAwMDAwJyksIEJpZ0ludCgnMHgxMDAwMDAwMDAwMDAwMDAnKSwgQmlnSW50KCcweDEwMDAwMDAwMDAwMDAwMDAwJyldO1xuZXhwb3J0IHZhciBFTkRJQU5ORVNTID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYSA9IG5ldyBVaW50MTZBcnJheShbMHhGRkNDXSk7XG4gIHZhciBiID0gbmV3IFVpbnQ4QXJyYXkoYS5idWZmZXIsIGEuYnl0ZU9mZnNldCwgYS5ieXRlTGVuZ3RoKTtcblxuICBpZiAoYlswXSA9PT0gMHhGRikge1xuICAgIHJldHVybiAnYmlnJztcbiAgfVxuXG4gIGlmIChiWzBdID09PSAweENDKSB7XG4gICAgcmV0dXJuICdsaXR0bGUnO1xuICB9XG5cbiAgcmV0dXJuICd1bmtub3duJztcbn0oKTtcbmV4cG9ydCB2YXIgSVNfQklHX0VORElBTiA9IEVORElBTk5FU1MgPT09ICdiaWcnO1xuZXhwb3J0IHZhciBJU19MSVRUTEVfRU5ESUFOID0gRU5ESUFOTkVTUyA9PT0gJ2xpdHRsZSc7XG5leHBvcnQgdmFyIGJ5dGVzVG9OdW1iZXIgPSBmdW5jdGlvbiBieXRlc1RvTnVtYmVyKGJ5dGVzLCBfdGVtcCkge1xuICB2YXIgX3JlZiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgX3JlZiRzaWduZWQgPSBfcmVmLnNpZ25lZCxcbiAgICAgIHNpZ25lZCA9IF9yZWYkc2lnbmVkID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkc2lnbmVkLFxuICAgICAgX3JlZiRsZSA9IF9yZWYubGUsXG4gICAgICBsZSA9IF9yZWYkbGUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRsZTtcblxuICBieXRlcyA9IHRvVWludDgoYnl0ZXMpO1xuICB2YXIgZm4gPSBsZSA/ICdyZWR1Y2UnIDogJ3JlZHVjZVJpZ2h0JztcbiAgdmFyIG9iaiA9IGJ5dGVzW2ZuXSA/IGJ5dGVzW2ZuXSA6IEFycmF5LnByb3RvdHlwZVtmbl07XG4gIHZhciBudW1iZXIgPSBvYmouY2FsbChieXRlcywgZnVuY3Rpb24gKHRvdGFsLCBieXRlLCBpKSB7XG4gICAgdmFyIGV4cG9uZW50ID0gbGUgPyBpIDogTWF0aC5hYnMoaSArIDEgLSBieXRlcy5sZW5ndGgpO1xuICAgIHJldHVybiB0b3RhbCArIEJpZ0ludChieXRlKSAqIEJZVEVfVEFCTEVbZXhwb25lbnRdO1xuICB9LCBCaWdJbnQoMCkpO1xuXG4gIGlmIChzaWduZWQpIHtcbiAgICB2YXIgbWF4ID0gQllURV9UQUJMRVtieXRlcy5sZW5ndGhdIC8gQmlnSW50KDIpIC0gQmlnSW50KDEpO1xuICAgIG51bWJlciA9IEJpZ0ludChudW1iZXIpO1xuXG4gICAgaWYgKG51bWJlciA+IG1heCkge1xuICAgICAgbnVtYmVyIC09IG1heDtcbiAgICAgIG51bWJlciAtPSBtYXg7XG4gICAgICBudW1iZXIgLT0gQmlnSW50KDIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBOdW1iZXIobnVtYmVyKTtcbn07XG5leHBvcnQgdmFyIG51bWJlclRvQnl0ZXMgPSBmdW5jdGlvbiBudW1iZXJUb0J5dGVzKG51bWJlciwgX3RlbXAyKSB7XG4gIHZhciBfcmVmMiA9IF90ZW1wMiA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDIsXG4gICAgICBfcmVmMiRsZSA9IF9yZWYyLmxlLFxuICAgICAgbGUgPSBfcmVmMiRsZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMiRsZTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgaWYgKHR5cGVvZiBudW1iZXIgIT09ICdiaWdpbnQnICYmIHR5cGVvZiBudW1iZXIgIT09ICdudW1iZXInIHx8IHR5cGVvZiBudW1iZXIgPT09ICdudW1iZXInICYmIG51bWJlciAhPT0gbnVtYmVyKSB7XG4gICAgbnVtYmVyID0gMDtcbiAgfVxuXG4gIG51bWJlciA9IEJpZ0ludChudW1iZXIpO1xuICB2YXIgYnl0ZUNvdW50ID0gY291bnRCeXRlcyhudW1iZXIpO1xuICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIoYnl0ZUNvdW50KSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlQ291bnQ7IGkrKykge1xuICAgIHZhciBieXRlSW5kZXggPSBsZSA/IGkgOiBNYXRoLmFicyhpICsgMSAtIGJ5dGVzLmxlbmd0aCk7XG4gICAgYnl0ZXNbYnl0ZUluZGV4XSA9IE51bWJlcihudW1iZXIgLyBCWVRFX1RBQkxFW2ldICYgQmlnSW50KDB4RkYpKTtcblxuICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICBieXRlc1tieXRlSW5kZXhdID0gTWF0aC5hYnMofmJ5dGVzW2J5dGVJbmRleF0pO1xuICAgICAgYnl0ZXNbYnl0ZUluZGV4XSAtPSBpID09PSAwID8gMSA6IDI7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzO1xufTtcbmV4cG9ydCB2YXIgYnl0ZXNUb1N0cmluZyA9IGZ1bmN0aW9uIGJ5dGVzVG9TdHJpbmcoYnl0ZXMpIHtcbiAgaWYgKCFieXRlcykge1xuICAgIHJldHVybiAnJztcbiAgfSAvLyBUT0RPOiBzaG91bGQgdG9VaW50OCBoYW5kbGUgY2FzZXMgd2hlcmUgd2Ugb25seSBoYXZlIDggYnl0ZXNcbiAgLy8gYnV0IHJlcG9ydCBtb3JlIHNpbmNlIHRoaXMgaXMgYSBVaW50MTYrIEFycmF5P1xuXG5cbiAgYnl0ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChieXRlcyk7XG4gIHZhciBzdHJpbmcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHRvVWludDgoYnl0ZXMpKTtcblxuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKHN0cmluZykpO1xuICB9IGNhdGNoIChlKSB7Ly8gaWYgZGVjb2RlVVJJQ29tcG9uZW50L2VzY2FwZSBmYWlscywgd2UgYXJlIGRlYWxpbmcgd2l0aCBwYXJ0aWFsXG4gICAgLy8gb3IgZnVsbCBub24gc3RyaW5nIGRhdGEuIEp1c3QgcmV0dXJuIHRoZSBwb3RlbnRpYWxseSBnYXJibGVkIHN0cmluZy5cbiAgfVxuXG4gIHJldHVybiBzdHJpbmc7XG59O1xuZXhwb3J0IHZhciBzdHJpbmdUb0J5dGVzID0gZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHJpbmcsIHN0cmluZ0lzQnl0ZXMpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnICYmIHN0cmluZyAmJiB0eXBlb2Ygc3RyaW5nLnRvU3RyaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc3RyaW5nID0gc3RyaW5nLnRvU3RyaW5nKCk7XG4gIH1cblxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgfSAvLyBJZiB0aGUgc3RyaW5nIGFscmVhZHkgaXMgYnl0ZXMsIHdlIGRvbid0IGhhdmUgdG8gZG8gdGhpc1xuICAvLyBvdGhlcndpc2Ugd2UgZG8gdGhpcyBzbyB0aGF0IHdlIHNwbGl0IG11bHRpIGxlbmd0aCBjaGFyYWN0ZXJzXG4gIC8vIGludG8gaW5kaXZpZHVhbCBieXRlc1xuXG5cbiAgaWYgKCFzdHJpbmdJc0J5dGVzKSB7XG4gICAgc3RyaW5nID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykpO1xuICB9XG5cbiAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShzdHJpbmcubGVuZ3RoKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgIHZpZXdbaV0gPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgfVxuXG4gIHJldHVybiB2aWV3O1xufTtcbmV4cG9ydCB2YXIgY29uY2F0VHlwZWRBcnJheXMgPSBmdW5jdGlvbiBjb25jYXRUeXBlZEFycmF5cygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGJ1ZmZlcnMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYnVmZmVyc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGJ1ZmZlcnMgPSBidWZmZXJzLmZpbHRlcihmdW5jdGlvbiAoYikge1xuICAgIHJldHVybiBiICYmIChiLmJ5dGVMZW5ndGggfHwgYi5sZW5ndGgpICYmIHR5cGVvZiBiICE9PSAnc3RyaW5nJztcbiAgfSk7XG5cbiAgaWYgKGJ1ZmZlcnMubGVuZ3RoIDw9IDEpIHtcbiAgICAvLyBmb3IgMCBsZW5ndGggd2Ugd2lsbCByZXR1cm4gZW1wdHkgdWludDhcbiAgICAvLyBmb3IgMSBsZW5ndGggd2UgcmV0dXJuIHRoZSBmaXJzdCB1aW50OFxuICAgIHJldHVybiB0b1VpbnQ4KGJ1ZmZlcnNbMF0pO1xuICB9XG5cbiAgdmFyIHRvdGFsTGVuID0gYnVmZmVycy5yZWR1Y2UoZnVuY3Rpb24gKHRvdGFsLCBidWYsIGkpIHtcbiAgICByZXR1cm4gdG90YWwgKyAoYnVmLmJ5dGVMZW5ndGggfHwgYnVmLmxlbmd0aCk7XG4gIH0sIDApO1xuICB2YXIgdGVtcEJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHRvdGFsTGVuKTtcbiAgdmFyIG9mZnNldCA9IDA7XG4gIGJ1ZmZlcnMuZm9yRWFjaChmdW5jdGlvbiAoYnVmKSB7XG4gICAgYnVmID0gdG9VaW50OChidWYpO1xuICAgIHRlbXBCdWZmZXIuc2V0KGJ1Ziwgb2Zmc2V0KTtcbiAgICBvZmZzZXQgKz0gYnVmLmJ5dGVMZW5ndGg7XG4gIH0pO1xuICByZXR1cm4gdGVtcEJ1ZmZlcjtcbn07XG4vKipcbiAqIENoZWNrIGlmIHRoZSBieXRlcyBcImJcIiBhcmUgY29udGFpbmVkIHdpdGhpbiBieXRlcyBcImFcIi5cbiAqXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl8QXJyYXl9IGFcbiAqICAgICAgICBCeXRlcyB0byBjaGVjayBpblxuICpcbiAqIEBwYXJhbSB7VWludDhBcnJheXxBcnJheX0gYlxuICogICAgICAgIEJ5dGVzIHRvIGNoZWNrIGZvclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiAgICAgICAgb3B0aW9uc1xuICpcbiAqIEBwYXJhbSB7QXJyYXl8VWludDhBcnJheX0gW29mZnNldD0wXVxuICogICAgICAgIG9mZnNldCB0byB1c2Ugd2hlbiBsb29raW5nIGF0IGJ5dGVzIGluIGFcbiAqXG4gKiBAcGFyYW0ge0FycmF5fFVpbnQ4QXJyYXl9IFttYXNrPVtdXVxuICogICAgICAgIG1hc2sgdG8gdXNlIG9uIGJ5dGVzIGJlZm9yZSBjb21wYXJpc29uLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIElmIGFsbCBieXRlcyBpbiBiIGFyZSBpbnNpZGUgb2YgYSwgdGFraW5nIGludG8gYWNjb3VudFxuICogICAgICAgICBiaXQgbWFza3MuXG4gKi9cblxuZXhwb3J0IHZhciBieXRlc01hdGNoID0gZnVuY3Rpb24gYnl0ZXNNYXRjaChhLCBiLCBfdGVtcDMpIHtcbiAgdmFyIF9yZWYzID0gX3RlbXAzID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wMyxcbiAgICAgIF9yZWYzJG9mZnNldCA9IF9yZWYzLm9mZnNldCxcbiAgICAgIG9mZnNldCA9IF9yZWYzJG9mZnNldCA9PT0gdm9pZCAwID8gMCA6IF9yZWYzJG9mZnNldCxcbiAgICAgIF9yZWYzJG1hc2sgPSBfcmVmMy5tYXNrLFxuICAgICAgbWFzayA9IF9yZWYzJG1hc2sgPT09IHZvaWQgMCA/IFtdIDogX3JlZjMkbWFzaztcblxuICBhID0gdG9VaW50OChhKTtcbiAgYiA9IHRvVWludDgoYik7IC8vIGllIDExIGRvZXMgbm90IHN1cHBvcnQgdWludDggZXZlcnlcblxuICB2YXIgZm4gPSBiLmV2ZXJ5ID8gYi5ldmVyeSA6IEFycmF5LnByb3RvdHlwZS5ldmVyeTtcbiAgcmV0dXJuIGIubGVuZ3RoICYmIGEubGVuZ3RoIC0gb2Zmc2V0ID49IGIubGVuZ3RoICYmIC8vIGllIDExIGRvZXNuJ3Qgc3VwcG9ydCBldmVyeSBvbiB1aW44XG4gIGZuLmNhbGwoYiwgZnVuY3Rpb24gKGJCeXRlLCBpKSB7XG4gICAgdmFyIGFCeXRlID0gbWFza1tpXSA/IG1hc2tbaV0gJiBhW29mZnNldCArIGldIDogYVtvZmZzZXQgKyBpXTtcbiAgICByZXR1cm4gYkJ5dGUgPT09IGFCeXRlO1xuICB9KTtcbn07XG5leHBvcnQgdmFyIHNsaWNlQnl0ZXMgPSBmdW5jdGlvbiBzbGljZUJ5dGVzKHNyYywgc3RhcnQsIGVuZCkge1xuICBpZiAoVWludDhBcnJheS5wcm90b3R5cGUuc2xpY2UpIHtcbiAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChzcmMsIHN0YXJ0LCBlbmQpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHNyYywgc3RhcnQsIGVuZCkpO1xufTtcbmV4cG9ydCB2YXIgcmV2ZXJzZUJ5dGVzID0gZnVuY3Rpb24gcmV2ZXJzZUJ5dGVzKHNyYykge1xuICBpZiAoc3JjLnJldmVyc2UpIHtcbiAgICByZXR1cm4gc3JjLnJldmVyc2UoKTtcbiAgfVxuXG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUucmV2ZXJzZS5jYWxsKHNyYyk7XG59OyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJyZXBlYXQiLCJzdHIiLCJsZW4iLCJhY2MiLCJjb3VudEJpdHMiLCJ4IiwidG9TdHJpbmciLCJsZW5ndGgiLCJjb3VudEJ5dGVzIiwiTWF0aCIsImNlaWwiLCJwYWRTdGFydCIsImIiLCJzbGljZSIsImlzQXJyYXlCdWZmZXJWaWV3Iiwib2JqIiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJidWZmZXIiLCJpc1R5cGVkQXJyYXkiLCJ0b1VpbnQ4IiwiYnl0ZXMiLCJVaW50OEFycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJ0b0hleFN0cmluZyIsImkiLCJ0b0JpbmFyeVN0cmluZyIsIkJpZ0ludCIsIk51bWJlciIsIkJZVEVfVEFCTEUiLCJFTkRJQU5ORVNTIiwiYSIsIlVpbnQxNkFycmF5IiwiSVNfQklHX0VORElBTiIsIklTX0xJVFRMRV9FTkRJQU4iLCJieXRlc1RvTnVtYmVyIiwiX3RlbXAiLCJfcmVmIiwiX3JlZiRzaWduZWQiLCJzaWduZWQiLCJfcmVmJGxlIiwibGUiLCJmbiIsInByb3RvdHlwZSIsIm51bWJlciIsImNhbGwiLCJ0b3RhbCIsImJ5dGUiLCJleHBvbmVudCIsImFicyIsIm1heCIsIm51bWJlclRvQnl0ZXMiLCJfdGVtcDIiLCJfcmVmMiIsIl9yZWYyJGxlIiwiYnl0ZUNvdW50IiwiYnl0ZUluZGV4IiwiYnl0ZXNUb1N0cmluZyIsInN0cmluZyIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImFwcGx5IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZXNjYXBlIiwiZSIsInN0cmluZ1RvQnl0ZXMiLCJzdHJpbmdJc0J5dGVzIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ2aWV3IiwiY2hhckNvZGVBdCIsImNvbmNhdFR5cGVkQXJyYXlzIiwiX2xlbiIsImFyZ3VtZW50cyIsImJ1ZmZlcnMiLCJfa2V5IiwiZmlsdGVyIiwidG90YWxMZW4iLCJyZWR1Y2UiLCJidWYiLCJ0ZW1wQnVmZmVyIiwib2Zmc2V0IiwiZm9yRWFjaCIsInNldCIsImJ5dGVzTWF0Y2giLCJfdGVtcDMiLCJfcmVmMyIsIl9yZWYzJG9mZnNldCIsIl9yZWYzJG1hc2siLCJtYXNrIiwiZXZlcnkiLCJiQnl0ZSIsImFCeXRlIiwic2xpY2VCeXRlcyIsInNyYyIsInN0YXJ0IiwiZW5kIiwicmV2ZXJzZUJ5dGVzIiwicmV2ZXJzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/byte-helpers.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/codec-helpers.js":
/*!**************************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/codec-helpers.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAv1Codec: () => (/* binding */ getAv1Codec),\n/* harmony export */   getAvcCodec: () => (/* binding */ getAvcCodec),\n/* harmony export */   getHvcCodec: () => (/* binding */ getHvcCodec)\n/* harmony export */ });\n/* harmony import */ var _byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./byte-helpers.js */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/byte-helpers.js\");\n // https://aomediacodec.github.io/av1-isobmff/#av1codecconfigurationbox-syntax\n// https://developer.mozilla.org/en-US/docs/Web/Media/Formats/codecs_parameter#AV1\nvar getAv1Codec = function getAv1Codec(bytes) {\n    var codec = \"\";\n    var profile = bytes[1] >>> 3;\n    var level = bytes[1] & 0x1F;\n    var tier = bytes[2] >>> 7;\n    var highBitDepth = (bytes[2] & 0x40) >> 6;\n    var twelveBit = (bytes[2] & 0x20) >> 5;\n    var monochrome = (bytes[2] & 0x10) >> 4;\n    var chromaSubsamplingX = (bytes[2] & 0x08) >> 3;\n    var chromaSubsamplingY = (bytes[2] & 0x04) >> 2;\n    var chromaSamplePosition = bytes[2] & 0x03;\n    codec += profile + \".\" + (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.padStart)(level, 2, \"0\");\n    if (tier === 0) {\n        codec += \"M\";\n    } else if (tier === 1) {\n        codec += \"H\";\n    }\n    var bitDepth;\n    if (profile === 2 && highBitDepth) {\n        bitDepth = twelveBit ? 12 : 10;\n    } else {\n        bitDepth = highBitDepth ? 10 : 8;\n    }\n    codec += \".\" + (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.padStart)(bitDepth, 2, \"0\"); // TODO: can we parse color range??\n    codec += \".\" + monochrome;\n    codec += \".\" + chromaSubsamplingX + chromaSubsamplingY + chromaSamplePosition;\n    return codec;\n};\nvar getAvcCodec = function getAvcCodec(bytes) {\n    var profileId = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toHexString)(bytes[1]);\n    var constraintFlags = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toHexString)(bytes[2] & 0xFC);\n    var levelId = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toHexString)(bytes[3]);\n    return \"\" + profileId + constraintFlags + levelId;\n};\nvar getHvcCodec = function getHvcCodec(bytes) {\n    var codec = \"\";\n    var profileSpace = bytes[1] >> 6;\n    var profileId = bytes[1] & 0x1F;\n    var tierFlag = (bytes[1] & 0x20) >> 5;\n    var profileCompat = bytes.subarray(2, 6);\n    var constraintIds = bytes.subarray(6, 12);\n    var levelId = bytes[12];\n    if (profileSpace === 1) {\n        codec += \"A\";\n    } else if (profileSpace === 2) {\n        codec += \"B\";\n    } else if (profileSpace === 3) {\n        codec += \"C\";\n    }\n    codec += profileId + \".\"; // ffmpeg does this in big endian\n    var profileCompatVal = parseInt((0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toBinaryString)(profileCompat).split(\"\").reverse().join(\"\"), 2); // apple does this in little endian...\n    if (profileCompatVal > 255) {\n        profileCompatVal = parseInt((0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toBinaryString)(profileCompat), 2);\n    }\n    codec += profileCompatVal.toString(16) + \".\";\n    if (tierFlag === 0) {\n        codec += \"L\";\n    } else {\n        codec += \"H\";\n    }\n    codec += levelId;\n    var constraints = \"\";\n    for(var i = 0; i < constraintIds.length; i++){\n        var v = constraintIds[i];\n        if (v) {\n            if (constraints) {\n                constraints += \".\";\n            }\n            constraints += v.toString(16);\n        }\n    }\n    if (constraints) {\n        codec += \".\" + constraints;\n    }\n    return codec;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9jb2RlYy1oZWxwZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMEUsQ0FBQyw4RUFBOEU7QUFDekosa0ZBQWtGO0FBRTNFLElBQUlHLGNBQWMsU0FBU0EsWUFBWUMsS0FBSztJQUNqRCxJQUFJQyxRQUFRO0lBQ1osSUFBSUMsVUFBVUYsS0FBSyxDQUFDLEVBQUUsS0FBSztJQUMzQixJQUFJRyxRQUFRSCxLQUFLLENBQUMsRUFBRSxHQUFHO0lBQ3ZCLElBQUlJLE9BQU9KLEtBQUssQ0FBQyxFQUFFLEtBQUs7SUFDeEIsSUFBSUssZUFBZSxDQUFDTCxLQUFLLENBQUMsRUFBRSxHQUFHLElBQUcsS0FBTTtJQUN4QyxJQUFJTSxZQUFZLENBQUNOLEtBQUssQ0FBQyxFQUFFLEdBQUcsSUFBRyxLQUFNO0lBQ3JDLElBQUlPLGFBQWEsQ0FBQ1AsS0FBSyxDQUFDLEVBQUUsR0FBRyxJQUFHLEtBQU07SUFDdEMsSUFBSVEscUJBQXFCLENBQUNSLEtBQUssQ0FBQyxFQUFFLEdBQUcsSUFBRyxLQUFNO0lBQzlDLElBQUlTLHFCQUFxQixDQUFDVCxLQUFLLENBQUMsRUFBRSxHQUFHLElBQUcsS0FBTTtJQUM5QyxJQUFJVSx1QkFBdUJWLEtBQUssQ0FBQyxFQUFFLEdBQUc7SUFDdENDLFNBQVNDLFVBQVUsTUFBTU4sMERBQVFBLENBQUNPLE9BQU8sR0FBRztJQUU1QyxJQUFJQyxTQUFTLEdBQUc7UUFDZEgsU0FBUztJQUNYLE9BQU8sSUFBSUcsU0FBUyxHQUFHO1FBQ3JCSCxTQUFTO0lBQ1g7SUFFQSxJQUFJVTtJQUVKLElBQUlULFlBQVksS0FBS0csY0FBYztRQUNqQ00sV0FBV0wsWUFBWSxLQUFLO0lBQzlCLE9BQU87UUFDTEssV0FBV04sZUFBZSxLQUFLO0lBQ2pDO0lBRUFKLFNBQVMsTUFBTUwsMERBQVFBLENBQUNlLFVBQVUsR0FBRyxNQUFNLG1DQUFtQztJQUU5RVYsU0FBUyxNQUFNTTtJQUNmTixTQUFTLE1BQU1PLHFCQUFxQkMscUJBQXFCQztJQUN6RCxPQUFPVDtBQUNULEVBQUU7QUFDSyxJQUFJVyxjQUFjLFNBQVNBLFlBQVlaLEtBQUs7SUFDakQsSUFBSWEsWUFBWWhCLDZEQUFXQSxDQUFDRyxLQUFLLENBQUMsRUFBRTtJQUNwQyxJQUFJYyxrQkFBa0JqQiw2REFBV0EsQ0FBQ0csS0FBSyxDQUFDLEVBQUUsR0FBRztJQUM3QyxJQUFJZSxVQUFVbEIsNkRBQVdBLENBQUNHLEtBQUssQ0FBQyxFQUFFO0lBQ2xDLE9BQU8sS0FBS2EsWUFBWUMsa0JBQWtCQztBQUM1QyxFQUFFO0FBQ0ssSUFBSUMsY0FBYyxTQUFTQSxZQUFZaEIsS0FBSztJQUNqRCxJQUFJQyxRQUFRO0lBQ1osSUFBSWdCLGVBQWVqQixLQUFLLENBQUMsRUFBRSxJQUFJO0lBQy9CLElBQUlhLFlBQVliLEtBQUssQ0FBQyxFQUFFLEdBQUc7SUFDM0IsSUFBSWtCLFdBQVcsQ0FBQ2xCLEtBQUssQ0FBQyxFQUFFLEdBQUcsSUFBRyxLQUFNO0lBQ3BDLElBQUltQixnQkFBZ0JuQixNQUFNb0IsUUFBUSxDQUFDLEdBQUc7SUFDdEMsSUFBSUMsZ0JBQWdCckIsTUFBTW9CLFFBQVEsQ0FBQyxHQUFHO0lBQ3RDLElBQUlMLFVBQVVmLEtBQUssQ0FBQyxHQUFHO0lBRXZCLElBQUlpQixpQkFBaUIsR0FBRztRQUN0QmhCLFNBQVM7SUFDWCxPQUFPLElBQUlnQixpQkFBaUIsR0FBRztRQUM3QmhCLFNBQVM7SUFDWCxPQUFPLElBQUlnQixpQkFBaUIsR0FBRztRQUM3QmhCLFNBQVM7SUFDWDtJQUVBQSxTQUFTWSxZQUFZLEtBQUssaUNBQWlDO0lBRTNELElBQUlTLG1CQUFtQkMsU0FBU3pCLGdFQUFjQSxDQUFDcUIsZUFBZUssS0FBSyxDQUFDLElBQUlDLE9BQU8sR0FBR0MsSUFBSSxDQUFDLEtBQUssSUFBSSxzQ0FBc0M7SUFFdEksSUFBSUosbUJBQW1CLEtBQUs7UUFDMUJBLG1CQUFtQkMsU0FBU3pCLGdFQUFjQSxDQUFDcUIsZ0JBQWdCO0lBQzdEO0lBRUFsQixTQUFTcUIsaUJBQWlCSyxRQUFRLENBQUMsTUFBTTtJQUV6QyxJQUFJVCxhQUFhLEdBQUc7UUFDbEJqQixTQUFTO0lBQ1gsT0FBTztRQUNMQSxTQUFTO0lBQ1g7SUFFQUEsU0FBU2M7SUFDVCxJQUFJYSxjQUFjO0lBRWxCLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJUixjQUFjUyxNQUFNLEVBQUVELElBQUs7UUFDN0MsSUFBSUUsSUFBSVYsYUFBYSxDQUFDUSxFQUFFO1FBRXhCLElBQUlFLEdBQUc7WUFDTCxJQUFJSCxhQUFhO2dCQUNmQSxlQUFlO1lBQ2pCO1lBRUFBLGVBQWVHLEVBQUVKLFFBQVEsQ0FBQztRQUM1QjtJQUNGO0lBRUEsSUFBSUMsYUFBYTtRQUNmM0IsU0FBUyxNQUFNMkI7SUFDakI7SUFFQSxPQUFPM0I7QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJlZXplLW5leHQvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9jb2RlYy1oZWxwZXJzLmpzP2YwNmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFkU3RhcnQsIHRvSGV4U3RyaW5nLCB0b0JpbmFyeVN0cmluZyB9IGZyb20gJy4vYnl0ZS1oZWxwZXJzLmpzJzsgLy8gaHR0cHM6Ly9hb21lZGlhY29kZWMuZ2l0aHViLmlvL2F2MS1pc29ibWZmLyNhdjFjb2RlY2NvbmZpZ3VyYXRpb25ib3gtc3ludGF4XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9NZWRpYS9Gb3JtYXRzL2NvZGVjc19wYXJhbWV0ZXIjQVYxXG5cbmV4cG9ydCB2YXIgZ2V0QXYxQ29kZWMgPSBmdW5jdGlvbiBnZXRBdjFDb2RlYyhieXRlcykge1xuICB2YXIgY29kZWMgPSAnJztcbiAgdmFyIHByb2ZpbGUgPSBieXRlc1sxXSA+Pj4gMztcbiAgdmFyIGxldmVsID0gYnl0ZXNbMV0gJiAweDFGO1xuICB2YXIgdGllciA9IGJ5dGVzWzJdID4+PiA3O1xuICB2YXIgaGlnaEJpdERlcHRoID0gKGJ5dGVzWzJdICYgMHg0MCkgPj4gNjtcbiAgdmFyIHR3ZWx2ZUJpdCA9IChieXRlc1syXSAmIDB4MjApID4+IDU7XG4gIHZhciBtb25vY2hyb21lID0gKGJ5dGVzWzJdICYgMHgxMCkgPj4gNDtcbiAgdmFyIGNocm9tYVN1YnNhbXBsaW5nWCA9IChieXRlc1syXSAmIDB4MDgpID4+IDM7XG4gIHZhciBjaHJvbWFTdWJzYW1wbGluZ1kgPSAoYnl0ZXNbMl0gJiAweDA0KSA+PiAyO1xuICB2YXIgY2hyb21hU2FtcGxlUG9zaXRpb24gPSBieXRlc1syXSAmIDB4MDM7XG4gIGNvZGVjICs9IHByb2ZpbGUgKyBcIi5cIiArIHBhZFN0YXJ0KGxldmVsLCAyLCAnMCcpO1xuXG4gIGlmICh0aWVyID09PSAwKSB7XG4gICAgY29kZWMgKz0gJ00nO1xuICB9IGVsc2UgaWYgKHRpZXIgPT09IDEpIHtcbiAgICBjb2RlYyArPSAnSCc7XG4gIH1cblxuICB2YXIgYml0RGVwdGg7XG5cbiAgaWYgKHByb2ZpbGUgPT09IDIgJiYgaGlnaEJpdERlcHRoKSB7XG4gICAgYml0RGVwdGggPSB0d2VsdmVCaXQgPyAxMiA6IDEwO1xuICB9IGVsc2Uge1xuICAgIGJpdERlcHRoID0gaGlnaEJpdERlcHRoID8gMTAgOiA4O1xuICB9XG5cbiAgY29kZWMgKz0gXCIuXCIgKyBwYWRTdGFydChiaXREZXB0aCwgMiwgJzAnKTsgLy8gVE9ETzogY2FuIHdlIHBhcnNlIGNvbG9yIHJhbmdlPz9cblxuICBjb2RlYyArPSBcIi5cIiArIG1vbm9jaHJvbWU7XG4gIGNvZGVjICs9IFwiLlwiICsgY2hyb21hU3Vic2FtcGxpbmdYICsgY2hyb21hU3Vic2FtcGxpbmdZICsgY2hyb21hU2FtcGxlUG9zaXRpb247XG4gIHJldHVybiBjb2RlYztcbn07XG5leHBvcnQgdmFyIGdldEF2Y0NvZGVjID0gZnVuY3Rpb24gZ2V0QXZjQ29kZWMoYnl0ZXMpIHtcbiAgdmFyIHByb2ZpbGVJZCA9IHRvSGV4U3RyaW5nKGJ5dGVzWzFdKTtcbiAgdmFyIGNvbnN0cmFpbnRGbGFncyA9IHRvSGV4U3RyaW5nKGJ5dGVzWzJdICYgMHhGQyk7XG4gIHZhciBsZXZlbElkID0gdG9IZXhTdHJpbmcoYnl0ZXNbM10pO1xuICByZXR1cm4gXCJcIiArIHByb2ZpbGVJZCArIGNvbnN0cmFpbnRGbGFncyArIGxldmVsSWQ7XG59O1xuZXhwb3J0IHZhciBnZXRIdmNDb2RlYyA9IGZ1bmN0aW9uIGdldEh2Y0NvZGVjKGJ5dGVzKSB7XG4gIHZhciBjb2RlYyA9ICcnO1xuICB2YXIgcHJvZmlsZVNwYWNlID0gYnl0ZXNbMV0gPj4gNjtcbiAgdmFyIHByb2ZpbGVJZCA9IGJ5dGVzWzFdICYgMHgxRjtcbiAgdmFyIHRpZXJGbGFnID0gKGJ5dGVzWzFdICYgMHgyMCkgPj4gNTtcbiAgdmFyIHByb2ZpbGVDb21wYXQgPSBieXRlcy5zdWJhcnJheSgyLCA2KTtcbiAgdmFyIGNvbnN0cmFpbnRJZHMgPSBieXRlcy5zdWJhcnJheSg2LCAxMik7XG4gIHZhciBsZXZlbElkID0gYnl0ZXNbMTJdO1xuXG4gIGlmIChwcm9maWxlU3BhY2UgPT09IDEpIHtcbiAgICBjb2RlYyArPSAnQSc7XG4gIH0gZWxzZSBpZiAocHJvZmlsZVNwYWNlID09PSAyKSB7XG4gICAgY29kZWMgKz0gJ0InO1xuICB9IGVsc2UgaWYgKHByb2ZpbGVTcGFjZSA9PT0gMykge1xuICAgIGNvZGVjICs9ICdDJztcbiAgfVxuXG4gIGNvZGVjICs9IHByb2ZpbGVJZCArIFwiLlwiOyAvLyBmZm1wZWcgZG9lcyB0aGlzIGluIGJpZyBlbmRpYW5cblxuICB2YXIgcHJvZmlsZUNvbXBhdFZhbCA9IHBhcnNlSW50KHRvQmluYXJ5U3RyaW5nKHByb2ZpbGVDb21wYXQpLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyksIDIpOyAvLyBhcHBsZSBkb2VzIHRoaXMgaW4gbGl0dGxlIGVuZGlhbi4uLlxuXG4gIGlmIChwcm9maWxlQ29tcGF0VmFsID4gMjU1KSB7XG4gICAgcHJvZmlsZUNvbXBhdFZhbCA9IHBhcnNlSW50KHRvQmluYXJ5U3RyaW5nKHByb2ZpbGVDb21wYXQpLCAyKTtcbiAgfVxuXG4gIGNvZGVjICs9IHByb2ZpbGVDb21wYXRWYWwudG9TdHJpbmcoMTYpICsgXCIuXCI7XG5cbiAgaWYgKHRpZXJGbGFnID09PSAwKSB7XG4gICAgY29kZWMgKz0gJ0wnO1xuICB9IGVsc2Uge1xuICAgIGNvZGVjICs9ICdIJztcbiAgfVxuXG4gIGNvZGVjICs9IGxldmVsSWQ7XG4gIHZhciBjb25zdHJhaW50cyA9ICcnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY29uc3RyYWludElkcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB2ID0gY29uc3RyYWludElkc1tpXTtcblxuICAgIGlmICh2KSB7XG4gICAgICBpZiAoY29uc3RyYWludHMpIHtcbiAgICAgICAgY29uc3RyYWludHMgKz0gJy4nO1xuICAgICAgfVxuXG4gICAgICBjb25zdHJhaW50cyArPSB2LnRvU3RyaW5nKDE2KTtcbiAgICB9XG4gIH1cblxuICBpZiAoY29uc3RyYWludHMpIHtcbiAgICBjb2RlYyArPSBcIi5cIiArIGNvbnN0cmFpbnRzO1xuICB9XG5cbiAgcmV0dXJuIGNvZGVjO1xufTsiXSwibmFtZXMiOlsicGFkU3RhcnQiLCJ0b0hleFN0cmluZyIsInRvQmluYXJ5U3RyaW5nIiwiZ2V0QXYxQ29kZWMiLCJieXRlcyIsImNvZGVjIiwicHJvZmlsZSIsImxldmVsIiwidGllciIsImhpZ2hCaXREZXB0aCIsInR3ZWx2ZUJpdCIsIm1vbm9jaHJvbWUiLCJjaHJvbWFTdWJzYW1wbGluZ1giLCJjaHJvbWFTdWJzYW1wbGluZ1kiLCJjaHJvbWFTYW1wbGVQb3NpdGlvbiIsImJpdERlcHRoIiwiZ2V0QXZjQ29kZWMiLCJwcm9maWxlSWQiLCJjb25zdHJhaW50RmxhZ3MiLCJsZXZlbElkIiwiZ2V0SHZjQ29kZWMiLCJwcm9maWxlU3BhY2UiLCJ0aWVyRmxhZyIsInByb2ZpbGVDb21wYXQiLCJzdWJhcnJheSIsImNvbnN0cmFpbnRJZHMiLCJwcm9maWxlQ29tcGF0VmFsIiwicGFyc2VJbnQiLCJzcGxpdCIsInJldmVyc2UiLCJqb2luIiwidG9TdHJpbmciLCJjb25zdHJhaW50cyIsImkiLCJsZW5ndGgiLCJ2Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/codec-helpers.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/codecs.js":
/*!*******************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/codecs.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_AUDIO_CODEC: () => (/* binding */ DEFAULT_AUDIO_CODEC),\n/* harmony export */   DEFAULT_VIDEO_CODEC: () => (/* binding */ DEFAULT_VIDEO_CODEC),\n/* harmony export */   browserSupportsCodec: () => (/* binding */ browserSupportsCodec),\n/* harmony export */   codecsFromDefault: () => (/* binding */ codecsFromDefault),\n/* harmony export */   getMimeForCodec: () => (/* binding */ getMimeForCodec),\n/* harmony export */   isAudioCodec: () => (/* binding */ isAudioCodec),\n/* harmony export */   isTextCodec: () => (/* binding */ isTextCodec),\n/* harmony export */   isVideoCodec: () => (/* binding */ isVideoCodec),\n/* harmony export */   mapLegacyAvcCodecs: () => (/* binding */ mapLegacyAvcCodecs),\n/* harmony export */   muxerSupportsCodec: () => (/* binding */ muxerSupportsCodec),\n/* harmony export */   parseCodecs: () => (/* binding */ parseCodecs),\n/* harmony export */   translateLegacyCodec: () => (/* binding */ translateLegacyCodec),\n/* harmony export */   translateLegacyCodecs: () => (/* binding */ translateLegacyCodecs)\n/* harmony export */ });\n/* harmony import */ var global_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! global/window */ \"(ssr)/../node_modules/global/window.js\");\n/* harmony import */ var global_window__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(global_window__WEBPACK_IMPORTED_MODULE_0__);\n\nvar regexs = {\n    // to determine mime types\n    mp4: /^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,\n    webm: /^(vp0?[89]|av0?1|opus|vorbis)/,\n    ogg: /^(vp0?[89]|theora|flac|opus|vorbis)/,\n    // to determine if a codec is audio or video\n    video: /^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,\n    audio: /^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,\n    text: /^(stpp.ttml.im1t)/,\n    // mux.js support regex\n    muxerVideo: /^(avc0?1)/,\n    muxerAudio: /^(mp4a)/,\n    // match nothing as muxer does not support text right now.\n    // there cannot never be a character before the start of a string\n    // so this matches nothing.\n    muxerText: /a^/\n};\nvar mediaTypes = [\n    \"video\",\n    \"audio\",\n    \"text\"\n];\nvar upperMediaTypes = [\n    \"Video\",\n    \"Audio\",\n    \"Text\"\n];\n/**\n * Replace the old apple-style `avc1.<dd>.<dd>` codec string with the standard\n * `avc1.<hhhhhh>`\n *\n * @param {string} codec\n *        Codec string to translate\n * @return {string}\n *         The translated codec string\n */ var translateLegacyCodec = function translateLegacyCodec(codec) {\n    if (!codec) {\n        return codec;\n    }\n    return codec.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function(orig, profile, avcLevel) {\n        var profileHex = (\"00\" + Number(profile).toString(16)).slice(-2);\n        var avcLevelHex = (\"00\" + Number(avcLevel).toString(16)).slice(-2);\n        return \"avc1.\" + profileHex + \"00\" + avcLevelHex;\n    });\n};\n/**\n * Replace the old apple-style `avc1.<dd>.<dd>` codec strings with the standard\n * `avc1.<hhhhhh>`\n *\n * @param {string[]} codecs\n *        An array of codec strings to translate\n * @return {string[]}\n *         The translated array of codec strings\n */ var translateLegacyCodecs = function translateLegacyCodecs(codecs) {\n    return codecs.map(translateLegacyCodec);\n};\n/**\n * Replace codecs in the codec string with the old apple-style `avc1.<dd>.<dd>` to the\n * standard `avc1.<hhhhhh>`.\n *\n * @param {string} codecString\n *        The codec string\n * @return {string}\n *         The codec string with old apple-style codecs replaced\n *\n * @private\n */ var mapLegacyAvcCodecs = function mapLegacyAvcCodecs(codecString) {\n    return codecString.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function(match) {\n        return translateLegacyCodecs([\n            match\n        ])[0];\n    });\n};\n/**\n * @typedef {Object} ParsedCodecInfo\n * @property {number} codecCount\n *           Number of codecs parsed\n * @property {string} [videoCodec]\n *           Parsed video codec (if found)\n * @property {string} [videoObjectTypeIndicator]\n *           Video object type indicator (if found)\n * @property {string|null} audioProfile\n *           Audio profile\n */ /**\n * Parses a codec string to retrieve the number of codecs specified, the video codec and\n * object type indicator, and the audio profile.\n *\n * @param {string} [codecString]\n *        The codec string to parse\n * @return {ParsedCodecInfo}\n *         Parsed codec info\n */ var parseCodecs = function parseCodecs(codecString) {\n    if (codecString === void 0) {\n        codecString = \"\";\n    }\n    var codecs = codecString.split(\",\");\n    var result = [];\n    codecs.forEach(function(codec) {\n        codec = codec.trim();\n        var codecType;\n        mediaTypes.forEach(function(name) {\n            var match = regexs[name].exec(codec.toLowerCase());\n            if (!match || match.length <= 1) {\n                return;\n            }\n            codecType = name; // maintain codec case\n            var type = codec.substring(0, match[1].length);\n            var details = codec.replace(type, \"\");\n            result.push({\n                type: type,\n                details: details,\n                mediaType: name\n            });\n        });\n        if (!codecType) {\n            result.push({\n                type: codec,\n                details: \"\",\n                mediaType: \"unknown\"\n            });\n        }\n    });\n    return result;\n};\n/**\n * Returns a ParsedCodecInfo object for the default alternate audio playlist if there is\n * a default alternate audio playlist for the provided audio group.\n *\n * @param {Object} master\n *        The master playlist\n * @param {string} audioGroupId\n *        ID of the audio group for which to find the default codec info\n * @return {ParsedCodecInfo}\n *         Parsed codec info\n */ var codecsFromDefault = function codecsFromDefault(master, audioGroupId) {\n    if (!master.mediaGroups.AUDIO || !audioGroupId) {\n        return null;\n    }\n    var audioGroup = master.mediaGroups.AUDIO[audioGroupId];\n    if (!audioGroup) {\n        return null;\n    }\n    for(var name in audioGroup){\n        var audioType = audioGroup[name];\n        if (audioType.default && audioType.playlists) {\n            // codec should be the same for all playlists within the audio type\n            return parseCodecs(audioType.playlists[0].attributes.CODECS);\n        }\n    }\n    return null;\n};\nvar isVideoCodec = function isVideoCodec(codec) {\n    if (codec === void 0) {\n        codec = \"\";\n    }\n    return regexs.video.test(codec.trim().toLowerCase());\n};\nvar isAudioCodec = function isAudioCodec(codec) {\n    if (codec === void 0) {\n        codec = \"\";\n    }\n    return regexs.audio.test(codec.trim().toLowerCase());\n};\nvar isTextCodec = function isTextCodec(codec) {\n    if (codec === void 0) {\n        codec = \"\";\n    }\n    return regexs.text.test(codec.trim().toLowerCase());\n};\nvar getMimeForCodec = function getMimeForCodec(codecString) {\n    if (!codecString || typeof codecString !== \"string\") {\n        return;\n    }\n    var codecs = codecString.toLowerCase().split(\",\").map(function(c) {\n        return translateLegacyCodec(c.trim());\n    }); // default to video type\n    var type = \"video\"; // only change to audio type if the only codec we have is\n    // audio\n    if (codecs.length === 1 && isAudioCodec(codecs[0])) {\n        type = \"audio\";\n    } else if (codecs.length === 1 && isTextCodec(codecs[0])) {\n        // text uses application/<container> for now\n        type = \"application\";\n    } // default the container to mp4\n    var container = \"mp4\"; // every codec must be able to go into the container\n    // for that container to be the correct one\n    if (codecs.every(function(c) {\n        return regexs.mp4.test(c);\n    })) {\n        container = \"mp4\";\n    } else if (codecs.every(function(c) {\n        return regexs.webm.test(c);\n    })) {\n        container = \"webm\";\n    } else if (codecs.every(function(c) {\n        return regexs.ogg.test(c);\n    })) {\n        container = \"ogg\";\n    }\n    return type + \"/\" + container + ';codecs=\"' + codecString + '\"';\n};\nvar browserSupportsCodec = function browserSupportsCodec(codecString) {\n    if (codecString === void 0) {\n        codecString = \"\";\n    }\n    return (global_window__WEBPACK_IMPORTED_MODULE_0___default().MediaSource) && (global_window__WEBPACK_IMPORTED_MODULE_0___default().MediaSource).isTypeSupported && global_window__WEBPACK_IMPORTED_MODULE_0___default().MediaSource.isTypeSupported(getMimeForCodec(codecString)) || false;\n};\nvar muxerSupportsCodec = function muxerSupportsCodec(codecString) {\n    if (codecString === void 0) {\n        codecString = \"\";\n    }\n    return codecString.toLowerCase().split(\",\").every(function(codec) {\n        codec = codec.trim(); // any match is supported.\n        for(var i = 0; i < upperMediaTypes.length; i++){\n            var type = upperMediaTypes[i];\n            if (regexs[\"muxer\" + type].test(codec)) {\n                return true;\n            }\n        }\n        return false;\n    });\n};\nvar DEFAULT_AUDIO_CODEC = \"mp4a.40.2\";\nvar DEFAULT_VIDEO_CODEC = \"avc1.4d400d\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9jb2RlY3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1DO0FBQ25DLElBQUlDLFNBQVM7SUFDWCwwQkFBMEI7SUFDMUJDLEtBQUs7SUFDTEMsTUFBTTtJQUNOQyxLQUFLO0lBQ0wsNENBQTRDO0lBQzVDQyxPQUFPO0lBQ1BDLE9BQU87SUFDUEMsTUFBTTtJQUNOLHVCQUF1QjtJQUN2QkMsWUFBWTtJQUNaQyxZQUFZO0lBQ1osMERBQTBEO0lBQzFELGlFQUFpRTtJQUNqRSwyQkFBMkI7SUFDM0JDLFdBQVc7QUFDYjtBQUNBLElBQUlDLGFBQWE7SUFBQztJQUFTO0lBQVM7Q0FBTztBQUMzQyxJQUFJQyxrQkFBa0I7SUFBQztJQUFTO0lBQVM7Q0FBTztBQUNoRDs7Ozs7Ozs7Q0FRQyxHQUVNLElBQUlDLHVCQUF1QixTQUFTQSxxQkFBcUJDLEtBQUs7SUFDbkUsSUFBSSxDQUFDQSxPQUFPO1FBQ1YsT0FBT0E7SUFDVDtJQUVBLE9BQU9BLE1BQU1DLE9BQU8sQ0FBQyx1QkFBdUIsU0FBVUMsSUFBSSxFQUFFQyxPQUFPLEVBQUVDLFFBQVE7UUFDM0UsSUFBSUMsYUFBYSxDQUFDLE9BQU9DLE9BQU9ILFNBQVNJLFFBQVEsQ0FBQyxHQUFFLEVBQUdDLEtBQUssQ0FBQyxDQUFDO1FBQzlELElBQUlDLGNBQWMsQ0FBQyxPQUFPSCxPQUFPRixVQUFVRyxRQUFRLENBQUMsR0FBRSxFQUFHQyxLQUFLLENBQUMsQ0FBQztRQUNoRSxPQUFPLFVBQVVILGFBQWEsT0FBT0k7SUFDdkM7QUFDRixFQUFFO0FBQ0Y7Ozs7Ozs7O0NBUUMsR0FFTSxJQUFJQyx3QkFBd0IsU0FBU0Esc0JBQXNCQyxNQUFNO0lBQ3RFLE9BQU9BLE9BQU9DLEdBQUcsQ0FBQ2I7QUFDcEIsRUFBRTtBQUNGOzs7Ozs7Ozs7O0NBVUMsR0FFTSxJQUFJYyxxQkFBcUIsU0FBU0EsbUJBQW1CQyxXQUFXO0lBQ3JFLE9B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Q2tFLGVBQWUsSUFBSWxFLGdFQUFrQixDQUFDa0UsZUFBZSxDQUFDTixnQkFBZ0JoQyxpQkFBaUI7QUFDekksRUFBRTtBQUNLLElBQUl1QyxxQkFBcUIsU0FBU0EsbUJBQW1CdkMsV0FBVztJQUNyRSxJQUFJQSxnQkFBZ0IsS0FBSyxHQUFHO1FBQzFCQSxjQUFjO0lBQ2hCO0lBRUEsT0FBT0EsWUFBWVUsV0FBVyxHQUFHUCxLQUFLLENBQUMsS0FBS2dDLEtBQUssQ0FBQyxTQUFVakQsS0FBSztRQUMvREEsUUFBUUEsTUFBTW9CLElBQUksSUFBSSwwQkFBMEI7UUFFaEQsSUFBSyxJQUFJa0MsSUFBSSxHQUFHQSxJQUFJeEQsZ0JBQWdCMkIsTUFBTSxFQUFFNkIsSUFBSztZQUMvQyxJQUFJNUIsT0FBTzVCLGVBQWUsQ0FBQ3dELEVBQUU7WUFFN0IsSUFBSW5FLE1BQU0sQ0FBQyxVQUFVdUMsS0FBSyxDQUFDaUIsSUFBSSxDQUFDM0MsUUFBUTtnQkFDdEMsT0FBTztZQUNUO1FBQ0Y7UUFFQSxPQUFPO0lBQ1Q7QUFDRixFQUFFO0FBQ0ssSUFBSXVELHNCQUFzQixZQUFZO0FBQ3RDLElBQUlDLHNCQUFzQixjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJlZXplLW5leHQvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9jb2RlY3MuanM/NGQ1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgd2luZG93IGZyb20gJ2dsb2JhbC93aW5kb3cnO1xudmFyIHJlZ2V4cyA9IHtcbiAgLy8gdG8gZGV0ZXJtaW5lIG1pbWUgdHlwZXNcbiAgbXA0OiAvXihhdjA/MXxhdmMwP1sxMjM0XXx2cDA/OXxmbGFjfG9wdXN8bXAzfG1wNGF8bXA0dnxzdHBwLnR0bWwuaW0xdCkvLFxuICB3ZWJtOiAvXih2cDA/Wzg5XXxhdjA/MXxvcHVzfHZvcmJpcykvLFxuICBvZ2c6IC9eKHZwMD9bODldfHRoZW9yYXxmbGFjfG9wdXN8dm9yYmlzKS8sXG4gIC8vIHRvIGRldGVybWluZSBpZiBhIGNvZGVjIGlzIGF1ZGlvIG9yIHZpZGVvXG4gIHZpZGVvOiAvXihhdjA/MXxhdmMwP1sxMjM0XXx2cDA/Wzg5XXxodmMxfGhldjF8dGhlb3JhfG1wNHYpLyxcbiAgYXVkaW86IC9eKG1wNGF8ZmxhY3x2b3JiaXN8b3B1c3xhYy1bMzRdfGVjLTN8YWxhY3xtcDN8c3BlZXh8YWFjKS8sXG4gIHRleHQ6IC9eKHN0cHAudHRtbC5pbTF0KS8sXG4gIC8vIG11eC5qcyBzdXBwb3J0IHJlZ2V4XG4gIG11eGVyVmlkZW86IC9eKGF2YzA/MSkvLFxuICBtdXhlckF1ZGlvOiAvXihtcDRhKS8sXG4gIC8vIG1hdGNoIG5vdGhpbmcgYXMgbXV4ZXIgZG9lcyBub3Qgc3VwcG9ydCB0ZXh0IHJpZ2h0IG5vdy5cbiAgLy8gdGhlcmUgY2Fubm90IG5ldmVyIGJlIGEgY2hhcmFjdGVyIGJlZm9yZSB0aGUgc3RhcnQgb2YgYSBzdHJpbmdcbiAgLy8gc28gdGhpcyBtYXRjaGVzIG5vdGhpbmcuXG4gIG11eGVyVGV4dDogL2FeL1xufTtcbnZhciBtZWRpYVR5cGVzID0gWyd2aWRlbycsICdhdWRpbycsICd0ZXh0J107XG52YXIgdXBwZXJNZWRpYVR5cGVzID0gWydWaWRlbycsICdBdWRpbycsICdUZXh0J107XG4vKipcbiAqIFJlcGxhY2UgdGhlIG9sZCBhcHBsZS1zdHlsZSBgYXZjMS48ZGQ+LjxkZD5gIGNvZGVjIHN0cmluZyB3aXRoIHRoZSBzdGFuZGFyZFxuICogYGF2YzEuPGhoaGhoaD5gXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvZGVjXG4gKiAgICAgICAgQ29kZWMgc3RyaW5nIHRvIHRyYW5zbGF0ZVxuICogQHJldHVybiB7c3RyaW5nfVxuICogICAgICAgICBUaGUgdHJhbnNsYXRlZCBjb2RlYyBzdHJpbmdcbiAqL1xuXG5leHBvcnQgdmFyIHRyYW5zbGF0ZUxlZ2FjeUNvZGVjID0gZnVuY3Rpb24gdHJhbnNsYXRlTGVnYWN5Q29kZWMoY29kZWMpIHtcbiAgaWYgKCFjb2RlYykge1xuICAgIHJldHVybiBjb2RlYztcbiAgfVxuXG4gIHJldHVybiBjb2RlYy5yZXBsYWNlKC9hdmMxXFwuKFxcZCspXFwuKFxcZCspL2ksIGZ1bmN0aW9uIChvcmlnLCBwcm9maWxlLCBhdmNMZXZlbCkge1xuICAgIHZhciBwcm9maWxlSGV4ID0gKCcwMCcgKyBOdW1iZXIocHJvZmlsZSkudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7XG4gICAgdmFyIGF2Y0xldmVsSGV4ID0gKCcwMCcgKyBOdW1iZXIoYXZjTGV2ZWwpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICAgIHJldHVybiAnYXZjMS4nICsgcHJvZmlsZUhleCArICcwMCcgKyBhdmNMZXZlbEhleDtcbiAgfSk7XG59O1xuLyoqXG4gKiBSZXBsYWNlIHRoZSBvbGQgYXBwbGUtc3R5bGUgYGF2YzEuPGRkPi48ZGQ+YCBjb2RlYyBzdHJpbmdzIHdpdGggdGhlIHN0YW5kYXJkXG4gKiBgYXZjMS48aGhoaGhoPmBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBjb2RlY3NcbiAqICAgICAgICBBbiBhcnJheSBvZiBjb2RlYyBzdHJpbmdzIHRvIHRyYW5zbGF0ZVxuICogQHJldHVybiB7c3RyaW5nW119XG4gKiAgICAgICAgIFRoZSB0cmFuc2xhdGVkIGFycmF5IG9mIGNvZGVjIHN0cmluZ3NcbiAqL1xuXG5leHBvcnQgdmFyIHRyYW5zbGF0ZUxlZ2FjeUNvZGVjcyA9IGZ1bmN0aW9uIHRyYW5zbGF0ZUxlZ2FjeUNvZGVjcyhjb2RlY3MpIHtcbiAgcmV0dXJuIGNvZGVjcy5tYXAodHJhbnNsYXRlTGVnYWN5Q29kZWMpO1xufTtcbi8qKlxuICogUmVwbGFjZSBjb2RlY3MgaW4gdGhlIGNvZGVjIHN0cmluZyB3aXRoIHRoZSBvbGQgYXBwbGUtc3R5bGUgYGF2YzEuPGRkPi48ZGQ+YCB0byB0aGVcbiAqIHN0YW5kYXJkIGBhdmMxLjxoaGhoaGg+YC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29kZWNTdHJpbmdcbiAqICAgICAgICBUaGUgY29kZWMgc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKiAgICAgICAgIFRoZSBjb2RlYyBzdHJpbmcgd2l0aCBvbGQgYXBwbGUtc3R5bGUgY29kZWNzIHJlcGxhY2VkXG4gKlxuICogQHByaXZhdGVcbiAqL1xuXG5leHBvcnQgdmFyIG1hcExlZ2FjeUF2Y0NvZGVjcyA9IGZ1bmN0aW9uIG1hcExlZ2FjeUF2Y0NvZGVjcyhjb2RlY1N0cmluZykge1xuICByZXR1cm4gY29kZWNTdHJpbmcucmVwbGFjZSgvYXZjMVxcLihcXGQrKVxcLihcXGQrKS9pLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICByZXR1cm4gdHJhbnNsYXRlTGVnYWN5Q29kZWNzKFttYXRjaF0pWzBdO1xuICB9KTtcbn07XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBhcnNlZENvZGVjSW5mb1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGVjQ291bnRcbiAqICAgICAgICAgICBOdW1iZXIgb2YgY29kZWNzIHBhcnNlZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt2aWRlb0NvZGVjXVxuICogICAgICAgICAgIFBhcnNlZCB2aWRlbyBjb2RlYyAoaWYgZm91bmQpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3ZpZGVvT2JqZWN0VHlwZUluZGljYXRvcl1cbiAqICAgICAgICAgICBWaWRlbyBvYmplY3QgdHlwZSBpbmRpY2F0b3IgKGlmIGZvdW5kKVxuICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gYXVkaW9Qcm9maWxlXG4gKiAgICAgICAgICAgQXVkaW8gcHJvZmlsZVxuICovXG5cbi8qKlxuICogUGFyc2VzIGEgY29kZWMgc3RyaW5nIHRvIHJldHJpZXZlIHRoZSBudW1iZXIgb2YgY29kZWNzIHNwZWNpZmllZCwgdGhlIHZpZGVvIGNvZGVjIGFuZFxuICogb2JqZWN0IHR5cGUgaW5kaWNhdG9yLCBhbmQgdGhlIGF1ZGlvIHByb2ZpbGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlY1N0cmluZ11cbiAqICAgICAgICBUaGUgY29kZWMgc3RyaW5nIHRvIHBhcnNlXG4gKiBAcmV0dXJuIHtQYXJzZWRDb2RlY0luZm99XG4gKiAgICAgICAgIFBhcnNlZCBjb2RlYyBpbmZvXG4gKi9cblxuZXhwb3J0IHZhciBwYXJzZUNvZGVjcyA9IGZ1bmN0aW9uIHBhcnNlQ29kZWNzKGNvZGVjU3RyaW5nKSB7XG4gIGlmIChjb2RlY1N0cmluZyA9PT0gdm9pZCAwKSB7XG4gICAgY29kZWNTdHJpbmcgPSAnJztcbiAgfVxuXG4gIHZhciBjb2RlY3MgPSBjb2RlY1N0cmluZy5zcGxpdCgnLCcpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uIChjb2RlYykge1xuICAgIGNvZGVjID0gY29kZWMudHJpbSgpO1xuICAgIHZhciBjb2RlY1R5cGU7XG4gICAgbWVkaWFUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgbWF0Y2ggPSByZWdleHNbbmFtZV0uZXhlYyhjb2RlYy50b0xvd2VyQ2FzZSgpKTtcblxuICAgICAgaWYgKCFtYXRjaCB8fCBtYXRjaC5sZW5ndGggPD0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvZGVjVHlwZSA9IG5hbWU7IC8vIG1haW50YWluIGNvZGVjIGNhc2VcblxuICAgICAgdmFyIHR5cGUgPSBjb2RlYy5zdWJzdHJpbmcoMCwgbWF0Y2hbMV0ubGVuZ3RoKTtcbiAgICAgIHZhciBkZXRhaWxzID0gY29kZWMucmVwbGFjZSh0eXBlLCAnJyk7XG4gICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGRldGFpbHM6IGRldGFpbHMsXG4gICAgICAgIG1lZGlhVHlwZTogbmFtZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpZiAoIWNvZGVjVHlwZSkge1xuICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICB0eXBlOiBjb2RlYyxcbiAgICAgICAgZGV0YWlsczogJycsXG4gICAgICAgIG1lZGlhVHlwZTogJ3Vua25vd24nXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbi8qKlxuICogUmV0dXJucyBhIFBhcnNlZENvZGVjSW5mbyBvYmplY3QgZm9yIHRoZSBkZWZhdWx0IGFsdGVybmF0ZSBhdWRpbyBwbGF5bGlzdCBpZiB0aGVyZSBpc1xuICogYSBkZWZhdWx0IGFsdGVybmF0ZSBhdWRpbyBwbGF5bGlzdCBmb3IgdGhlIHByb3ZpZGVkIGF1ZGlvIGdyb3VwLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXN0ZXJcbiAqICAgICAgICBUaGUgbWFzdGVyIHBsYXlsaXN0XG4gKiBAcGFyYW0ge3N0cmluZ30gYXVkaW9Hcm91cElkXG4gKiAgICAgICAgSUQgb2YgdGhlIGF1ZGlvIGdyb3VwIGZvciB3aGljaCB0byBmaW5kIHRoZSBkZWZhdWx0IGNvZGVjIGluZm9cbiAqIEByZXR1cm4ge1BhcnNlZENvZGVjSW5mb31cbiAqICAgICAgICAgUGFyc2VkIGNvZGVjIGluZm9cbiAqL1xuXG5leHBvcnQgdmFyIGNvZGVjc0Zyb21EZWZhdWx0ID0gZnVuY3Rpb24gY29kZWNzRnJvbURlZmF1bHQobWFzdGVyLCBhdWRpb0dyb3VwSWQpIHtcbiAgaWYgKCFtYXN0ZXIubWVkaWFHcm91cHMuQVVESU8gfHwgIWF1ZGlvR3JvdXBJZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGF1ZGlvR3JvdXAgPSBtYXN0ZXIubWVkaWFHcm91cHMuQVVESU9bYXVkaW9Hcm91cElkXTtcblxuICBpZiAoIWF1ZGlvR3JvdXApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZvciAodmFyIG5hbWUgaW4gYXVkaW9Hcm91cCkge1xuICAgIHZhciBhdWRpb1R5cGUgPSBhdWRpb0dyb3VwW25hbWVdO1xuXG4gICAgaWYgKGF1ZGlvVHlwZS5kZWZhdWx0ICYmIGF1ZGlvVHlwZS5wbGF5bGlzdHMpIHtcbiAgICAgIC8vIGNvZGVjIHNob3VsZCBiZSB0aGUgc2FtZSBmb3IgYWxsIHBsYXlsaXN0cyB3aXRoaW4gdGhlIGF1ZGlvIHR5cGVcbiAgICAgIHJldHVybiBwYXJzZUNvZGVjcyhhdWRpb1R5cGUucGxheWxpc3RzWzBdLmF0dHJpYnV0ZXMuQ09ERUNTKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5leHBvcnQgdmFyIGlzVmlkZW9Db2RlYyA9IGZ1bmN0aW9uIGlzVmlkZW9Db2RlYyhjb2RlYykge1xuICBpZiAoY29kZWMgPT09IHZvaWQgMCkge1xuICAgIGNvZGVjID0gJyc7XG4gIH1cblxuICByZXR1cm4gcmVnZXhzLnZpZGVvLnRlc3QoY29kZWMudHJpbSgpLnRvTG93ZXJDYXNlKCkpO1xufTtcbmV4cG9ydCB2YXIgaXNBdWRpb0NvZGVjID0gZnVuY3Rpb24gaXNBdWRpb0NvZGVjKGNvZGVjKSB7XG4gIGlmIChjb2RlYyA9PT0gdm9pZCAwKSB7XG4gICAgY29kZWMgPSAnJztcbiAgfVxuXG4gIHJldHVybiByZWdleHMuYXVkaW8udGVzdChjb2RlYy50cmltKCkudG9Mb3dlckNhc2UoKSk7XG59O1xuZXhwb3J0IHZhciBpc1RleHRDb2RlYyA9IGZ1bmN0aW9uIGlzVGV4dENvZGVjKGNvZGVjKSB7XG4gIGlmIChjb2RlYyA9PT0gdm9pZCAwKSB7XG4gICAgY29kZWMgPSAnJztcbiAgfVxuXG4gIHJldHVybiByZWdleHMudGV4dC50ZXN0KGNvZGVjLnRyaW0oKS50b0xvd2VyQ2FzZSgpKTtcbn07XG5leHBvcnQgdmFyIGdldE1pbWVGb3JDb2RlYyA9IGZ1bmN0aW9uIGdldE1pbWVGb3JDb2RlYyhjb2RlY1N0cmluZykge1xuICBpZiAoIWNvZGVjU3RyaW5nIHx8IHR5cGVvZiBjb2RlY1N0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY29kZWNzID0gY29kZWNTdHJpbmcudG9Mb3dlckNhc2UoKS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiB0cmFuc2xhdGVMZWdhY3lDb2RlYyhjLnRyaW0oKSk7XG4gIH0pOyAvLyBkZWZhdWx0IHRvIHZpZGVvIHR5cGVcblxuICB2YXIgdHlwZSA9ICd2aWRlbyc7IC8vIG9ubHkgY2hhbmdlIHRvIGF1ZGlvIHR5cGUgaWYgdGhlIG9ubHkgY29kZWMgd2UgaGF2ZSBpc1xuICAvLyBhdWRpb1xuXG4gIGlmIChjb2RlY3MubGVuZ3RoID09PSAxICYmIGlzQXVkaW9Db2RlYyhjb2RlY3NbMF0pKSB7XG4gICAgdHlwZSA9ICdhdWRpbyc7XG4gIH0gZWxzZSBpZiAoY29kZWNzLmxlbmd0aCA9PT0gMSAmJiBpc1RleHRDb2RlYyhjb2RlY3NbMF0pKSB7XG4gICAgLy8gdGV4dCB1c2VzIGFwcGxpY2F0aW9uLzxjb250YWluZXI+IGZvciBub3dcbiAgICB0eXBlID0gJ2FwcGxpY2F0aW9uJztcbiAgfSAvLyBkZWZhdWx0IHRoZSBjb250YWluZXIgdG8gbXA0XG5cblxuICB2YXIgY29udGFpbmVyID0gJ21wNCc7IC8vIGV2ZXJ5IGNvZGVjIG11c3QgYmUgYWJsZSB0byBnbyBpbnRvIHRoZSBjb250YWluZXJcbiAgLy8gZm9yIHRoYXQgY29udGFpbmVyIHRvIGJlIHRoZSBjb3JyZWN0IG9uZVxuXG4gIGlmIChjb2RlY3MuZXZlcnkoZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gcmVnZXhzLm1wNC50ZXN0KGMpO1xuICB9KSkge1xuICAgIGNvbnRhaW5lciA9ICdtcDQnO1xuICB9IGVsc2UgaWYgKGNvZGVjcy5ldmVyeShmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiByZWdleHMud2VibS50ZXN0KGMpO1xuICB9KSkge1xuICAgIGNvbnRhaW5lciA9ICd3ZWJtJztcbiAgfSBlbHNlIGlmIChjb2RlY3MuZXZlcnkoZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gcmVnZXhzLm9nZy50ZXN0KGMpO1xuICB9KSkge1xuICAgIGNvbnRhaW5lciA9ICdvZ2cnO1xuICB9XG5cbiAgcmV0dXJuIHR5cGUgKyBcIi9cIiArIGNvbnRhaW5lciArIFwiO2NvZGVjcz1cXFwiXCIgKyBjb2RlY1N0cmluZyArIFwiXFxcIlwiO1xufTtcbmV4cG9ydCB2YXIgYnJvd3NlclN1cHBvcnRzQ29kZWMgPSBmdW5jdGlvbiBicm93c2VyU3VwcG9ydHNDb2RlYyhjb2RlY1N0cmluZykge1xuICBpZiAoY29kZWNTdHJpbmcgPT09IHZvaWQgMCkge1xuICAgIGNvZGVjU3RyaW5nID0gJyc7XG4gIH1cblxuICByZXR1cm4gd2luZG93Lk1lZGlhU291cmNlICYmIHdpbmRvdy5NZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQgJiYgd2luZG93Lk1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZChnZXRNaW1lRm9yQ29kZWMoY29kZWNTdHJpbmcpKSB8fCBmYWxzZTtcbn07XG5leHBvcnQgdmFyIG11eGVyU3VwcG9ydHNDb2RlYyA9IGZ1bmN0aW9uIG11eGVyU3VwcG9ydHNDb2RlYyhjb2RlY1N0cmluZykge1xuICBpZiAoY29kZWNTdHJpbmcgPT09IHZvaWQgMCkge1xuICAgIGNvZGVjU3RyaW5nID0gJyc7XG4gIH1cblxuICByZXR1cm4gY29kZWNTdHJpbmcudG9Mb3dlckNhc2UoKS5zcGxpdCgnLCcpLmV2ZXJ5KGZ1bmN0aW9uIChjb2RlYykge1xuICAgIGNvZGVjID0gY29kZWMudHJpbSgpOyAvLyBhbnkgbWF0Y2ggaXMgc3VwcG9ydGVkLlxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cHBlck1lZGlhVHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0eXBlID0gdXBwZXJNZWRpYVR5cGVzW2ldO1xuXG4gICAgICBpZiAocmVnZXhzW1wibXV4ZXJcIiArIHR5cGVdLnRlc3QoY29kZWMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59O1xuZXhwb3J0IHZhciBERUZBVUxUX0FVRElPX0NPREVDID0gJ21wNGEuNDAuMic7XG5leHBvcnQgdmFyIERFRkFVTFRfVklERU9fQ09ERUMgPSAnYXZjMS40ZDQwMGQnOyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJyZWdleHMiLCJtcDQiLCJ3ZWJtIiwib2dnIiwidmlkZW8iLCJhdWRpbyIsInRleHQiLCJtdXhlclZpZGVvIiwibXV4ZXJBdWRpbyIsIm11eGVyVGV4dCIsIm1lZGlhVHlwZXMiLCJ1cHBlck1lZGlhVHlwZXMiLCJ0cmFuc2xhdGVMZWdhY3lDb2RlYyIsImNvZGVjIiwicmVwbGFjZSIsIm9yaWciLCJwcm9maWxlIiwiYXZjTGV2ZWwiLCJwcm9maWxlSGV4IiwiTnVtYmVyIiwidG9TdHJpbmciLCJzbGljZSIsImF2Y0xldmVsSGV4IiwidHJhbnNsYXRlTGVnYWN5Q29kZWNzIiwiY29kZWNzIiwibWFwIiwibWFwTGVnYWN5QXZjQ29kZWNzIiwiY29kZWNTdHJpbmciLCJtYXRjaCIsInBhcnNlQ29kZWNzIiwic3BsaXQiLCJyZXN1bHQiLCJmb3JFYWNoIiwidHJpbSIsImNvZGVjVHlwZSIsIm5hbWUiLCJleGVjIiwidG9Mb3dlckNhc2UiLCJsZW5ndGgiLCJ0eXBlIiwic3Vic3RyaW5nIiwiZGV0YWlscyIsInB1c2giLCJtZWRpYVR5cGUiLCJjb2RlY3NGcm9tRGVmYXVsdCIsIm1hc3RlciIsImF1ZGlvR3JvdXBJZCIsIm1lZGlhR3JvdXBzIiwiQVVESU8iLCJhdWRpb0dyb3VwIiwiYXVkaW9UeXBlIiwiZGVmYXVsdCIsInBsYXlsaXN0cyIsImF0dHJpYnV0ZXMiLCJDT0RFQ1MiLCJpc1ZpZGVvQ29kZWMiLCJ0ZXN0IiwiaXNBdWRpb0NvZGVjIiwiaXNUZXh0Q29kZWMiLCJnZXRNaW1lRm9yQ29kZWMiLCJjIiwiY29udGFpbmVyIiwiZXZlcnkiLCJicm93c2VyU3VwcG9ydHNDb2RlYyIsIk1lZGlhU291cmNlIiwiaXNUeXBlU3VwcG9ydGVkIiwibXV4ZXJTdXBwb3J0c0NvZGVjIiwiaSIsIkRFRkFVTFRfQVVESU9fQ09ERUMiLCJERUZBVUxUX1ZJREVPX0NPREVDIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/codecs.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/containers.js":
/*!***********************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/containers.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   detectContainerForBytes: () => (/* binding */ detectContainerForBytes),\n/* harmony export */   isLikely: () => (/* binding */ isLikely),\n/* harmony export */   isLikelyFmp4MediaSegment: () => (/* binding */ isLikelyFmp4MediaSegment)\n/* harmony export */ });\n/* harmony import */ var _byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./byte-helpers.js */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/byte-helpers.js\");\n/* harmony import */ var _mp4_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mp4-helpers.js */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/mp4-helpers.js\");\n/* harmony import */ var _ebml_helpers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ebml-helpers.js */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/ebml-helpers.js\");\n/* harmony import */ var _id3_helpers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./id3-helpers.js */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/id3-helpers.js\");\n/* harmony import */ var _nal_helpers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nal-helpers.js */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/nal-helpers.js\");\n\n\n\n\n\nvar CONSTANTS = {\n    // \"webm\" string literal in hex\n    \"webm\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x77,\n        0x65,\n        0x62,\n        0x6d\n    ]),\n    // \"matroska\" string literal in hex\n    \"matroska\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x6d,\n        0x61,\n        0x74,\n        0x72,\n        0x6f,\n        0x73,\n        0x6b,\n        0x61\n    ]),\n    // \"fLaC\" string literal in hex\n    \"flac\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x66,\n        0x4c,\n        0x61,\n        0x43\n    ]),\n    // \"OggS\" string literal in hex\n    \"ogg\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x4f,\n        0x67,\n        0x67,\n        0x53\n    ]),\n    // ac-3 sync byte, also works for ec-3 as that is simply a codec\n    // of ac-3\n    \"ac3\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x0b,\n        0x77\n    ]),\n    // \"RIFF\" string literal in hex used for wav and avi\n    \"riff\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x52,\n        0x49,\n        0x46,\n        0x46\n    ]),\n    // \"AVI\" string literal in hex\n    \"avi\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x41,\n        0x56,\n        0x49\n    ]),\n    // \"WAVE\" string literal in hex\n    \"wav\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x57,\n        0x41,\n        0x56,\n        0x45\n    ]),\n    // \"ftyp3g\" string literal in hex\n    \"3gp\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x66,\n        0x74,\n        0x79,\n        0x70,\n        0x33,\n        0x67\n    ]),\n    // \"ftyp\" string literal in hex\n    \"mp4\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x66,\n        0x74,\n        0x79,\n        0x70\n    ]),\n    // \"styp\" string literal in hex\n    \"fmp4\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x73,\n        0x74,\n        0x79,\n        0x70\n    ]),\n    // \"ftypqt\" string literal in hex\n    \"mov\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x66,\n        0x74,\n        0x79,\n        0x70,\n        0x71,\n        0x74\n    ]),\n    // moov string literal in hex\n    \"moov\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x6D,\n        0x6F,\n        0x6F,\n        0x76\n    ]),\n    // moof string literal in hex\n    \"moof\": (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x6D,\n        0x6F,\n        0x6F,\n        0x66\n    ])\n};\nvar _isLikely = {\n    aac: function aac(bytes) {\n        var offset = (0,_id3_helpers_js__WEBPACK_IMPORTED_MODULE_3__.getId3Offset)(bytes);\n        return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, [\n            0xFF,\n            0x10\n        ], {\n            offset: offset,\n            mask: [\n                0xFF,\n                0x16\n            ]\n        });\n    },\n    mp3: function mp3(bytes) {\n        var offset = (0,_id3_helpers_js__WEBPACK_IMPORTED_MODULE_3__.getId3Offset)(bytes);\n        return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, [\n            0xFF,\n            0x02\n        ], {\n            offset: offset,\n            mask: [\n                0xFF,\n                0x06\n            ]\n        });\n    },\n    webm: function webm(bytes) {\n        var docType = (0,_ebml_helpers_js__WEBPACK_IMPORTED_MODULE_2__.findEbml)(bytes, [\n            _ebml_helpers_js__WEBPACK_IMPORTED_MODULE_2__.EBML_TAGS.EBML,\n            _ebml_helpers_js__WEBPACK_IMPORTED_MODULE_2__.EBML_TAGS.DocType\n        ])[0]; // check if DocType EBML tag is webm\n        return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(docType, CONSTANTS.webm);\n    },\n    mkv: function mkv(bytes) {\n        var docType = (0,_ebml_helpers_js__WEBPACK_IMPORTED_MODULE_2__.findEbml)(bytes, [\n            _ebml_helpers_js__WEBPACK_IMPORTED_MODULE_2__.EBML_TAGS.EBML,\n            _ebml_helpers_js__WEBPACK_IMPORTED_MODULE_2__.EBML_TAGS.DocType\n        ])[0]; // check if DocType EBML tag is matroska\n        return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(docType, CONSTANTS.matroska);\n    },\n    mp4: function mp4(bytes) {\n        // if this file is another base media file format, it is not mp4\n        if (_isLikely[\"3gp\"](bytes) || _isLikely.mov(bytes)) {\n            return false;\n        } // if this file starts with a ftyp or styp box its mp4\n        if ((0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS.mp4, {\n            offset: 4\n        }) || (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS.fmp4, {\n            offset: 4\n        })) {\n            return true;\n        } // if this file starts with a moof/moov box its mp4\n        if ((0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS.moof, {\n            offset: 4\n        }) || (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS.moov, {\n            offset: 4\n        })) {\n            return true;\n        }\n    },\n    mov: function mov(bytes) {\n        return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS.mov, {\n            offset: 4\n        });\n    },\n    \"3gp\": function gp(bytes) {\n        return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS[\"3gp\"], {\n            offset: 4\n        });\n    },\n    ac3: function ac3(bytes) {\n        var offset = (0,_id3_helpers_js__WEBPACK_IMPORTED_MODULE_3__.getId3Offset)(bytes);\n        return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS.ac3, {\n            offset: offset\n        });\n    },\n    ts: function ts(bytes) {\n        if (bytes.length < 189 && bytes.length >= 1) {\n            return bytes[0] === 0x47;\n        }\n        var i = 0; // check the first 376 bytes for two matching sync bytes\n        while(i + 188 < bytes.length && i < 188){\n            if (bytes[i] === 0x47 && bytes[i + 188] === 0x47) {\n                return true;\n            }\n            i += 1;\n        }\n        return false;\n    },\n    flac: function flac(bytes) {\n        var offset = (0,_id3_helpers_js__WEBPACK_IMPORTED_MODULE_3__.getId3Offset)(bytes);\n        return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS.flac, {\n            offset: offset\n        });\n    },\n    ogg: function ogg(bytes) {\n        return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS.ogg);\n    },\n    avi: function avi(bytes) {\n        return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS.riff) && (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS.avi, {\n            offset: 8\n        });\n    },\n    wav: function wav(bytes) {\n        return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS.riff) && (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, CONSTANTS.wav, {\n            offset: 8\n        });\n    },\n    \"h264\": function h264(bytes) {\n        // find seq_parameter_set_rbsp\n        return (0,_nal_helpers_js__WEBPACK_IMPORTED_MODULE_4__.findH264Nal)(bytes, 7, 3).length;\n    },\n    \"h265\": function h265(bytes) {\n        // find video_parameter_set_rbsp or seq_parameter_set_rbsp\n        return (0,_nal_helpers_js__WEBPACK_IMPORTED_MODULE_4__.findH265Nal)(bytes, [\n            32,\n            33\n        ], 3).length;\n    }\n}; // get all the isLikely functions\n// but make sure 'ts' is above h264 and h265\n// but below everything else as it is the least specific\nvar isLikelyTypes = Object.keys(_isLikely) // remove ts, h264, h265\n.filter(function(t) {\n    return t !== \"ts\" && t !== \"h264\" && t !== \"h265\";\n}) // add it back to the bottom\n.concat([\n    \"ts\",\n    \"h264\",\n    \"h265\"\n]); // make sure we are dealing with uint8 data.\nisLikelyTypes.forEach(function(type) {\n    var isLikelyFn = _isLikely[type];\n    _isLikely[type] = function(bytes) {\n        return isLikelyFn((0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)(bytes));\n    };\n}); // export after wrapping\nvar isLikely = _isLikely; // A useful list of file signatures can be found here\n// https://en.wikipedia.org/wiki/List_of_file_signatures\nvar detectContainerForBytes = function detectContainerForBytes(bytes) {\n    bytes = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)(bytes);\n    for(var i = 0; i < isLikelyTypes.length; i++){\n        var type = isLikelyTypes[i];\n        if (isLikely[type](bytes)) {\n            return type;\n        }\n    }\n    return \"\";\n}; // fmp4 is not a container\nvar isLikelyFmp4MediaSegment = function isLikelyFmp4MediaSegment(bytes) {\n    return (0,_mp4_helpers_js__WEBPACK_IMPORTED_MODULE_1__.findBox)(bytes, [\n        \"moof\"\n    ]).length > 0;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9jb250YWluZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXdEO0FBQ2I7QUFDYTtBQUNSO0FBQ1k7QUFDNUQsSUFBSVEsWUFBWTtJQUNkLCtCQUErQjtJQUMvQixRQUFRUix5REFBT0EsQ0FBQztRQUFDO1FBQU07UUFBTTtRQUFNO0tBQUs7SUFDeEMsbUNBQW1DO0lBQ25DLFlBQVlBLHlEQUFPQSxDQUFDO1FBQUM7UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtLQUFLO0lBQ3BFLCtCQUErQjtJQUMvQixRQUFRQSx5REFBT0EsQ0FBQztRQUFDO1FBQU07UUFBTTtRQUFNO0tBQUs7SUFDeEMsK0JBQStCO0lBQy9CLE9BQU9BLHlEQUFPQSxDQUFDO1FBQUM7UUFBTTtRQUFNO1FBQU07S0FBSztJQUN2QyxnRUFBZ0U7SUFDaEUsVUFBVTtJQUNWLE9BQU9BLHlEQUFPQSxDQUFDO1FBQUM7UUFBTTtLQUFLO0lBQzNCLG9EQUFvRDtJQUNwRCxRQUFRQSx5REFBT0EsQ0FBQztRQUFDO1FBQU07UUFBTTtRQUFNO0tBQUs7SUFDeEMsOEJBQThCO0lBQzlCLE9BQU9BLHlEQUFPQSxDQUFDO1FBQUM7UUFBTTtRQUFNO0tBQUs7SUFDakMsK0JBQStCO0lBQy9CLE9BQU9BLHlEQUFPQSxDQUFDO1FBQUM7UUFBTTtRQUFNO1FBQU07S0FBSztJQUN2QyxpQ0FBaUM7SUFDakMsT0FBT0EseURBQU9BLENBQUM7UUFBQztRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07S0FBSztJQUNuRCwrQkFBK0I7SUFDL0IsT0FBT0EseURBQU9BLENBQUM7UUFBQztRQUFNO1FBQU07UUFBTTtLQUFLO0lBQ3ZDLCtCQUErQjtJQUMvQixRQUFRQSx5REFBT0EsQ0FBQztRQUFDO1FBQU07UUFBTTtRQUFNO0tBQUs7SUFDeEMsaUNBQWlDO0lBQ2pDLE9BQU9BLHlEQUFPQSxDQUFDO1FBQUM7UUFBTTtR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QXdEO0FBRXhELElBQUlTLGdCQUFnQkMsT0FBT0MsSUFBSSxDQUFDL0IsV0FBVyx3QkFBd0I7Q0FDbEVnQyxNQUFNLENBQUMsU0FBVUMsQ0FBQztJQUNqQixPQUFPQSxNQUFNLFFBQVFBLE1BQU0sVUFBVUEsTUFBTTtBQUM3QyxHQUFHLDRCQUE0QjtDQUM5QkMsTUFBTSxDQUFDO0lBQUM7SUFBTTtJQUFRO0NBQU8sR0FBRyw0Q0FBNEM7QUFFN0VMLGNBQWNNLE9BQU8sQ0FBQyxTQUFVQyxJQUFJO0lBQ2xDLElBQUlDLGFBQWFyQyxTQUFTLENBQUNvQyxLQUFLO0lBRWhDcEMsU0FBUyxDQUFDb0MsS0FBSyxHQUFHLFNBQVVsQyxLQUFLO1FBQy9CLE9BQU9tQyxXQUFXOUMseURBQU9BLENBQUNXO0lBQzVCO0FBQ0YsSUFBSSx3QkFBd0I7QUFFckIsSUFBSW9DLFdBQVd0QyxVQUFVLENBQUMscURBQXFEO0FBQ3RGLHdEQUF3RDtBQUVqRCxJQUFJdUMsMEJBQTBCLFNBQVNBLHdCQUF3QnJDLEtBQUs7SUFDekVBLFFBQVFYLHlEQUFPQSxDQUFDVztJQUVoQixJQUFLLElBQUltQixJQUFJLEdBQUdBLElBQUlRLGNBQWNULE1BQU0sRUFBRUMsSUFBSztRQUM3QyxJQUFJZSxPQUFPUCxhQUFhLENBQUNSLEVBQUU7UUFFM0IsSUFBSWlCLFFBQVEsQ0FBQ0YsS0FBSyxDQUFDbEMsUUFBUTtZQUN6QixPQUFPa0M7UUFDVDtJQUNGO0lBRUEsT0FBTztBQUNULEVBQUUsQ0FBQywwQkFBMEI7QUFFdEIsSUFBSUksMkJBQTJCLFNBQVNBLHlCQUF5QnRDLEtBQUs7SUFDM0UsT0FBT1Qsd0RBQU9BLENBQUNTLE9BQU87UUFBQztLQUFPLEVBQUVrQixNQUFNLEdBQUc7QUFDM0MsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JyZWV6ZS1uZXh0Ly4uL25vZGVfbW9kdWxlcy9AdmlkZW9qcy92aHMtdXRpbHMvZXMvY29udGFpbmVycy5qcz9mYWY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRvVWludDgsIGJ5dGVzTWF0Y2ggfSBmcm9tICcuL2J5dGUtaGVscGVycy5qcyc7XG5pbXBvcnQgeyBmaW5kQm94IH0gZnJvbSAnLi9tcDQtaGVscGVycy5qcyc7XG5pbXBvcnQgeyBmaW5kRWJtbCwgRUJNTF9UQUdTIH0gZnJvbSAnLi9lYm1sLWhlbHBlcnMuanMnO1xuaW1wb3J0IHsgZ2V0SWQzT2Zmc2V0IH0gZnJvbSAnLi9pZDMtaGVscGVycy5qcyc7XG5pbXBvcnQgeyBmaW5kSDI2NE5hbCwgZmluZEgyNjVOYWwgfSBmcm9tICcuL25hbC1oZWxwZXJzLmpzJztcbnZhciBDT05TVEFOVFMgPSB7XG4gIC8vIFwid2VibVwiIHN0cmluZyBsaXRlcmFsIGluIGhleFxuICAnd2VibSc6IHRvVWludDgoWzB4NzcsIDB4NjUsIDB4NjIsIDB4NmRdKSxcbiAgLy8gXCJtYXRyb3NrYVwiIHN0cmluZyBsaXRlcmFsIGluIGhleFxuICAnbWF0cm9za2EnOiB0b1VpbnQ4KFsweDZkLCAweDYxLCAweDc0LCAweDcyLCAweDZmLCAweDczLCAweDZiLCAweDYxXSksXG4gIC8vIFwiZkxhQ1wiIHN0cmluZyBsaXRlcmFsIGluIGhleFxuICAnZmxhYyc6IHRvVWludDgoWzB4NjYsIDB4NGMsIDB4NjEsIDB4NDNdKSxcbiAgLy8gXCJPZ2dTXCIgc3RyaW5nIGxpdGVyYWwgaW4gaGV4XG4gICdvZ2cnOiB0b1VpbnQ4KFsweDRmLCAweDY3LCAweDY3LCAweDUzXSksXG4gIC8vIGFjLTMgc3luYyBieXRlLCBhbHNvIHdvcmtzIGZvciBlYy0zIGFzIHRoYXQgaXMgc2ltcGx5IGEgY29kZWNcbiAgLy8gb2YgYWMtM1xuICAnYWMzJzogdG9VaW50OChbMHgwYiwgMHg3N10pLFxuICAvLyBcIlJJRkZcIiBzdHJpbmcgbGl0ZXJhbCBpbiBoZXggdXNlZCBmb3Igd2F2IGFuZCBhdmlcbiAgJ3JpZmYnOiB0b1VpbnQ4KFsweDUyLCAweDQ5LCAweDQ2LCAweDQ2XSksXG4gIC8vIFwiQVZJXCIgc3RyaW5nIGxpdGVyYWwgaW4gaGV4XG4gICdhdmknOiB0b1VpbnQ4KFsweDQxLCAweDU2LCAweDQ5XSksXG4gIC8vIFwiV0FWRVwiIHN0cmluZyBsaXRlcmFsIGluIGhleFxuICAnd2F2JzogdG9VaW50OChbMHg1NywgMHg0MSwgMHg1NiwgMHg0NV0pLFxuICAvLyBcImZ0eXAzZ1wiIHN0cmluZyBsaXRlcmFsIGluIGhleFxuICAnM2dwJzogdG9VaW50OChbMHg2NiwgMHg3NCwgMHg3OSwgMHg3MCwgMHgzMywgMHg2N10pLFxuICAvLyBcImZ0eXBcIiBzdHJpbmcgbGl0ZXJhbCBpbiBoZXhcbiAgJ21wNCc6IHRvVWludDgoWzB4NjYsIDB4NzQsIDB4NzksIDB4NzBdKSxcbiAgLy8gXCJzdHlwXCIgc3RyaW5nIGxpdGVyYWwgaW4gaGV4XG4gICdmbXA0JzogdG9VaW50OChbMHg3MywgMHg3NCwgMHg3OSwgMHg3MF0pLFxuICAvLyBcImZ0eXBxdFwiIHN0cmluZyBsaXRlcmFsIGluIGhleFxuICAnbW92JzogdG9VaW50OChbMHg2NiwgMHg3NCwgMHg3OSwgMHg3MCwgMHg3MSwgMHg3NF0pLFxuICAvLyBtb292IHN0cmluZyBsaXRlcmFsIGluIGhleFxuICAnbW9vdic6IHRvVWludDgoWzB4NkQsIDB4NkYsIDB4NkYsIDB4NzZdKSxcbiAgLy8gbW9vZiBzdHJpbmcgbGl0ZXJhbCBpbiBoZXhcbiAgJ21vb2YnOiB0b1VpbnQ4KFsweDZELCAweDZGLCAweDZGLCAweDY2XSlcbn07XG52YXIgX2lzTGlrZWx5ID0ge1xuICBhYWM6IGZ1bmN0aW9uIGFhYyhieXRlcykge1xuICAgIHZhciBvZmZzZXQgPSBnZXRJZDNPZmZzZXQoYnl0ZXMpO1xuICAgIHJldHVybiBieXRlc01hdGNoKGJ5dGVzLCBbMHhGRiwgMHgxMF0sIHtcbiAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgbWFzazogWzB4RkYsIDB4MTZdXG4gICAgfSk7XG4gIH0sXG4gIG1wMzogZnVuY3Rpb24gbXAzKGJ5dGVzKSB7XG4gICAgdmFyIG9mZnNldCA9IGdldElkM09mZnNldChieXRlcyk7XG4gICAgcmV0dXJuIGJ5dGVzTWF0Y2goYnl0ZXMsIFsweEZGLCAweDAyXSwge1xuICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICBtYXNrOiBbMHhGRiwgMHgwNl1cbiAgICB9KTtcbiAgfSxcbiAgd2VibTogZnVuY3Rpb24gd2VibShieXRlcykge1xuICAgIHZhciBkb2NUeXBlID0gZmluZEVibWwoYnl0ZXMsIFtFQk1MX1RBR1MuRUJNTCwgRUJNTF9UQUdTLkRvY1R5cGVdKVswXTsgLy8gY2hlY2sgaWYgRG9jVHlwZSBFQk1MIHRhZyBpcyB3ZWJtXG5cbiAgICByZXR1cm4gYnl0ZXNNYXRjaChkb2NUeXBlLCBDT05TVEFOVFMud2VibSk7XG4gIH0sXG4gIG1rdjogZnVuY3Rpb24gbWt2KGJ5dGVzKSB7XG4gICAgdmFyIGRvY1R5cGUgPSBmaW5kRWJtbChieXRlcywgW0VCTUxfVEFHUy5FQk1MLCBFQk1MX1RBR1MuRG9jVHlwZV0pWzBdOyAvLyBjaGVjayBpZiBEb2NUeXBlIEVCTUwgdGFnIGlzIG1hdHJvc2thXG5cbiAgICByZXR1cm4gYnl0ZXNNYXRjaChkb2NUeXBlLCBDT05TVEFOVFMubWF0cm9za2EpO1xuICB9LFxuICBtcDQ6IGZ1bmN0aW9uIG1wNChieXRlcykge1xuICAgIC8vIGlmIHRoaXMgZmlsZSBpcyBhbm90aGVyIGJhc2UgbWVkaWEgZmlsZSBmb3JtYXQsIGl0IGlzIG5vdCBtcDRcbiAgICBpZiAoX2lzTGlrZWx5WyczZ3AnXShieXRlcykgfHwgX2lzTGlrZWx5Lm1vdihieXRlcykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIGlmIHRoaXMgZmlsZSBzdGFydHMgd2l0aCBhIGZ0eXAgb3Igc3R5cCBib3ggaXRzIG1wNFxuXG5cbiAgICBpZiAoYnl0ZXNNYXRjaChieXRlcywgQ09OU1RBTlRTLm1wNCwge1xuICAgICAgb2Zmc2V0OiA0XG4gICAgfSkgfHwgYnl0ZXNNYXRjaChieXRlcywgQ09OU1RBTlRTLmZtcDQsIHtcbiAgICAgIG9mZnNldDogNFxuICAgIH0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIGlmIHRoaXMgZmlsZSBzdGFydHMgd2l0aCBhIG1vb2YvbW9vdiBib3ggaXRzIG1wNFxuXG5cbiAgICBpZiAoYnl0ZXNNYXRjaChieXRlcywgQ09OU1RBTlRTLm1vb2YsIHtcbiAgICAgIG9mZnNldDogNFxuICAgIH0pIHx8IGJ5dGVzTWF0Y2goYnl0ZXMsIENPTlNUQU5UUy5tb292LCB7XG4gICAgICBvZmZzZXQ6IDRcbiAgICB9KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICBtb3Y6IGZ1bmN0aW9uIG1vdihieXRlcykge1xuICAgIHJldHVybiBieXRlc01hdGNoKGJ5dGVzLCBDT05TVEFOVFMubW92LCB7XG4gICAgICBvZmZzZXQ6IDRcbiAgICB9KTtcbiAgfSxcbiAgJzNncCc6IGZ1bmN0aW9uIGdwKGJ5dGVzKSB7XG4gICAgcmV0dXJuIGJ5dGVzTWF0Y2goYnl0ZXMsIENPTlNUQU5UU1snM2dwJ10sIHtcbiAgICAgIG9mZnNldDogNFxuICAgIH0pO1xuICB9LFxuICBhYzM6IGZ1bmN0aW9uIGFjMyhieXRlcykge1xuICAgIHZhciBvZmZzZXQgPSBnZXRJZDNPZmZzZXQoYnl0ZXMpO1xuICAgIHJldHVybiBieXRlc01hdGNoKGJ5dGVzLCBDT05TVEFOVFMuYWMzLCB7XG4gICAgICBvZmZzZXQ6IG9mZnNldFxuICAgIH0pO1xuICB9LFxuICB0czogZnVuY3Rpb24gdHMoYnl0ZXMpIHtcbiAgICBpZiAoYnl0ZXMubGVuZ3RoIDwgMTg5ICYmIGJ5dGVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICByZXR1cm4gYnl0ZXNbMF0gPT09IDB4NDc7XG4gICAgfVxuXG4gICAgdmFyIGkgPSAwOyAvLyBjaGVjayB0aGUgZmlyc3QgMzc2IGJ5dGVzIGZvciB0d28gbWF0Y2hpbmcgc3luYyBieXRlc1xuXG4gICAgd2hpbGUgKGkgKyAxODggPCBieXRlcy5sZW5ndGggJiYgaSA8IDE4OCkge1xuICAgICAgaWYgKGJ5dGVzW2ldID09PSAweDQ3ICYmIGJ5dGVzW2kgKyAxODhdID09PSAweDQ3KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpICs9IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBmbGFjOiBmdW5jdGlvbiBmbGFjKGJ5dGVzKSB7XG4gICAgdmFyIG9mZnNldCA9IGdldElkM09mZnNldChieXRlcyk7XG4gICAgcmV0dXJuIGJ5dGVzTWF0Y2goYnl0ZXMsIENPTlNUQU5UUy5mbGFjLCB7XG4gICAgICBvZmZzZXQ6IG9mZnNldFxuICAgIH0pO1xuICB9LFxuICBvZ2c6IGZ1bmN0aW9uIG9nZyhieXRlcykge1xuICAgIHJldHVybiBieXRlc01hdGNoKGJ5dGVzLCBDT05TVEFOVFMub2dnKTtcbiAgfSxcbiAgYXZpOiBmdW5jdGlvbiBhdmkoYnl0ZXMpIHtcbiAgICByZXR1cm4gYnl0ZXNNYXRjaChieXRlcywgQ09OU1RBTlRTLnJpZmYpICYmIGJ5dGVzTWF0Y2goYnl0ZXMsIENPTlNUQU5UUy5hdmksIHtcbiAgICAgIG9mZnNldDogOFxuICAgIH0pO1xuICB9LFxuICB3YXY6IGZ1bmN0aW9uIHdhdihieXRlcykge1xuICAgIHJldHVybiBieXRlc01hdGNoKGJ5dGVzLCBDT05TVEFOVFMucmlmZikgJiYgYnl0ZXNNYXRjaChieXRlcywgQ09OU1RBTlRTLndhdiwge1xuICAgICAgb2Zmc2V0OiA4XG4gICAgfSk7XG4gIH0sXG4gICdoMjY0JzogZnVuY3Rpb24gaDI2NChieXRlcykge1xuICAgIC8vIGZpbmQgc2VxX3BhcmFtZXRlcl9zZXRfcmJzcFxuICAgIHJldHVybiBmaW5kSDI2NE5hbChieXRlcywgNywgMykubGVuZ3RoO1xuICB9LFxuICAnaDI2NSc6IGZ1bmN0aW9uIGgyNjUoYnl0ZXMpIHtcbiAgICAvLyBmaW5kIHZpZGVvX3BhcmFtZXRlcl9zZXRfcmJzcCBvciBzZXFfcGFyYW1ldGVyX3NldF9yYnNwXG4gICAgcmV0dXJuIGZpbmRIMjY1TmFsKGJ5dGVzLCBbMzIsIDMzXSwgMykubGVuZ3RoO1xuICB9XG59OyAvLyBnZXQgYWxsIHRoZSBpc0xpa2VseSBmdW5jdGlvbnNcbi8vIGJ1dCBtYWtlIHN1cmUgJ3RzJyBpcyBhYm92ZSBoMjY0IGFuZCBoMjY1XG4vLyBidXQgYmVsb3cgZXZlcnl0aGluZyBlbHNlIGFzIGl0IGlzIHRoZSBsZWFzdCBzcGVjaWZpY1xuXG52YXIgaXNMaWtlbHlUeXBlcyA9IE9iamVjdC5rZXlzKF9pc0xpa2VseSkgLy8gcmVtb3ZlIHRzLCBoMjY0LCBoMjY1XG4uZmlsdGVyKGZ1bmN0aW9uICh0KSB7XG4gIHJldHVybiB0ICE9PSAndHMnICYmIHQgIT09ICdoMjY0JyAmJiB0ICE9PSAnaDI2NSc7XG59KSAvLyBhZGQgaXQgYmFjayB0byB0aGUgYm90dG9tXG4uY29uY2F0KFsndHMnLCAnaDI2NCcsICdoMjY1J10pOyAvLyBtYWtlIHN1cmUgd2UgYXJlIGRlYWxpbmcgd2l0aCB1aW50OCBkYXRhLlxuXG5pc0xpa2VseVR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgdmFyIGlzTGlrZWx5Rm4gPSBfaXNMaWtlbHlbdHlwZV07XG5cbiAgX2lzTGlrZWx5W3R5cGVdID0gZnVuY3Rpb24gKGJ5dGVzKSB7XG4gICAgcmV0dXJuIGlzTGlrZWx5Rm4odG9VaW50OChieXRlcykpO1xuICB9O1xufSk7IC8vIGV4cG9ydCBhZnRlciB3cmFwcGluZ1xuXG5leHBvcnQgdmFyIGlzTGlrZWx5ID0gX2lzTGlrZWx5OyAvLyBBIHVzZWZ1bCBsaXN0IG9mIGZpbGUgc2lnbmF0dXJlcyBjYW4gYmUgZm91bmQgaGVyZVxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9maWxlX3NpZ25hdHVyZXNcblxuZXhwb3J0IHZhciBkZXRlY3RDb250YWluZXJGb3JCeXRlcyA9IGZ1bmN0aW9uIGRldGVjdENvbnRhaW5lckZvckJ5dGVzKGJ5dGVzKSB7XG4gIGJ5dGVzID0gdG9VaW50OChieXRlcyk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpc0xpa2VseVR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHR5cGUgPSBpc0xpa2VseVR5cGVzW2ldO1xuXG4gICAgaWYgKGlzTGlrZWx5W3R5cGVdKGJ5dGVzKSkge1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufTsgLy8gZm1wNCBpcyBub3QgYSBjb250YWluZXJcblxuZXhwb3J0IHZhciBpc0xpa2VseUZtcDRNZWRpYVNlZ21lbnQgPSBmdW5jdGlvbiBpc0xpa2VseUZtcDRNZWRpYVNlZ21lbnQoYnl0ZXMpIHtcbiAgcmV0dXJuIGZpbmRCb3goYnl0ZXMsIFsnbW9vZiddKS5sZW5ndGggPiAwO1xufTsiXSwibmFtZXMiOlsidG9VaW50OCIsImJ5dGVzTWF0Y2giLCJmaW5kQm94IiwiZmluZEVibWwiLCJFQk1MX1RBR1MiLCJnZXRJZDNPZmZzZXQiLCJmaW5kSDI2NE5hbCIsImZpbmRIMjY1TmFsIiwiQ09OU1RBTlRTIiwiX2lzTGlrZWx5IiwiYWFjIiwiYnl0ZXMiLCJvZmZzZXQiLCJtYXNrIiwibXAzIiwid2VibSIsImRvY1R5cGUiLCJFQk1MIiwiRG9jVHlwZSIsIm1rdiIsIm1hdHJvc2thIiwibXA0IiwibW92IiwiZm1wNCIsIm1vb2YiLCJtb292IiwiZ3AiLCJhYzMiLCJ0cyIsImxlbmd0aCIsImkiLCJmbGFjIiwib2dnIiwiYXZpIiwicmlmZiIsIndhdiIsImgyNjQiLCJoMjY1IiwiaXNMaWtlbHlUeXBlcyIsIk9iamVjdCIsImtleXMiLCJmaWx0ZXIiLCJ0IiwiY29uY2F0IiwiZm9yRWFjaCIsInR5cGUiLCJpc0xpa2VseUZuIiwiaXNMaWtlbHkiLCJkZXRlY3RDb250YWluZXJGb3JCeXRlcyIsImlzTGlrZWx5Rm1wNE1lZGlhU2VnbWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/containers.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/decode-b64-to-uint8-array.js":
/*!**************************************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/decode-b64-to-uint8-array.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decodeB64ToUint8Array)\n/* harmony export */ });\n/* harmony import */ var global_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! global/window */ \"(ssr)/../node_modules/global/window.js\");\n/* harmony import */ var global_window__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(global_window__WEBPACK_IMPORTED_MODULE_0__);\n\nvar atob = function atob(s) {\n    return (global_window__WEBPACK_IMPORTED_MODULE_0___default().atob) ? global_window__WEBPACK_IMPORTED_MODULE_0___default().atob(s) : Buffer.from(s, \"base64\").toString(\"binary\");\n};\nfunction decodeB64ToUint8Array(b64Text) {\n    var decodedString = atob(b64Text);\n    var array = new Uint8Array(decodedString.length);\n    for(var i = 0; i < decodedString.length; i++){\n        array[i] = decodedString.charCodeAt(i);\n    }\n    return array;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9kZWNvZGUtYjY0LXRvLXVpbnQ4LWFycmF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtQztBQUVuQyxJQUFJQyxPQUFPLFNBQVNBLEtBQUtDLENBQUM7SUFDeEIsT0FBT0YsMkRBQVcsR0FBR0EseURBQVcsQ0FBQ0UsS0FBS0MsT0FBT0MsSUFBSSxDQUFDRixHQUFHLFVBQVVHLFFBQVEsQ0FBQztBQUMxRTtBQUVlLFNBQVNDLHNCQUFzQkMsT0FBTztJQUNuRCxJQUFJQyxnQkFBZ0JQLEtBQUtNO0lBQ3pCLElBQUlFLFFBQVEsSUFBSUMsV0FBV0YsY0FBY0csTUFBTTtJQUUvQyxJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUosY0FBY0csTUFBTSxFQUFFQyxJQUFLO1FBQzdDSCxLQUFLLENBQUNHLEVBQUUsR0FBR0osY0FBY0ssVUFBVSxDQUFDRDtJQUN0QztJQUVBLE9BQU9IO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icmVlemUtbmV4dC8uLi9ub2RlX21vZHVsZXMvQHZpZGVvanMvdmhzLXV0aWxzL2VzL2RlY29kZS1iNjQtdG8tdWludDgtYXJyYXkuanM/Mjg0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgd2luZG93IGZyb20gJ2dsb2JhbC93aW5kb3cnO1xuXG52YXIgYXRvYiA9IGZ1bmN0aW9uIGF0b2Iocykge1xuICByZXR1cm4gd2luZG93LmF0b2IgPyB3aW5kb3cuYXRvYihzKSA6IEJ1ZmZlci5mcm9tKHMsICdiYXNlNjQnKS50b1N0cmluZygnYmluYXJ5Jyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWNvZGVCNjRUb1VpbnQ4QXJyYXkoYjY0VGV4dCkge1xuICB2YXIgZGVjb2RlZFN0cmluZyA9IGF0b2IoYjY0VGV4dCk7XG4gIHZhciBhcnJheSA9IG5ldyBVaW50OEFycmF5KGRlY29kZWRTdHJpbmcubGVuZ3RoKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRlY29kZWRTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICBhcnJheVtpXSA9IGRlY29kZWRTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgfVxuXG4gIHJldHVybiBhcnJheTtcbn0iXSwibmFtZXMiOlsid2luZG93IiwiYXRvYiIsInMiLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJkZWNvZGVCNjRUb1VpbnQ4QXJyYXkiLCJiNjRUZXh0IiwiZGVjb2RlZFN0cmluZyIsImFycmF5IiwiVWludDhBcnJheSIsImxlbmd0aCIsImkiLCJjaGFyQ29kZUF0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/decode-b64-to-uint8-array.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/ebml-helpers.js":
/*!*************************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/ebml-helpers.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EBML_TAGS: () => (/* binding */ EBML_TAGS),\n/* harmony export */   decodeBlock: () => (/* binding */ decodeBlock),\n/* harmony export */   findEbml: () => (/* binding */ findEbml),\n/* harmony export */   parseData: () => (/* binding */ parseData),\n/* harmony export */   parseTracks: () => (/* binding */ parseTracks)\n/* harmony export */ });\n/* harmony import */ var _byte_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./byte-helpers */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/byte-helpers.js\");\n/* harmony import */ var _codec_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./codec-helpers.js */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/codec-helpers.js\");\n\n // relevant specs for this parser:\n// https://matroska-org.github.io/libebml/specs.html\n// https://www.matroska.org/technical/elements.html\n// https://www.webmproject.org/docs/container/\nvar EBML_TAGS = {\n    EBML: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x1A,\n        0x45,\n        0xDF,\n        0xA3\n    ]),\n    DocType: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x42,\n        0x82\n    ]),\n    Segment: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x18,\n        0x53,\n        0x80,\n        0x67\n    ]),\n    SegmentInfo: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x15,\n        0x49,\n        0xA9,\n        0x66\n    ]),\n    Tracks: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x16,\n        0x54,\n        0xAE,\n        0x6B\n    ]),\n    Track: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0xAE\n    ]),\n    TrackNumber: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0xd7\n    ]),\n    DefaultDuration: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x23,\n        0xe3,\n        0x83\n    ]),\n    TrackEntry: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0xAE\n    ]),\n    TrackType: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x83\n    ]),\n    FlagDefault: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x88\n    ]),\n    CodecID: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x86\n    ]),\n    CodecPrivate: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x63,\n        0xA2\n    ]),\n    VideoTrack: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0xe0\n    ]),\n    AudioTrack: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0xe1\n    ]),\n    // Not used yet, but will be used for live webm/mkv\n    // see https://www.matroska.org/technical/basics.html#block-structure\n    // see https://www.matroska.org/technical/basics.html#simpleblock-structure\n    Cluster: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x1F,\n        0x43,\n        0xB6,\n        0x75\n    ]),\n    Timestamp: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0xE7\n    ]),\n    TimestampScale: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x2A,\n        0xD7,\n        0xB1\n    ]),\n    BlockGroup: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0xA0\n    ]),\n    BlockDuration: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0x9B\n    ]),\n    Block: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0xA1\n    ]),\n    SimpleBlock: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n        0xA3\n    ])\n};\n/**\n * This is a simple table to determine the length\n * of things in ebml. The length is one based (starts at 1,\n * rather than zero) and for every zero bit before a one bit\n * we add one to length. We also need this table because in some\n * case we have to xor all the length bits from another value.\n */ var LENGTH_TABLE = [\n    128,\n    64,\n    32,\n    16,\n    8,\n    4,\n    2,\n    1\n];\nvar getLength = function getLength(byte) {\n    var len = 1;\n    for(var i = 0; i < LENGTH_TABLE.length; i++){\n        if (byte & LENGTH_TABLE[i]) {\n            break;\n        }\n        len++;\n    }\n    return len;\n}; // length in ebml is stored in the first 4 to 8 bits\n// of the first byte. 4 for the id length and 8 for the\n// data size length. Length is measured by converting the number to binary\n// then 1 + the number of zeros before a 1 is encountered starting\n// from the left.\nvar getvint = function getvint(bytes, offset, removeLength, signed) {\n    if (removeLength === void 0) {\n        removeLength = true;\n    }\n    if (signed === void 0) {\n        signed = false;\n    }\n    var length = getLength(bytes[offset]);\n    var valueBytes = bytes.subarray(offset, offset + length); // NOTE that we do **not** subarray here because we need to copy these bytes\n    // as they will be modified below to remove the dataSizeLen bits and we do not\n    // want to modify the original data. normally we could just call slice on\n    // uint8array but ie 11 does not support that...\n    if (removeLength) {\n        valueBytes = Array.prototype.slice.call(bytes, offset, offset + length);\n        valueBytes[0] ^= LENGTH_TABLE[length - 1];\n    }\n    return {\n        length: length,\n        value: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(valueBytes, {\n            signed: signed\n        }),\n        bytes: valueBytes\n    };\n};\nvar normalizePath = function normalizePath(path) {\n    if (typeof path === \"string\") {\n        return path.match(/.{1,2}/g).map(function(p) {\n            return normalizePath(p);\n        });\n    }\n    if (typeof path === \"number\") {\n        return (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.numberToBytes)(path);\n    }\n    return path;\n};\nvar normalizePaths = function normalizePaths(paths) {\n    if (!Array.isArray(paths)) {\n        return [\n            normalizePath(paths)\n        ];\n    }\n    return paths.map(function(p) {\n        return normalizePath(p);\n    });\n};\nvar getInfinityDataSize = function getInfinityDataSize(id, bytes, offset) {\n    if (offset >= bytes.length) {\n        return bytes.length;\n    }\n    var innerid = getvint(bytes, offset, false);\n    if ((0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(id.bytes, innerid.bytes)) {\n        return offset;\n    }\n    var dataHeader = getvint(bytes, offset + innerid.length);\n    return getInfinityDataSize(id, bytes, offset + dataHeader.length + dataHeader.value + innerid.length);\n};\n/**\n * Notes on the EBLM format.\n *\n * EBLM uses \"vints\" tags. Every vint tag contains\n * two parts\n *\n * 1. The length from the first byte. You get this by\n *    converting the byte to binary and counting the zeros\n *    before a 1. Then you add 1 to that. Examples\n *    00011111 = length 4 because there are 3 zeros before a 1.\n *    00100000 = length 3 because there are 2 zeros before a 1.\n *    00000011 = length 7 because there are 6 zeros before a 1.\n *\n * 2. The bits used for length are removed from the first byte\n *    Then all the bytes are merged into a value. NOTE: this\n *    is not the case for id ebml tags as there id includes\n *    length bits.\n *\n */ var findEbml = function findEbml(bytes, paths) {\n    paths = normalizePaths(paths);\n    bytes = (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)(bytes);\n    var results = [];\n    if (!paths.length) {\n        return results;\n    }\n    var i = 0;\n    while(i < bytes.length){\n        var id = getvint(bytes, i, false);\n        var dataHeader = getvint(bytes, i + id.length);\n        var dataStart = i + id.length + dataHeader.length; // dataSize is unknown or this is a live stream\n        if (dataHeader.value === 0x7f) {\n            dataHeader.value = getInfinityDataSize(id, bytes, dataStart);\n            if (dataHeader.value !== bytes.length) {\n                dataHeader.value -= dataStart;\n            }\n        }\n        var dataEnd = dataStart + dataHeader.value > bytes.length ? bytes.length : dataStart + dataHeader.value;\n        var data = bytes.subarray(dataStart, dataEnd);\n        if ((0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(paths[0], id.bytes)) {\n            if (paths.length === 1) {\n                // this is the end of the paths and we've found the tag we were\n                // looking for\n                results.push(data);\n            } else {\n                // recursively search for the next tag inside of the data\n                // of this one\n                results = results.concat(findEbml(data, paths.slice(1)));\n            }\n        }\n        var totalLength = id.length + dataHeader.length + data.length; // move past this tag entirely, we are not looking for it\n        i += totalLength;\n    }\n    return results;\n}; // see https://www.matroska.org/technical/basics.html#block-structure\nvar decodeBlock = function decodeBlock(block, type, timestampScale, clusterTimestamp) {\n    var duration;\n    if (type === \"group\") {\n        duration = findEbml(block, [\n            EBML_TAGS.BlockDuration\n        ])[0];\n        if (duration) {\n            duration = (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(duration);\n            duration = 1 / timestampScale * duration * timestampScale / 1000;\n        }\n        block = findEbml(block, [\n            EBML_TAGS.Block\n        ])[0];\n        type = \"block\"; // treat data as a block after this point\n    }\n    var dv = new DataView(block.buffer, block.byteOffset, block.byteLength);\n    var trackNumber = getvint(block, 0);\n    var timestamp = dv.getInt16(trackNumber.length, false);\n    var flags = block[trackNumber.length + 2];\n    var data = block.subarray(trackNumber.length + 3); // pts/dts in seconds\n    var ptsdts = 1 / timestampScale * (clusterTimestamp + timestamp) * timestampScale / 1000; // return the frame\n    var parsed = {\n        duration: duration,\n        trackNumber: trackNumber.value,\n        keyframe: type === \"simple\" && flags >> 7 === 1,\n        invisible: (flags & 0x08) >> 3 === 1,\n        lacing: (flags & 0x06) >> 1,\n        discardable: type === \"simple\" && (flags & 0x01) === 1,\n        frames: [],\n        pts: ptsdts,\n        dts: ptsdts,\n        timestamp: timestamp\n    };\n    if (!parsed.lacing) {\n        parsed.frames.push(data);\n        return parsed;\n    }\n    var numberOfFrames = data[0] + 1;\n    var frameSizes = [];\n    var offset = 1; // Fixed\n    if (parsed.lacing === 2) {\n        var sizeOfFrame = (data.length - offset) / numberOfFrames;\n        for(var i = 0; i < numberOfFrames; i++){\n            frameSizes.push(sizeOfFrame);\n        }\n    } // xiph\n    if (parsed.lacing === 1) {\n        for(var _i = 0; _i < numberOfFrames - 1; _i++){\n            var size = 0;\n            do {\n                size += data[offset];\n                offset++;\n            }while (data[offset - 1] === 0xFF);\n            frameSizes.push(size);\n        }\n    } // ebml\n    if (parsed.lacing === 3) {\n        // first vint is unsinged\n        // after that vints are singed and\n        // based on a compounding size\n        var _size = 0;\n        for(var _i2 = 0; _i2 < numberOfFrames - 1; _i2++){\n            var vint = _i2 === 0 ? getvint(data, offset) : getvint(data, offset, true, true);\n            _size += vint.value;\n            frameSizes.push(_size);\n            offset += vint.length;\n        }\n    }\n    frameSizes.forEach(function(size) {\n        parsed.frames.push(data.subarray(offset, offset + size));\n        offset += size;\n    });\n    return parsed;\n}; // VP9 Codec Feature Metadata (CodecPrivate)\n// https://www.webmproject.org/docs/container/\nvar parseVp9Private = function parseVp9Private(bytes) {\n    var i = 0;\n    var params = {};\n    while(i < bytes.length){\n        var id = bytes[i] & 0x7f;\n        var len = bytes[i + 1];\n        var val = void 0;\n        if (len === 1) {\n            val = bytes[i + 2];\n        } else {\n            val = bytes.subarray(i + 2, i + 2 + len);\n        }\n        if (id === 1) {\n            params.profile = val;\n        } else if (id === 2) {\n            params.level = val;\n        } else if (id === 3) {\n            params.bitDepth = val;\n        } else if (id === 4) {\n            params.chromaSubsampling = val;\n        } else {\n            params[id] = val;\n        }\n        i += 2 + len;\n    }\n    return params;\n};\nvar parseTracks = function parseTracks(bytes) {\n    bytes = (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.toUint8)(bytes);\n    var decodedTracks = [];\n    var tracks = findEbml(bytes, [\n        EBML_TAGS.Segment,\n        EBML_TAGS.Tracks,\n        EBML_TAGS.Track\n    ]);\n    if (!tracks.length) {\n        tracks = findEbml(bytes, [\n            EBML_TAGS.Tracks,\n            EBML_TAGS.Track\n        ]);\n    }\n    if (!tracks.length) {\n        tracks = findEbml(bytes, [\n            EBML_TAGS.Track\n        ]);\n    }\n    if (!tracks.length) {\n        return decodedTracks;\n    }\n    tracks.forEach(function(track) {\n        var trackType = findEbml(track, EBML_TAGS.TrackType)[0];\n        if (!trackType || !trackType.length) {\n            return;\n        } // 1 is video, 2 is audio, 17 is subtitle\n        // other values are unimportant in this context\n        if (trackType[0] === 1) {\n            trackType = \"video\";\n        } else if (trackType[0] === 2) {\n            trackType = \"audio\";\n        } else if (trackType[0] === 17) {\n            trackType = \"subtitle\";\n        } else {\n            return;\n        } // todo parse language\n        var decodedTrack = {\n            rawCodec: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.bytesToString)(findEbml(track, [\n                EBML_TAGS.CodecID\n            ])[0]),\n            type: trackType,\n            codecPrivate: findEbml(track, [\n                EBML_TAGS.CodecPrivate\n            ])[0],\n            number: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(findEbml(track, [\n                EBML_TAGS.TrackNumber\n            ])[0]),\n            defaultDuration: (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(findEbml(track, [\n                EBML_TAGS.DefaultDuration\n            ])[0]),\n            default: findEbml(track, [\n                EBML_TAGS.FlagDefault\n            ])[0],\n            rawData: track\n        };\n        var codec = \"\";\n        if (/V_MPEG4\\/ISO\\/AVC/.test(decodedTrack.rawCodec)) {\n            codec = \"avc1.\" + (0,_codec_helpers_js__WEBPACK_IMPORTED_MODULE_1__.getAvcCodec)(decodedTrack.codecPrivate);\n        } else if (/V_MPEGH\\/ISO\\/HEVC/.test(decodedTrack.rawCodec)) {\n            codec = \"hev1.\" + (0,_codec_helpers_js__WEBPACK_IMPORTED_MODULE_1__.getHvcCodec)(decodedTrack.codecPrivate);\n        } else if (/V_MPEG4\\/ISO\\/ASP/.test(decodedTrack.rawCodec)) {\n            if (decodedTrack.codecPrivate) {\n                codec = \"mp4v.20.\" + decodedTrack.codecPrivate[4].toString();\n            } else {\n                codec = \"mp4v.20.9\";\n            }\n        } else if (/^V_THEORA/.test(decodedTrack.rawCodec)) {\n            codec = \"theora\";\n        } else if (/^V_VP8/.test(decodedTrack.rawCodec)) {\n            codec = \"vp8\";\n        } else if (/^V_VP9/.test(decodedTrack.rawCodec)) {\n            if (decodedTrack.codecPrivate) {\n                var _parseVp9Private = parseVp9Private(decodedTrack.codecPrivate), profile = _parseVp9Private.profile, level = _parseVp9Private.level, bitDepth = _parseVp9Private.bitDepth, chromaSubsampling = _parseVp9Private.chromaSubsampling;\n                codec = \"vp09.\";\n                codec += (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.padStart)(profile, 2, \"0\") + \".\";\n                codec += (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.padStart)(level, 2, \"0\") + \".\";\n                codec += (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.padStart)(bitDepth, 2, \"0\") + \".\";\n                codec += \"\" + (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.padStart)(chromaSubsampling, 2, \"0\"); // Video -> Colour -> Ebml name\n                var matrixCoefficients = findEbml(track, [\n                    0xE0,\n                    [\n                        0x55,\n                        0xB0\n                    ],\n                    [\n                        0x55,\n                        0xB1\n                    ]\n                ])[0] || [];\n                var videoFullRangeFlag = findEbml(track, [\n                    0xE0,\n                    [\n                        0x55,\n                        0xB0\n                    ],\n                    [\n                        0x55,\n                        0xB9\n                    ]\n                ])[0] || [];\n                var transferCharacteristics = findEbml(track, [\n                    0xE0,\n                    [\n                        0x55,\n                        0xB0\n                    ],\n                    [\n                        0x55,\n                        0xBA\n                    ]\n                ])[0] || [];\n                var colourPrimaries = findEbml(track, [\n                    0xE0,\n                    [\n                        0x55,\n                        0xB0\n                    ],\n                    [\n                        0x55,\n                        0xBB\n                    ]\n                ])[0] || []; // if we find any optional codec parameter specify them all.\n                if (matrixCoefficients.length || videoFullRangeFlag.length || transferCharacteristics.length || colourPrimaries.length) {\n                    codec += \".\" + (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.padStart)(colourPrimaries[0], 2, \"0\");\n                    codec += \".\" + (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.padStart)(transferCharacteristics[0], 2, \"0\");\n                    codec += \".\" + (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.padStart)(matrixCoefficients[0], 2, \"0\");\n                    codec += \".\" + (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.padStart)(videoFullRangeFlag[0], 2, \"0\");\n                }\n            } else {\n                codec = \"vp9\";\n            }\n        } else if (/^V_AV1/.test(decodedTrack.rawCodec)) {\n            codec = \"av01.\" + (0,_codec_helpers_js__WEBPACK_IMPORTED_MODULE_1__.getAv1Codec)(decodedTrack.codecPrivate);\n        } else if (/A_ALAC/.test(decodedTrack.rawCodec)) {\n            codec = \"alac\";\n        } else if (/A_MPEG\\/L2/.test(decodedTrack.rawCodec)) {\n            codec = \"mp2\";\n        } else if (/A_MPEG\\/L3/.test(decodedTrack.rawCodec)) {\n            codec = \"mp3\";\n        } else if (/^A_AAC/.test(decodedTrack.rawCodec)) {\n            if (decodedTrack.codecPrivate) {\n                codec = \"mp4a.40.\" + (decodedTrack.codecPrivate[0] >>> 3).toString();\n            } else {\n                codec = \"mp4a.40.2\";\n            }\n        } else if (/^A_AC3/.test(decodedTrack.rawCodec)) {\n            codec = \"ac-3\";\n        } else if (/^A_PCM/.test(decodedTrack.rawCodec)) {\n            codec = \"pcm\";\n        } else if (/^A_MS\\/ACM/.test(decodedTrack.rawCodec)) {\n            codec = \"speex\";\n        } else if (/^A_EAC3/.test(decodedTrack.rawCodec)) {\n            codec = \"ec-3\";\n        } else if (/^A_VORBIS/.test(decodedTrack.rawCodec)) {\n            codec = \"vorbis\";\n        } else if (/^A_FLAC/.test(decodedTrack.rawCodec)) {\n            codec = \"flac\";\n        } else if (/^A_OPUS/.test(decodedTrack.rawCodec)) {\n            codec = \"opus\";\n        }\n        decodedTrack.codec = codec;\n        decodedTracks.push(decodedTrack);\n    });\n    return decodedTracks.sort(function(a, b) {\n        return a.number - b.number;\n    });\n};\nvar parseData = function parseData(data, tracks) {\n    var allBlocks = [];\n    var segment = findEbml(data, [\n        EBML_TAGS.Segment\n    ])[0];\n    var timestampScale = findEbml(segment, [\n        EBML_TAGS.SegmentInfo,\n        EBML_TAGS.TimestampScale\n    ])[0]; // in nanoseconds, defaults to 1ms\n    if (timestampScale && timestampScale.length) {\n        timestampScale = (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(timestampScale);\n    } else {\n        timestampScale = 1000000;\n    }\n    var clusters = findEbml(segment, [\n        EBML_TAGS.Cluster\n    ]);\n    if (!tracks) {\n        tracks = parseTracks(segment);\n    }\n    clusters.forEach(function(cluster, ci) {\n        var simpleBlocks = findEbml(cluster, [\n            EBML_TAGS.SimpleBlock\n        ]).map(function(b) {\n            return {\n                type: \"simple\",\n                data: b\n            };\n        });\n        var blockGroups = findEbml(cluster, [\n            EBML_TAGS.BlockGroup\n        ]).map(function(b) {\n            return {\n                type: \"group\",\n                data: b\n            };\n        });\n        var timestamp = findEbml(cluster, [\n            EBML_TAGS.Timestamp\n        ])[0] || 0;\n        if (timestamp && timestamp.length) {\n            timestamp = (0,_byte_helpers__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(timestamp);\n        } // get all blocks then sort them into the correct order\n        var blocks = simpleBlocks.concat(blockGroups).sort(function(a, b) {\n            return a.data.byteOffset - b.data.byteOffset;\n        });\n        blocks.forEach(function(block, bi) {\n            var decoded = decodeBlock(block.data, block.type, timestampScale, timestamp);\n            allBlocks.push(decoded);\n        });\n    });\n    return {\n        tracks: tracks,\n        blocks: allBlocks\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9lYm1sLWhlbHBlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE0RztBQUNqQyxDQUFDLGtDQUFrQztBQUM5RyxvREFBb0Q7QUFDcEQsbURBQW1EO0FBQ25ELDhDQUE4QztBQUV2QyxJQUFJUyxZQUFZO0lBQ3JCQyxNQUFNVixzREFBT0EsQ0FBQztRQUFDO1FBQU07UUFBTTtRQUFNO0tBQUs7SUFDdENXLFNBQVNYLHNEQUFPQSxDQUFDO1FBQUM7UUFBTTtLQUFLO0lBQzdCWSxTQUFTWixzREFBT0EsQ0FBQztRQUFDO1FBQU07UUFBTTtRQUFNO0tBQUs7SUFDekNhLGFBQWFiLHNEQUFPQSxDQUFDO1FBQUM7UUFBTTtRQUFNO1FBQU07S0FBSztJQUM3Q2MsUUFBUWQsc0RBQU9BLENBQUM7UUFBQztRQUFNO1FBQU07UUFBTTtLQUFLO0lBQ3hDZSxPQUFPZixzREFBT0EsQ0FBQztRQUFDO0tBQUs7SUFDckJnQixhQUFhaEIsc0RBQU9BLENBQUM7UUFBQztLQUFLO0lBQzNCaUIsaUJBQWlCakIsc0RBQU9BLENBQUM7UUFBQztRQUFNO1FBQU07S0FBSztJQUMzQ2tCLFlBQVlsQixzREFBT0EsQ0FBQztRQUFDO0tBQUs7SUFDMUJtQixXQUFXbkIsc0RBQU9BLENBQUM7UUFBQztLQUFLO0lBQ3pCb0IsYUFBYXBCLHNEQUFPQSxDQUFDO1FBQUM7S0FBSztJQUMzQnFCLFNBQVNyQixzREFBT0EsQ0FBQztRQUFDO0tBQUs7SUFDdkJzQixjQUFjdEIsc0RBQU9BLENBQUM7UUFBQztRQUFNO0tBQUs7SUFDbEN1QixZQUFZdkIsc0RBQU9BLENBQUM7UUFBQztLQUFLO0lBQzFCd0IsWUFBWXhCLHNEQUFPQSxDQUFDO1FBQUM7S0FBSztJQUMxQixtREFBbUQ7SUFDbkQscUVBQXFFO0lBQ3JFLDJFQUEyRTtJQUMzRXlCLFNBQVN6QixzREFBT0EsQ0FBQztRQUFDO1FBQU07UUFBTTtRQUFNO0tBQUs7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QyxJQUFJLEVBQUVDLGdCQUFnQlM7WUFDbEVvRCxVQUFVbkUsSUFBSSxDQUFDNEU7UUFDakI7SUFDRjtJQUNBLE9BQU87UUFDTC9CLFFBQVFBO1FBQ1I2QixRQUFRUDtJQUNWO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JyZWV6ZS1uZXh0Ly4uL25vZGVfbW9kdWxlcy9AdmlkZW9qcy92aHMtdXRpbHMvZXMvZWJtbC1oZWxwZXJzLmpzPzQzNWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdG9VaW50OCwgYnl0ZXNUb051bWJlciwgYnl0ZXNNYXRjaCwgYnl0ZXNUb1N0cmluZywgbnVtYmVyVG9CeXRlcywgcGFkU3RhcnQgfSBmcm9tICcuL2J5dGUtaGVscGVycyc7XG5pbXBvcnQgeyBnZXRBdmNDb2RlYywgZ2V0SHZjQ29kZWMsIGdldEF2MUNvZGVjIH0gZnJvbSAnLi9jb2RlYy1oZWxwZXJzLmpzJzsgLy8gcmVsZXZhbnQgc3BlY3MgZm9yIHRoaXMgcGFyc2VyOlxuLy8gaHR0cHM6Ly9tYXRyb3NrYS1vcmcuZ2l0aHViLmlvL2xpYmVibWwvc3BlY3MuaHRtbFxuLy8gaHR0cHM6Ly93d3cubWF0cm9za2Eub3JnL3RlY2huaWNhbC9lbGVtZW50cy5odG1sXG4vLyBodHRwczovL3d3dy53ZWJtcHJvamVjdC5vcmcvZG9jcy9jb250YWluZXIvXG5cbmV4cG9ydCB2YXIgRUJNTF9UQUdTID0ge1xuICBFQk1MOiB0b1VpbnQ4KFsweDFBLCAweDQ1LCAweERGLCAweEEzXSksXG4gIERvY1R5cGU6IHRvVWludDgoWzB4NDIsIDB4ODJdKSxcbiAgU2VnbWVudDogdG9VaW50OChbMHgxOCwgMHg1MywgMHg4MCwgMHg2N10pLFxuICBTZWdtZW50SW5mbzogdG9VaW50OChbMHgxNSwgMHg0OSwgMHhBOSwgMHg2Nl0pLFxuICBUcmFja3M6IHRvVWludDgoWzB4MTYsIDB4NTQsIDB4QUUsIDB4NkJdKSxcbiAgVHJhY2s6IHRvVWludDgoWzB4QUVdKSxcbiAgVHJhY2tOdW1iZXI6IHRvVWludDgoWzB4ZDddKSxcbiAgRGVmYXVsdER1cmF0aW9uOiB0b1VpbnQ4KFsweDIzLCAweGUzLCAweDgzXSksXG4gIFRyYWNrRW50cnk6IHRvVWludDgoWzB4QUVdKSxcbiAgVHJhY2tUeXBlOiB0b1VpbnQ4KFsweDgzXSksXG4gIEZsYWdEZWZhdWx0OiB0b1VpbnQ4KFsweDg4XSksXG4gIENvZGVjSUQ6IHRvVWludDgoWzB4ODZdKSxcbiAgQ29kZWNQcml2YXRlOiB0b1VpbnQ4KFsweDYzLCAweEEyXSksXG4gIFZpZGVvVHJhY2s6IHRvVWludDgoWzB4ZTBdKSxcbiAgQXVkaW9UcmFjazogdG9VaW50OChbMHhlMV0pLFxuICAvLyBOb3QgdXNlZCB5ZXQsIGJ1dCB3aWxsIGJlIHVzZWQgZm9yIGxpdmUgd2VibS9ta3ZcbiAgLy8gc2VlIGh0dHBzOi8vd3d3Lm1hdHJvc2thLm9yZy90ZWNobmljYWwvYmFzaWNzLmh0bWwjYmxvY2stc3RydWN0dXJlXG4gIC8vIHNlZSBodHRwczovL3d3dy5tYXRyb3NrYS5vcmcvdGVjaG5pY2FsL2Jhc2ljcy5odG1sI3NpbXBsZWJsb2NrLXN0cnVjdHVyZVxuICBDbHVzdGVyOiB0b1VpbnQ4KFsweDFGLCAweDQzLCAweEI2LCAweDc1XSksXG4gIFRpbWVzdGFtcDogdG9VaW50OChbMHhFN10pLFxuICBUaW1lc3RhbXBTY2FsZTogdG9VaW50OChbMHgyQSwgMHhENywgMHhCMV0pLFxuICBCbG9ja0dyb3VwOiB0b1VpbnQ4KFsweEEwXSksXG4gIEJsb2NrRHVyYXRpb246IHRvVWludDgoWzB4OUJdKSxcbiAgQmxvY2s6IHRvVWludDgoWzB4QTFdKSxcbiAgU2ltcGxlQmxvY2s6IHRvVWludDgoWzB4QTNdKVxufTtcbi8qKlxuICogVGhpcyBpcyBhIHNpbXBsZSB0YWJsZSB0byBkZXRlcm1pbmUgdGhlIGxlbmd0aFxuICogb2YgdGhpbmdzIGluIGVibWwuIFRoZSBsZW5ndGggaXMgb25lIGJhc2VkIChzdGFydHMgYXQgMSxcbiAqIHJhdGhlciB0aGFuIHplcm8pIGFuZCBmb3IgZXZlcnkgemVybyBiaXQgYmVmb3JlIGEgb25lIGJpdFxuICogd2UgYWRkIG9uZSB0byBsZW5ndGguIFdlIGFsc28gbmVlZCB0aGlzIHRhYmxlIGJlY2F1c2UgaW4gc29tZVxuICogY2FzZSB3ZSBoYXZlIHRvIHhvciBhbGwgdGhlIGxlbmd0aCBiaXRzIGZyb20gYW5vdGhlciB2YWx1ZS5cbiAqL1xuXG52YXIgTEVOR1RIX1RBQkxFID0gWzEyOCwgNjQsIDMyLCAxNiwgOCwgNCwgMiwgMV07XG5cbnZhciBnZXRMZW5ndGggPSBmdW5jdGlvbiBnZXRMZW5ndGgoYnl0ZSkge1xuICB2YXIgbGVuID0gMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IExFTkdUSF9UQUJMRS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChieXRlICYgTEVOR1RIX1RBQkxFW2ldKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBsZW4rKztcbiAgfVxuXG4gIHJldHVybiBsZW47XG59OyAvLyBsZW5ndGggaW4gZWJtbCBpcyBzdG9yZWQgaW4gdGhlIGZpcnN0IDQgdG8gOCBiaXRzXG4vLyBvZiB0aGUgZmlyc3QgYnl0ZS4gNCBmb3IgdGhlIGlkIGxlbmd0aCBhbmQgOCBmb3IgdGhlXG4vLyBkYXRhIHNpemUgbGVuZ3RoLiBMZW5ndGggaXMgbWVhc3VyZWQgYnkgY29udmVydGluZyB0aGUgbnVtYmVyIHRvIGJpbmFyeVxuLy8gdGhlbiAxICsgdGhlIG51bWJlciBvZiB6ZXJvcyBiZWZvcmUgYSAxIGlzIGVuY291bnRlcmVkIHN0YXJ0aW5nXG4vLyBmcm9tIHRoZSBsZWZ0LlxuXG5cbnZhciBnZXR2aW50ID0gZnVuY3Rpb24gZ2V0dmludChieXRlcywgb2Zmc2V0LCByZW1vdmVMZW5ndGgsIHNpZ25lZCkge1xuICBpZiAocmVtb3ZlTGVuZ3RoID09PSB2b2lkIDApIHtcbiAgICByZW1vdmVMZW5ndGggPSB0cnVlO1xuICB9XG5cbiAgaWYgKHNpZ25lZCA9PT0gdm9pZCAwKSB7XG4gICAgc2lnbmVkID0gZmFsc2U7XG4gIH1cblxuICB2YXIgbGVuZ3RoID0gZ2V0TGVuZ3RoKGJ5dGVzW29mZnNldF0pO1xuICB2YXIgdmFsdWVCeXRlcyA9IGJ5dGVzLnN1YmFycmF5KG9mZnNldCwgb2Zmc2V0ICsgbGVuZ3RoKTsgLy8gTk9URSB0aGF0IHdlIGRvICoqbm90Kiogc3ViYXJyYXkgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gY29weSB0aGVzZSBieXRlc1xuICAvLyBhcyB0aGV5IHdpbGwgYmUgbW9kaWZpZWQgYmVsb3cgdG8gcmVtb3ZlIHRoZSBkYXRhU2l6ZUxlbiBiaXRzIGFuZCB3ZSBkbyBub3RcbiAgLy8gd2FudCB0byBtb2RpZnkgdGhlIG9yaWdpbmFsIGRhdGEuIG5vcm1hbGx5IHdlIGNvdWxkIGp1c3QgY2FsbCBzbGljZSBvblxuICAvLyB1aW50OGFycmF5IGJ1dCBpZSAxMSBkb2VzIG5vdCBzdXBwb3J0IHRoYXQuLi5cblxuICBpZiAocmVtb3ZlTGVuZ3RoKSB7XG4gICAgdmFsdWVCeXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGJ5dGVzLCBvZmZzZXQsIG9mZnNldCArIGxlbmd0aCk7XG4gICAgdmFsdWVCeXRlc1swXSBePSBMRU5HVEhfVEFCTEVbbGVuZ3RoIC0gMV07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxlbmd0aDogbGVuZ3RoLFxuICAgIHZhbHVlOiBieXRlc1RvTnVtYmVyKHZhbHVlQnl0ZXMsIHtcbiAgICAgIHNpZ25lZDogc2lnbmVkXG4gICAgfSksXG4gICAgYnl0ZXM6IHZhbHVlQnl0ZXNcbiAgfTtcbn07XG5cbnZhciBub3JtYWxpemVQYXRoID0gZnVuY3Rpb24gbm9ybWFsaXplUGF0aChwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcGF0aC5tYXRjaCgvLnsxLDJ9L2cpLm1hcChmdW5jdGlvbiAocCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZVBhdGgocCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHBhdGggPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIG51bWJlclRvQnl0ZXMocGF0aCk7XG4gIH1cblxuICByZXR1cm4gcGF0aDtcbn07XG5cbnZhciBub3JtYWxpemVQYXRocyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVBhdGhzKHBhdGhzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShwYXRocykpIHtcbiAgICByZXR1cm4gW25vcm1hbGl6ZVBhdGgocGF0aHMpXTtcbiAgfVxuXG4gIHJldHVybiBwYXRocy5tYXAoZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gbm9ybWFsaXplUGF0aChwKTtcbiAgfSk7XG59O1xuXG52YXIgZ2V0SW5maW5pdHlEYXRhU2l6ZSA9IGZ1bmN0aW9uIGdldEluZmluaXR5RGF0YVNpemUoaWQsIGJ5dGVzLCBvZmZzZXQpIHtcbiAgaWYgKG9mZnNldCA+PSBieXRlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gYnl0ZXMubGVuZ3RoO1xuICB9XG5cbiAgdmFyIGlubmVyaWQgPSBnZXR2aW50KGJ5dGVzLCBvZmZzZXQsIGZhbHNlKTtcblxuICBpZiAoYnl0ZXNNYXRjaChpZC5ieXRlcywgaW5uZXJpZC5ieXRlcykpIHtcbiAgICByZXR1cm4gb2Zmc2V0O1xuICB9XG5cbiAgdmFyIGRhdGFIZWFkZXIgPSBnZXR2aW50KGJ5dGVzLCBvZmZzZXQgKyBpbm5lcmlkLmxlbmd0aCk7XG4gIHJldHVybiBnZXRJbmZpbml0eURhdGFTaXplKGlkLCBieXRlcywgb2Zmc2V0ICsgZGF0YUhlYWRlci5sZW5ndGggKyBkYXRhSGVhZGVyLnZhbHVlICsgaW5uZXJpZC5sZW5ndGgpO1xufTtcbi8qKlxuICogTm90ZXMgb24gdGhlIEVCTE0gZm9ybWF0LlxuICpcbiAqIEVCTE0gdXNlcyBcInZpbnRzXCIgdGFncy4gRXZlcnkgdmludCB0YWcgY29udGFpbnNcbiAqIHR3byBwYXJ0c1xuICpcbiAqIDEuIFRoZSBsZW5ndGggZnJvbSB0aGUgZmlyc3QgYnl0ZS4gWW91IGdldCB0aGlzIGJ5XG4gKiAgICBjb252ZXJ0aW5nIHRoZSBieXRlIHRvIGJpbmFyeSBhbmQgY291bnRpbmcgdGhlIHplcm9zXG4gKiAgICBiZWZvcmUgYSAxLiBUaGVuIHlvdSBhZGQgMSB0byB0aGF0LiBFeGFtcGxlc1xuICogICAgMDAwMTExMTEgPSBsZW5ndGggNCBiZWNhdXNlIHRoZXJlIGFyZSAzIHplcm9zIGJlZm9yZSBhIDEuXG4gKiAgICAwMDEwMDAwMCA9IGxlbmd0aCAzIGJlY2F1c2UgdGhlcmUgYXJlIDIgemVyb3MgYmVmb3JlIGEgMS5cbiAqICAgIDAwMDAwMDExID0gbGVuZ3RoIDcgYmVjYXVzZSB0aGVyZSBhcmUgNiB6ZXJvcyBiZWZvcmUgYSAxLlxuICpcbiAqIDIuIFRoZSBiaXRzIHVzZWQgZm9yIGxlbmd0aCBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBmaXJzdCBieXRlXG4gKiAgICBUaGVuIGFsbCB0aGUgYnl0ZXMgYXJlIG1lcmdlZCBpbnRvIGEgdmFsdWUuIE5PVEU6IHRoaXNcbiAqICAgIGlzIG5vdCB0aGUgY2FzZSBmb3IgaWQgZWJtbCB0YWdzIGFzIHRoZXJlIGlkIGluY2x1ZGVzXG4gKiAgICBsZW5ndGggYml0cy5cbiAqXG4gKi9cblxuXG5leHBvcnQgdmFyIGZpbmRFYm1sID0gZnVuY3Rpb24gZmluZEVibWwoYnl0ZXMsIHBhdGhzKSB7XG4gIHBhdGhzID0gbm9ybWFsaXplUGF0aHMocGF0aHMpO1xuICBieXRlcyA9IHRvVWludDgoYnl0ZXMpO1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuXG4gIGlmICghcGF0aHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICB2YXIgaSA9IDA7XG5cbiAgd2hpbGUgKGkgPCBieXRlcy5sZW5ndGgpIHtcbiAgICB2YXIgaWQgPSBnZXR2aW50KGJ5dGVzLCBpLCBmYWxzZSk7XG4gICAgdmFyIGRhdGFIZWFkZXIgPSBnZXR2aW50KGJ5dGVzLCBpICsgaWQubGVuZ3RoKTtcbiAgICB2YXIgZGF0YVN0YXJ0ID0gaSArIGlkLmxlbmd0aCArIGRhdGFIZWFkZXIubGVuZ3RoOyAvLyBkYXRhU2l6ZSBpcyB1bmtub3duIG9yIHRoaXMgaXMgYSBsaXZlIHN0cmVhbVxuXG4gICAgaWYgKGRhdGFIZWFkZXIudmFsdWUgPT09IDB4N2YpIHtcbiAgICAgIGRhdGFIZWFkZXIudmFsdWUgPSBnZXRJbmZpbml0eURhdGFTaXplKGlkLCBieXRlcywgZGF0YVN0YXJ0KTtcblxuICAgICAgaWYgKGRhdGFIZWFkZXIudmFsdWUgIT09IGJ5dGVzLmxlbmd0aCkge1xuICAgICAgICBkYXRhSGVhZGVyLnZhbHVlIC09IGRhdGFTdGFydDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGF0YUVuZCA9IGRhdGFTdGFydCArIGRhdGFIZWFkZXIudmFsdWUgPiBieXRlcy5sZW5ndGggPyBieXRlcy5sZW5ndGggOiBkYXRhU3RhcnQgKyBkYXRhSGVhZGVyLnZhbHVlO1xuICAgIHZhciBkYXRhID0gYnl0ZXMuc3ViYXJyYXkoZGF0YVN0YXJ0LCBkYXRhRW5kKTtcblxuICAgIGlmIChieXRlc01hdGNoKHBhdGhzWzBdLCBpZC5ieXRlcykpIHtcbiAgICAgIGlmIChwYXRocy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gdGhpcyBpcyB0aGUgZW5kIG9mIHRoZSBwYXRocyBhbmQgd2UndmUgZm91bmQgdGhlIHRhZyB3ZSB3ZXJlXG4gICAgICAgIC8vIGxvb2tpbmcgZm9yXG4gICAgICAgIHJlc3VsdHMucHVzaChkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgdGhlIG5leHQgdGFnIGluc2lkZSBvZiB0aGUgZGF0YVxuICAgICAgICAvLyBvZiB0aGlzIG9uZVxuICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5jb25jYXQoZmluZEVibWwoZGF0YSwgcGF0aHMuc2xpY2UoMSkpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdG90YWxMZW5ndGggPSBpZC5sZW5ndGggKyBkYXRhSGVhZGVyLmxlbmd0aCArIGRhdGEubGVuZ3RoOyAvLyBtb3ZlIHBhc3QgdGhpcyB0YWcgZW50aXJlbHksIHdlIGFyZSBub3QgbG9va2luZyBmb3IgaXRcblxuICAgIGkgKz0gdG90YWxMZW5ndGg7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0cztcbn07IC8vIHNlZSBodHRwczovL3d3dy5tYXRyb3NrYS5vcmcvdGVjaG5pY2FsL2Jhc2ljcy5odG1sI2Jsb2NrLXN0cnVjdHVyZVxuXG5leHBvcnQgdmFyIGRlY29kZUJsb2NrID0gZnVuY3Rpb24gZGVjb2RlQmxvY2soYmxvY2ssIHR5cGUsIHRpbWVzdGFtcFNjYWxlLCBjbHVzdGVyVGltZXN0YW1wKSB7XG4gIHZhciBkdXJhdGlvbjtcblxuICBpZiAodHlwZSA9PT0gJ2dyb3VwJykge1xuICAgIGR1cmF0aW9uID0gZmluZEVibWwoYmxvY2ssIFtFQk1MX1RBR1MuQmxvY2tEdXJhdGlvbl0pWzBdO1xuXG4gICAgaWYgKGR1cmF0aW9uKSB7XG4gICAgICBkdXJhdGlvbiA9IGJ5dGVzVG9OdW1iZXIoZHVyYXRpb24pO1xuICAgICAgZHVyYXRpb24gPSAxIC8gdGltZXN0YW1wU2NhbGUgKiBkdXJhdGlvbiAqIHRpbWVzdGFtcFNjYWxlIC8gMTAwMDtcbiAgICB9XG5cbiAgICBibG9jayA9IGZpbmRFYm1sKGJsb2NrLCBbRUJNTF9UQUdTLkJsb2NrXSlbMF07XG4gICAgdHlwZSA9ICdibG9jayc7IC8vIHRyZWF0IGRhdGEgYXMgYSBibG9jayBhZnRlciB0aGlzIHBvaW50XG4gIH1cblxuICB2YXIgZHYgPSBuZXcgRGF0YVZpZXcoYmxvY2suYnVmZmVyLCBibG9jay5ieXRlT2Zmc2V0LCBibG9jay5ieXRlTGVuZ3RoKTtcbiAgdmFyIHRyYWNrTnVtYmVyID0gZ2V0dmludChibG9jaywgMCk7XG4gIHZhciB0aW1lc3RhbXAgPSBkdi5nZXRJbnQxNih0cmFja051bWJlci5sZW5ndGgsIGZhbHNlKTtcbiAgdmFyIGZsYWdzID0gYmxvY2tbdHJhY2tOdW1iZXIubGVuZ3RoICsgMl07XG4gIHZhciBkYXRhID0gYmxvY2suc3ViYXJyYXkodHJhY2tOdW1iZXIubGVuZ3RoICsgMyk7IC8vIHB0cy9kdHMgaW4gc2Vjb25kc1xuXG4gIHZhciBwdHNkdHMgPSAxIC8gdGltZXN0YW1wU2NhbGUgKiAoY2x1c3RlclRpbWVzdGFtcCArIHRpbWVzdGFtcCkgKiB0aW1lc3RhbXBTY2FsZSAvIDEwMDA7IC8vIHJldHVybiB0aGUgZnJhbWVcblxuICB2YXIgcGFyc2VkID0ge1xuICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICB0cmFja051bWJlcjogdHJhY2tOdW1iZXIudmFsdWUsXG4gICAga2V5ZnJhbWU6IHR5cGUgPT09ICdzaW1wbGUnICYmIGZsYWdzID4+IDcgPT09IDEsXG4gICAgaW52aXNpYmxlOiAoZmxhZ3MgJiAweDA4KSA+PiAzID09PSAxLFxuICAgIGxhY2luZzogKGZsYWdzICYgMHgwNikgPj4gMSxcbiAgICBkaXNjYXJkYWJsZTogdHlwZSA9PT0gJ3NpbXBsZScgJiYgKGZsYWdzICYgMHgwMSkgPT09IDEsXG4gICAgZnJhbWVzOiBbXSxcbiAgICBwdHM6IHB0c2R0cyxcbiAgICBkdHM6IHB0c2R0cyxcbiAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcFxuICB9O1xuXG4gIGlmICghcGFyc2VkLmxhY2luZykge1xuICAgIHBhcnNlZC5mcmFtZXMucHVzaChkYXRhKTtcbiAgICByZXR1cm4gcGFyc2VkO1xuICB9XG5cbiAgdmFyIG51bWJlck9mRnJhbWVzID0gZGF0YVswXSArIDE7XG4gIHZhciBmcmFtZVNpemVzID0gW107XG4gIHZhciBvZmZzZXQgPSAxOyAvLyBGaXhlZFxuXG4gIGlmIChwYXJzZWQubGFjaW5nID09PSAyKSB7XG4gICAgdmFyIHNpemVPZkZyYW1lID0gKGRhdGEubGVuZ3RoIC0gb2Zmc2V0KSAvIG51bWJlck9mRnJhbWVzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZkZyYW1lczsgaSsrKSB7XG4gICAgICBmcmFtZVNpemVzLnB1c2goc2l6ZU9mRnJhbWUpO1xuICAgIH1cbiAgfSAvLyB4aXBoXG5cblxuICBpZiAocGFyc2VkLmxhY2luZyA9PT0gMSkge1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBudW1iZXJPZkZyYW1lcyAtIDE7IF9pKyspIHtcbiAgICAgIHZhciBzaXplID0gMDtcblxuICAgICAgZG8ge1xuICAgICAgICBzaXplICs9IGRhdGFbb2Zmc2V0XTtcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICB9IHdoaWxlIChkYXRhW29mZnNldCAtIDFdID09PSAweEZGKTtcblxuICAgICAgZnJhbWVTaXplcy5wdXNoKHNpemUpO1xuICAgIH1cbiAgfSAvLyBlYm1sXG5cblxuICBpZiAocGFyc2VkLmxhY2luZyA9PT0gMykge1xuICAgIC8vIGZpcnN0IHZpbnQgaXMgdW5zaW5nZWRcbiAgICAvLyBhZnRlciB0aGF0IHZpbnRzIGFyZSBzaW5nZWQgYW5kXG4gICAgLy8gYmFzZWQgb24gYSBjb21wb3VuZGluZyBzaXplXG4gICAgdmFyIF9zaXplID0gMDtcblxuICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IG51bWJlck9mRnJhbWVzIC0gMTsgX2kyKyspIHtcbiAgICAgIHZhciB2aW50ID0gX2kyID09PSAwID8gZ2V0dmludChkYXRhLCBvZmZzZXQpIDogZ2V0dmludChkYXRhLCBvZmZzZXQsIHRydWUsIHRydWUpO1xuICAgICAgX3NpemUgKz0gdmludC52YWx1ZTtcbiAgICAgIGZyYW1lU2l6ZXMucHVzaChfc2l6ZSk7XG4gICAgICBvZmZzZXQgKz0gdmludC5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgZnJhbWVTaXplcy5mb3JFYWNoKGZ1bmN0aW9uIChzaXplKSB7XG4gICAgcGFyc2VkLmZyYW1lcy5wdXNoKGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyBzaXplKSk7XG4gICAgb2Zmc2V0ICs9IHNpemU7XG4gIH0pO1xuICByZXR1cm4gcGFyc2VkO1xufTsgLy8gVlA5IENvZGVjIEZlYXR1cmUgTWV0YWRhdGEgKENvZGVjUHJpdmF0ZSlcbi8vIGh0dHBzOi8vd3d3LndlYm1wcm9qZWN0Lm9yZy9kb2NzL2NvbnRhaW5lci9cblxudmFyIHBhcnNlVnA5UHJpdmF0ZSA9IGZ1bmN0aW9uIHBhcnNlVnA5UHJpdmF0ZShieXRlcykge1xuICB2YXIgaSA9IDA7XG4gIHZhciBwYXJhbXMgPSB7fTtcblxuICB3aGlsZSAoaSA8IGJ5dGVzLmxlbmd0aCkge1xuICAgIHZhciBpZCA9IGJ5dGVzW2ldICYgMHg3ZjtcbiAgICB2YXIgbGVuID0gYnl0ZXNbaSArIDFdO1xuICAgIHZhciB2YWwgPSB2b2lkIDA7XG5cbiAgICBpZiAobGVuID09PSAxKSB7XG4gICAgICB2YWwgPSBieXRlc1tpICsgMl07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbCA9IGJ5dGVzLnN1YmFycmF5KGkgKyAyLCBpICsgMiArIGxlbik7XG4gICAgfVxuXG4gICAgaWYgKGlkID09PSAxKSB7XG4gICAgICBwYXJhbXMucHJvZmlsZSA9IHZhbDtcbiAgICB9IGVsc2UgaWYgKGlkID09PSAyKSB7XG4gICAgICBwYXJhbXMubGV2ZWwgPSB2YWw7XG4gICAgfSBlbHNlIGlmIChpZCA9PT0gMykge1xuICAgICAgcGFyYW1zLmJpdERlcHRoID0gdmFsO1xuICAgIH0gZWxzZSBpZiAoaWQgPT09IDQpIHtcbiAgICAgIHBhcmFtcy5jaHJvbWFTdWJzYW1wbGluZyA9IHZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyYW1zW2lkXSA9IHZhbDtcbiAgICB9XG5cbiAgICBpICs9IDIgKyBsZW47XG4gIH1cblxuICByZXR1cm4gcGFyYW1zO1xufTtcblxuZXhwb3J0IHZhciBwYXJzZVRyYWNrcyA9IGZ1bmN0aW9uIHBhcnNlVHJhY2tzKGJ5dGVzKSB7XG4gIGJ5dGVzID0gdG9VaW50OChieXRlcyk7XG4gIHZhciBkZWNvZGVkVHJhY2tzID0gW107XG4gIHZhciB0cmFja3MgPSBmaW5kRWJtbChieXRlcywgW0VCTUxfVEFHUy5TZWdtZW50LCBFQk1MX1RBR1MuVHJhY2tzLCBFQk1MX1RBR1MuVHJhY2tdKTtcblxuICBpZiAoIXRyYWNrcy5sZW5ndGgpIHtcbiAgICB0cmFja3MgPSBmaW5kRWJtbChieXRlcywgW0VCTUxfVEFHUy5UcmFja3MsIEVCTUxfVEFHUy5UcmFja10pO1xuICB9XG5cbiAgaWYgKCF0cmFja3MubGVuZ3RoKSB7XG4gICAgdHJhY2tzID0gZmluZEVibWwoYnl0ZXMsIFtFQk1MX1RBR1MuVHJhY2tdKTtcbiAgfVxuXG4gIGlmICghdHJhY2tzLmxlbmd0aCkge1xuICAgIHJldHVybiBkZWNvZGVkVHJhY2tzO1xuICB9XG5cbiAgdHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgdmFyIHRyYWNrVHlwZSA9IGZpbmRFYm1sKHRyYWNrLCBFQk1MX1RBR1MuVHJhY2tUeXBlKVswXTtcblxuICAgIGlmICghdHJhY2tUeXBlIHx8ICF0cmFja1R5cGUubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyAxIGlzIHZpZGVvLCAyIGlzIGF1ZGlvLCAxNyBpcyBzdWJ0aXRsZVxuICAgIC8vIG90aGVyIHZhbHVlcyBhcmUgdW5pbXBvcnRhbnQgaW4gdGhpcyBjb250ZXh0XG5cblxuICAgIGlmICh0cmFja1R5cGVbMF0gPT09IDEpIHtcbiAgICAgIHRyYWNrVHlwZSA9ICd2aWRlbyc7XG4gICAgfSBlbHNlIGlmICh0cmFja1R5cGVbMF0gPT09IDIpIHtcbiAgICAgIHRyYWNrVHlwZSA9ICdhdWRpbyc7XG4gICAgfSBlbHNlIGlmICh0cmFja1R5cGVbMF0gPT09IDE3KSB7XG4gICAgICB0cmFja1R5cGUgPSAnc3VidGl0bGUnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyB0b2RvIHBhcnNlIGxhbmd1YWdlXG5cblxuICAgIHZhciBkZWNvZGVkVHJhY2sgPSB7XG4gICAgICByYXdDb2RlYzogYnl0ZXNUb1N0cmluZyhmaW5kRWJtbCh0cmFjaywgW0VCTUxfVEFHUy5Db2RlY0lEXSlbMF0pLFxuICAgICAgdHlwZTogdHJhY2tUeXBlLFxuICAgICAgY29kZWNQcml2YXRlOiBmaW5kRWJtbCh0cmFjaywgW0VCTUxfVEFHUy5Db2RlY1ByaXZhdGVdKVswXSxcbiAgICAgIG51bWJlcjogYnl0ZXNUb051bWJlcihmaW5kRWJtbCh0cmFjaywgW0VCTUxfVEFHUy5UcmFja051bWJlcl0pWzBdKSxcbiAgICAgIGRlZmF1bHREdXJhdGlvbjogYnl0ZXNUb051bWJlcihmaW5kRWJtbCh0cmFjaywgW0VCTUxfVEFHUy5EZWZhdWx0RHVyYXRpb25dKVswXSksXG4gICAgICBkZWZhdWx0OiBmaW5kRWJtbCh0cmFjaywgW0VCTUxfVEFHUy5GbGFnRGVmYXVsdF0pWzBdLFxuICAgICAgcmF3RGF0YTogdHJhY2tcbiAgICB9O1xuICAgIHZhciBjb2RlYyA9ICcnO1xuXG4gICAgaWYgKC9WX01QRUc0XFwvSVNPXFwvQVZDLy50ZXN0KGRlY29kZWRUcmFjay5yYXdDb2RlYykpIHtcbiAgICAgIGNvZGVjID0gXCJhdmMxLlwiICsgZ2V0QXZjQ29kZWMoZGVjb2RlZFRyYWNrLmNvZGVjUHJpdmF0ZSk7XG4gICAgfSBlbHNlIGlmICgvVl9NUEVHSFxcL0lTT1xcL0hFVkMvLnRlc3QoZGVjb2RlZFRyYWNrLnJhd0NvZGVjKSkge1xuICAgICAgY29kZWMgPSBcImhldjEuXCIgKyBnZXRIdmNDb2RlYyhkZWNvZGVkVHJhY2suY29kZWNQcml2YXRlKTtcbiAgICB9IGVsc2UgaWYgKC9WX01QRUc0XFwvSVNPXFwvQVNQLy50ZXN0KGRlY29kZWRUcmFjay5yYXdDb2RlYykpIHtcbiAgICAgIGlmIChkZWNvZGVkVHJhY2suY29kZWNQcml2YXRlKSB7XG4gICAgICAgIGNvZGVjID0gJ21wNHYuMjAuJyArIGRlY29kZWRUcmFjay5jb2RlY1ByaXZhdGVbNF0udG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvZGVjID0gJ21wNHYuMjAuOSc7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgvXlZfVEhFT1JBLy50ZXN0KGRlY29kZWRUcmFjay5yYXdDb2RlYykpIHtcbiAgICAgIGNvZGVjID0gJ3RoZW9yYSc7XG4gICAgfSBlbHNlIGlmICgvXlZfVlA4Ly50ZXN0KGRlY29kZWRUcmFjay5yYXdDb2RlYykpIHtcbiAgICAgIGNvZGVjID0gJ3ZwOCc7XG4gICAgfSBlbHNlIGlmICgvXlZfVlA5Ly50ZXN0KGRlY29kZWRUcmFjay5yYXdDb2RlYykpIHtcbiAgICAgIGlmIChkZWNvZGVkVHJhY2suY29kZWNQcml2YXRlKSB7XG4gICAgICAgIHZhciBfcGFyc2VWcDlQcml2YXRlID0gcGFyc2VWcDlQcml2YXRlKGRlY29kZWRUcmFjay5jb2RlY1ByaXZhdGUpLFxuICAgICAgICAgICAgcHJvZmlsZSA9IF9wYXJzZVZwOVByaXZhdGUucHJvZmlsZSxcbiAgICAgICAgICAgIGxldmVsID0gX3BhcnNlVnA5UHJpdmF0ZS5sZXZlbCxcbiAgICAgICAgICAgIGJpdERlcHRoID0gX3BhcnNlVnA5UHJpdmF0ZS5iaXREZXB0aCxcbiAgICAgICAgICAgIGNocm9tYVN1YnNhbXBsaW5nID0gX3BhcnNlVnA5UHJpdmF0ZS5jaHJvbWFTdWJzYW1wbGluZztcblxuICAgICAgICBjb2RlYyA9ICd2cDA5Lic7XG4gICAgICAgIGNvZGVjICs9IHBhZFN0YXJ0KHByb2ZpbGUsIDIsICcwJykgKyBcIi5cIjtcbiAgICAgICAgY29kZWMgKz0gcGFkU3RhcnQobGV2ZWwsIDIsICcwJykgKyBcIi5cIjtcbiAgICAgICAgY29kZWMgKz0gcGFkU3RhcnQoYml0RGVwdGgsIDIsICcwJykgKyBcIi5cIjtcbiAgICAgICAgY29kZWMgKz0gXCJcIiArIHBhZFN0YXJ0KGNocm9tYVN1YnNhbXBsaW5nLCAyLCAnMCcpOyAvLyBWaWRlbyAtPiBDb2xvdXIgLT4gRWJtbCBuYW1lXG5cbiAgICAgICAgdmFyIG1hdHJpeENvZWZmaWNpZW50cyA9IGZpbmRFYm1sKHRyYWNrLCBbMHhFMCwgWzB4NTUsIDB4QjBdLCBbMHg1NSwgMHhCMV1dKVswXSB8fCBbXTtcbiAgICAgICAgdmFyIHZpZGVvRnVsbFJhbmdlRmxhZyA9IGZpbmRFYm1sKHRyYWNrLCBbMHhFMCwgWzB4NTUsIDB4QjBdLCBbMHg1NSwgMHhCOV1dKVswXSB8fCBbXTtcbiAgICAgICAgdmFyIHRyYW5zZmVyQ2hhcmFjdGVyaXN0aWNzID0gZmluZEVibWwodHJhY2ssIFsweEUwLCBbMHg1NSwgMHhCMF0sIFsweDU1LCAweEJBXV0pWzBdIHx8IFtdO1xuICAgICAgICB2YXIgY29sb3VyUHJpbWFyaWVzID0gZmluZEVibWwodHJhY2ssIFsweEUwLCBbMHg1NSwgMHhCMF0sIFsweDU1LCAweEJCXV0pWzBdIHx8IFtdOyAvLyBpZiB3ZSBmaW5kIGFueSBvcHRpb25hbCBjb2RlYyBwYXJhbWV0ZXIgc3BlY2lmeSB0aGVtIGFsbC5cblxuICAgICAgICBpZiAobWF0cml4Q29lZmZpY2llbnRzLmxlbmd0aCB8fCB2aWRlb0Z1bGxSYW5nZUZsYWcubGVuZ3RoIHx8IHRyYW5zZmVyQ2hhcmFjdGVyaXN0aWNzLmxlbmd0aCB8fCBjb2xvdXJQcmltYXJpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgY29kZWMgKz0gXCIuXCIgKyBwYWRTdGFydChjb2xvdXJQcmltYXJpZXNbMF0sIDIsICcwJyk7XG4gICAgICAgICAgY29kZWMgKz0gXCIuXCIgKyBwYWRTdGFydCh0cmFuc2ZlckNoYXJhY3RlcmlzdGljc1swXSwgMiwgJzAnKTtcbiAgICAgICAgICBjb2RlYyArPSBcIi5cIiArIHBhZFN0YXJ0KG1hdHJpeENvZWZmaWNpZW50c1swXSwgMiwgJzAnKTtcbiAgICAgICAgICBjb2RlYyArPSBcIi5cIiArIHBhZFN0YXJ0KHZpZGVvRnVsbFJhbmdlRmxhZ1swXSwgMiwgJzAnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29kZWMgPSAndnA5JztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKC9eVl9BVjEvLnRlc3QoZGVjb2RlZFRyYWNrLnJhd0NvZGVjKSkge1xuICAgICAgY29kZWMgPSBcImF2MDEuXCIgKyBnZXRBdjFDb2RlYyhkZWNvZGVkVHJhY2suY29kZWNQcml2YXRlKTtcbiAgICB9IGVsc2UgaWYgKC9BX0FMQUMvLnRlc3QoZGVjb2RlZFRyYWNrLnJhd0NvZGVjKSkge1xuICAgICAgY29kZWMgPSAnYWxhYyc7XG4gICAgfSBlbHNlIGlmICgvQV9NUEVHXFwvTDIvLnRlc3QoZGVjb2RlZFRyYWNrLnJhd0NvZGVjKSkge1xuICAgICAgY29kZWMgPSAnbXAyJztcbiAgICB9IGVsc2UgaWYgKC9BX01QRUdcXC9MMy8udGVzdChkZWNvZGVkVHJhY2sucmF3Q29kZWMpKSB7XG4gICAgICBjb2RlYyA9ICdtcDMnO1xuICAgIH0gZWxzZSBpZiAoL15BX0FBQy8udGVzdChkZWNvZGVkVHJhY2sucmF3Q29kZWMpKSB7XG4gICAgICBpZiAoZGVjb2RlZFRyYWNrLmNvZGVjUHJpdmF0ZSkge1xuICAgICAgICBjb2RlYyA9ICdtcDRhLjQwLicgKyAoZGVjb2RlZFRyYWNrLmNvZGVjUHJpdmF0ZVswXSA+Pj4gMykudG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvZGVjID0gJ21wNGEuNDAuMic7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgvXkFfQUMzLy50ZXN0KGRlY29kZWRUcmFjay5yYXdDb2RlYykpIHtcbiAgICAgIGNvZGVjID0gJ2FjLTMnO1xuICAgIH0gZWxzZSBpZiAoL15BX1BDTS8udGVzdChkZWNvZGVkVHJhY2sucmF3Q29kZWMpKSB7XG4gICAgICBjb2RlYyA9ICdwY20nO1xuICAgIH0gZWxzZSBpZiAoL15BX01TXFwvQUNNLy50ZXN0KGRlY29kZWRUcmFjay5yYXdDb2RlYykpIHtcbiAgICAgIGNvZGVjID0gJ3NwZWV4JztcbiAgICB9IGVsc2UgaWYgKC9eQV9FQUMzLy50ZXN0KGRlY29kZWRUcmFjay5yYXdDb2RlYykpIHtcbiAgICAgIGNvZGVjID0gJ2VjLTMnO1xuICAgIH0gZWxzZSBpZiAoL15BX1ZPUkJJUy8udGVzdChkZWNvZGVkVHJhY2sucmF3Q29kZWMpKSB7XG4gICAgICBjb2RlYyA9ICd2b3JiaXMnO1xuICAgIH0gZWxzZSBpZiAoL15BX0ZMQUMvLnRlc3QoZGVjb2RlZFRyYWNrLnJhd0NvZGVjKSkge1xuICAgICAgY29kZWMgPSAnZmxhYyc7XG4gICAgfSBlbHNlIGlmICgvXkFfT1BVUy8udGVzdChkZWNvZGVkVHJhY2sucmF3Q29kZWMpKSB7XG4gICAgICBjb2RlYyA9ICdvcHVzJztcbiAgICB9XG5cbiAgICBkZWNvZGVkVHJhY2suY29kZWMgPSBjb2RlYztcbiAgICBkZWNvZGVkVHJhY2tzLnB1c2goZGVjb2RlZFRyYWNrKTtcbiAgfSk7XG4gIHJldHVybiBkZWNvZGVkVHJhY2tzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYS5udW1iZXIgLSBiLm51bWJlcjtcbiAgfSk7XG59O1xuZXhwb3J0IHZhciBwYXJzZURhdGEgPSBmdW5jdGlvbiBwYXJzZURhdGEoZGF0YSwgdHJhY2tzKSB7XG4gIHZhciBhbGxCbG9ja3MgPSBbXTtcbiAgdmFyIHNlZ21lbnQgPSBmaW5kRWJtbChkYXRhLCBbRUJNTF9UQUdTLlNlZ21lbnRdKVswXTtcbiAgdmFyIHRpbWVzdGFtcFNjYWxlID0gZmluZEVibWwoc2VnbWVudCwgW0VCTUxfVEFHUy5TZWdtZW50SW5mbywgRUJNTF9UQUdTLlRpbWVzdGFtcFNjYWxlXSlbMF07IC8vIGluIG5hbm9zZWNvbmRzLCBkZWZhdWx0cyB0byAxbXNcblxuICBpZiAodGltZXN0YW1wU2NhbGUgJiYgdGltZXN0YW1wU2NhbGUubGVuZ3RoKSB7XG4gICAgdGltZXN0YW1wU2NhbGUgPSBieXRlc1RvTnVtYmVyKHRpbWVzdGFtcFNjYWxlKTtcbiAgfSBlbHNlIHtcbiAgICB0aW1lc3RhbXBTY2FsZSA9IDEwMDAwMDA7XG4gIH1cblxuICB2YXIgY2x1c3RlcnMgPSBmaW5kRWJtbChzZWdtZW50LCBbRUJNTF9UQUdTLkNsdXN0ZXJdKTtcblxuICBpZiAoIXRyYWNrcykge1xuICAgIHRyYWNrcyA9IHBhcnNlVHJhY2tzKHNlZ21lbnQpO1xuICB9XG5cbiAgY2x1c3RlcnMuZm9yRWFjaChmdW5jdGlvbiAoY2x1c3RlciwgY2kpIHtcbiAgICB2YXIgc2ltcGxlQmxvY2tzID0gZmluZEVibWwoY2x1c3RlciwgW0VCTUxfVEFHUy5TaW1wbGVCbG9ja10pLm1hcChmdW5jdGlvbiAoYikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3NpbXBsZScsXG4gICAgICAgIGRhdGE6IGJcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdmFyIGJsb2NrR3JvdXBzID0gZmluZEVibWwoY2x1c3RlciwgW0VCTUxfVEFHUy5CbG9ja0dyb3VwXSkubWFwKGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZ3JvdXAnLFxuICAgICAgICBkYXRhOiBiXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHZhciB0aW1lc3RhbXAgPSBmaW5kRWJtbChjbHVzdGVyLCBbRUJNTF9UQUdTLlRpbWVzdGFtcF0pWzBdIHx8IDA7XG5cbiAgICBpZiAodGltZXN0YW1wICYmIHRpbWVzdGFtcC5sZW5ndGgpIHtcbiAgICAgIHRpbWVzdGFtcCA9IGJ5dGVzVG9OdW1iZXIodGltZXN0YW1wKTtcbiAgICB9IC8vIGdldCBhbGwgYmxvY2tzIHRoZW4gc29ydCB0aGVtIGludG8gdGhlIGNvcnJlY3Qgb3JkZXJcblxuXG4gICAgdmFyIGJsb2NrcyA9IHNpbXBsZUJsb2Nrcy5jb25jYXQoYmxvY2tHcm91cHMpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLmRhdGEuYnl0ZU9mZnNldCAtIGIuZGF0YS5ieXRlT2Zmc2V0O1xuICAgIH0pO1xuICAgIGJsb2Nrcy5mb3JFYWNoKGZ1bmN0aW9uIChibG9jaywgYmkpIHtcbiAgICAgIHZhciBkZWNvZGVkID0gZGVjb2RlQmxvY2soYmxvY2suZGF0YSwgYmxvY2sudHlwZSwgdGltZXN0YW1wU2NhbGUsIHRpbWVzdGFtcCk7XG4gICAgICBhbGxCbG9ja3MucHVzaChkZWNvZGVkKTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgdHJhY2tzOiB0cmFja3MsXG4gICAgYmxvY2tzOiBhbGxCbG9ja3NcbiAgfTtcbn07Il0sIm5hbWVzIjpbInRvVWludDgiLCJieXRlc1RvTnVtYmVyIiwiYnl0ZXNNYXRjaCIsImJ5dGVzVG9TdHJpbmciLCJudW1iZXJUb0J5dGVzIiwicGFkU3RhcnQiLCJnZXRBdmNDb2RlYyIsImdldEh2Y0NvZGVjIiwiZ2V0QXYxQ29kZWMiLCJFQk1MX1RBR1MiLCJFQk1MIiwiRG9jVHlwZSIsIlNlZ21lbnQiLCJTZWdtZW50SW5mbyIsIlRyYWNrcyIsIlRyYWNrIiwiVHJhY2tOdW1iZXIiLCJEZWZhdWx0RHVyYXRpb24iLCJUcmFja0VudHJ5IiwiVHJhY2tUeXBlIiwiRmxhZ0RlZmF1bHQiLCJDb2RlY0lEIiwiQ29kZWNQcml2YXRlIiwiVmlkZW9UcmFjayIsIkF1ZGlvVHJhY2siLCJDbHVzdGVyIiwiVGltZXN0YW1wIiwiVGltZXN0YW1wU2NhbGUiLCJCbG9ja0dyb3VwIiwiQmxvY2tEdXJhdGlvbiIsIkJsb2NrIiwiU2ltcGxlQmxvY2siLCJMRU5HVEhfVEFCTEUiLCJnZXRMZW5ndGgiLCJieXRlIiwibGVuIiwiaSIsImxlbmd0aCIsImdldHZpbnQiLCJieXRlcyIsIm9mZnNldCIsInJlbW92ZUxlbmd0aCIsInNpZ25lZCIsInZhbHVlQnl0ZXMiLCJzdWJhcnJheSIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwidmFsdWUiLCJub3JtYWxpemVQYXRoIiwicGF0aCIsIm1hdGNoIiwibWFwIiwicCIsIm5vcm1hbGl6ZVBhdGhzIiwicGF0aHMiLCJpc0FycmF5IiwiZ2V0SW5maW5pdHlEYXRhU2l6ZSIsImlkIiwiaW5uZXJpZCIsImRhdGFIZWFkZXIiLCJmaW5kRWJtbCIsInJlc3VsdHMiLCJkYXRhU3RhcnQiLCJkYXRhRW5kIiwiZGF0YSIsInB1c2giLCJjb25jYXQiLCJ0b3RhbExlbmd0aCIsImRlY29kZUJsb2NrIiwiYmxvY2siLCJ0eXBlIiwidGltZXN0YW1wU2NhbGUiLCJjbHVzdGVyVGltZXN0YW1wIiwiZHVyYXRpb24iLCJkdiIsIkRhdGFWaWV3IiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJ0cmFja051bWJlciIsInRpbWVzdGFtcCIsImdldEludDE2IiwiZmxhZ3MiLCJwdHNkdHMiLCJwYXJzZWQiLCJrZXlmcmFtZSIsImludmlzaWJsZSIsImxhY2luZyIsImRpc2NhcmRhYmxlIiwiZnJhbWVzIiwicHRzIiwiZHRzIiwibnVtYmVyT2ZGcmFtZXMiLCJmcmFtZVNpemVzIiwic2l6ZU9mRnJhbWUiLCJfaSIsInNpemUiLCJfc2l6ZSIsIl9pMiIsInZpbnQiLCJmb3JFYWNoIiwicGFyc2VWcDlQcml2YXRlIiwicGFyYW1zIiwidmFsIiwicHJvZmlsZSIsImxldmVsIiwiYml0RGVwdGgiLCJjaHJvbWFTdWJzYW1wbGluZyIsInBhcnNlVHJhY2tzIiwiZGVjb2RlZFRyYWNrcyIsInRyYWNrcyIsInRyYWNrIiwidHJhY2tUeXBlIiwiZGVjb2RlZFRyYWNrIiwicmF3Q29kZWMiLCJjb2RlY1ByaXZhdGUiLCJudW1iZXIiLCJkZWZhdWx0RHVyYXRpb24iLCJkZWZhdWx0IiwicmF3RGF0YSIsImNvZGVjIiwidGVzdCIsInRvU3RyaW5nIiwiX3BhcnNlVnA5UHJpdmF0ZSIsIm1hdHJpeENvZWZmaWNpZW50cyIsInZpZGVvRnVsbFJhbmdlRmxhZyIsInRyYW5zZmVyQ2hhcmFjdGVyaXN0aWNzIiwiY29sb3VyUHJpbWFyaWVzIiwic29ydCIsImEiLCJiIiwicGFyc2VEYXRhIiwiYWxsQmxvY2tzIiwic2VnbWVudCIsImNsdXN0ZXJzIiwiY2x1c3RlciIsImNpIiwic2ltcGxlQmxvY2tzIiwiYmxvY2tHcm91cHMiLCJibG9ja3MiLCJiaSIsImRlY29kZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/ebml-helpers.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/id3-helpers.js":
/*!************************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/id3-helpers.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getId3Offset: () => (/* binding */ getId3Offset),\n/* harmony export */   getId3Size: () => (/* binding */ getId3Size)\n/* harmony export */ });\n/* harmony import */ var _byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./byte-helpers.js */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/byte-helpers.js\");\n\nvar ID3 = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n    0x49,\n    0x44,\n    0x33\n]);\nvar getId3Size = function getId3Size(bytes, offset) {\n    if (offset === void 0) {\n        offset = 0;\n    }\n    bytes = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)(bytes);\n    var flags = bytes[offset + 5];\n    var returnSize = bytes[offset + 6] << 21 | bytes[offset + 7] << 14 | bytes[offset + 8] << 7 | bytes[offset + 9];\n    var footerPresent = (flags & 16) >> 4;\n    if (footerPresent) {\n        return returnSize + 20;\n    }\n    return returnSize + 10;\n};\nvar getId3Offset = function getId3Offset(bytes, offset) {\n    if (offset === void 0) {\n        offset = 0;\n    }\n    bytes = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)(bytes);\n    if (bytes.length - offset < 10 || !(0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes, ID3, {\n        offset: offset\n    })) {\n        return offset;\n    }\n    offset += getId3Size(bytes, offset); // recursive check for id3 tags as some files\n    // have multiple ID3 tag sections even though\n    // they should not.\n    return getId3Offset(bytes, offset);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9pZDMtaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0Q7QUFDeEQsSUFBSUUsTUFBTUYseURBQU9BLENBQUM7SUFBQztJQUFNO0lBQU07Q0FBSztBQUM3QixJQUFJRyxhQUFhLFNBQVNBLFdBQVdDLEtBQUssRUFBRUMsTUFBTTtJQUN2RCxJQUFJQSxXQUFXLEtBQUssR0FBRztRQUNyQkEsU0FBUztJQUNYO0lBRUFELFFBQVFKLHlEQUFPQSxDQUFDSTtJQUNoQixJQUFJRSxRQUFRRixLQUFLLENBQUNDLFNBQVMsRUFBRTtJQUM3QixJQUFJRSxhQUFhSCxLQUFLLENBQUNDLFNBQVMsRUFBRSxJQUFJLEtBQUtELEtBQUssQ0FBQ0MsU0FBUyxFQUFFLElBQUksS0FBS0QsS0FBSyxDQUFDQyxTQUFTLEVBQUUsSUFBSSxJQUFJRCxLQUFLLENBQUNDLFNBQVMsRUFBRTtJQUMvRyxJQUFJRyxnQkFBZ0IsQ0FBQ0YsUUFBUSxFQUFDLEtBQU07SUFFcEMsSUFBSUUsZUFBZTtRQUNqQixPQUFPRCxhQUFhO0lBQ3RCO0lBRUEsT0FBT0EsYUFBYTtBQUN0QixFQUFFO0FBQ0ssSUFBSUUsZUFBZSxTQUFTQSxhQUFhTCxLQUFLLEVBQUVDLE1BQU07SUFDM0QsSUFBSUEsV0FBVyxLQUFLLEdBQUc7UUFDckJBLFNBQVM7SUFDWDtJQUVBRCxRQUFRSix5REFBT0EsQ0FBQ0k7SUFFaEIsSUFBSUEsTUFBTU0sTUFBTSxHQUFHTCxTQUFTLE1BQU0sQ0FBQ0osNERBQVVBLENBQUNHLE9BQU9GLEtBQUs7UUFDeERHLFFBQVFBO0lBQ1YsSUFBSTtRQUNGLE9BQU9BO0lBQ1Q7SUFFQUEsVUFBVUYsV0FBV0MsT0FBT0MsU0FBUyw2Q0FBNkM7SUFDbEYsNkNBQTZDO0lBQzdDLG1CQUFtQjtJQUVuQixPQUFPSSxhQUFhTCxPQUFPQztBQUM3QixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJlZXplLW5leHQvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9pZDMtaGVscGVycy5qcz8wNzY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRvVWludDgsIGJ5dGVzTWF0Y2ggfSBmcm9tICcuL2J5dGUtaGVscGVycy5qcyc7XG52YXIgSUQzID0gdG9VaW50OChbMHg0OSwgMHg0NCwgMHgzM10pO1xuZXhwb3J0IHZhciBnZXRJZDNTaXplID0gZnVuY3Rpb24gZ2V0SWQzU2l6ZShieXRlcywgb2Zmc2V0KSB7XG4gIGlmIChvZmZzZXQgPT09IHZvaWQgMCkge1xuICAgIG9mZnNldCA9IDA7XG4gIH1cblxuICBieXRlcyA9IHRvVWludDgoYnl0ZXMpO1xuICB2YXIgZmxhZ3MgPSBieXRlc1tvZmZzZXQgKyA1XTtcbiAgdmFyIHJldHVyblNpemUgPSBieXRlc1tvZmZzZXQgKyA2XSA8PCAyMSB8IGJ5dGVzW29mZnNldCArIDddIDw8IDE0IHwgYnl0ZXNbb2Zmc2V0ICsgOF0gPDwgNyB8IGJ5dGVzW29mZnNldCArIDldO1xuICB2YXIgZm9vdGVyUHJlc2VudCA9IChmbGFncyAmIDE2KSA+PiA0O1xuXG4gIGlmIChmb290ZXJQcmVzZW50KSB7XG4gICAgcmV0dXJuIHJldHVyblNpemUgKyAyMDtcbiAgfVxuXG4gIHJldHVybiByZXR1cm5TaXplICsgMTA7XG59O1xuZXhwb3J0IHZhciBnZXRJZDNPZmZzZXQgPSBmdW5jdGlvbiBnZXRJZDNPZmZzZXQoYnl0ZXMsIG9mZnNldCkge1xuICBpZiAob2Zmc2V0ID09PSB2b2lkIDApIHtcbiAgICBvZmZzZXQgPSAwO1xuICB9XG5cbiAgYnl0ZXMgPSB0b1VpbnQ4KGJ5dGVzKTtcblxuICBpZiAoYnl0ZXMubGVuZ3RoIC0gb2Zmc2V0IDwgMTAgfHwgIWJ5dGVzTWF0Y2goYnl0ZXMsIElEMywge1xuICAgIG9mZnNldDogb2Zmc2V0XG4gIH0pKSB7XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIG9mZnNldCArPSBnZXRJZDNTaXplKGJ5dGVzLCBvZmZzZXQpOyAvLyByZWN1cnNpdmUgY2hlY2sgZm9yIGlkMyB0YWdzIGFzIHNvbWUgZmlsZXNcbiAgLy8gaGF2ZSBtdWx0aXBsZSBJRDMgdGFnIHNlY3Rpb25zIGV2ZW4gdGhvdWdoXG4gIC8vIHRoZXkgc2hvdWxkIG5vdC5cblxuICByZXR1cm4gZ2V0SWQzT2Zmc2V0KGJ5dGVzLCBvZmZzZXQpO1xufTsiXSwibmFtZXMiOlsidG9VaW50OCIsImJ5dGVzTWF0Y2giLCJJRDMiLCJnZXRJZDNTaXplIiwiYnl0ZXMiLCJvZmZzZXQiLCJmbGFncyIsInJldHVyblNpemUiLCJmb290ZXJQcmVzZW50IiwiZ2V0SWQzT2Zmc2V0IiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/id3-helpers.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/media-groups.js":
/*!*************************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/media-groups.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   forEachMediaGroup: () => (/* binding */ forEachMediaGroup)\n/* harmony export */ });\n/**\n * Loops through all supported media groups in master and calls the provided\n * callback for each group\n *\n * @param {Object} master\n *        The parsed master manifest object\n * @param {string[]} groups\n *        The media groups to call the callback for\n * @param {Function} callback\n *        Callback to call for each media group\n */ var forEachMediaGroup = function forEachMediaGroup(master, groups, callback) {\n    groups.forEach(function(mediaType) {\n        for(var groupKey in master.mediaGroups[mediaType]){\n            for(var labelKey in master.mediaGroups[mediaType][groupKey]){\n                var mediaProperties = master.mediaGroups[mediaType][groupKey][labelKey];\n                callback(mediaProperties, mediaType, groupKey, labelKey);\n            }\n        }\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9tZWRpYS1ncm91cHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7Ozs7O0NBVUMsR0FDTSxJQUFJQSxvQkFBb0IsU0FBU0Esa0JBQWtCQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsUUFBUTtJQUNoRkQsT0FBT0UsT0FBTyxDQUFDLFNBQVVDLFNBQVM7UUFDaEMsSUFBSyxJQUFJQyxZQUFZTCxPQUFPTSxXQUFXLENBQUNGLFVBQVUsQ0FBRTtZQUNsRCxJQUFLLElBQUlHLFlBQVlQLE9BQU9NLFdBQVcsQ0FBQ0YsVUFBVSxDQUFDQyxTQUFTLENBQUU7Z0JBQzVELElBQUlHLGtCQUFrQlIsT0FBT00sV0FBVyxDQUFDRixVQUFVLENBQUNDLFNBQVMsQ0FBQ0UsU0FBUztnQkFDdkVMLFNBQVNNLGlCQUFpQkosV0FBV0MsVUFBVUU7WUFDakQ7UUFDRjtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JyZWV6ZS1uZXh0Ly4uL25vZGVfbW9kdWxlcy9AdmlkZW9qcy92aHMtdXRpbHMvZXMvbWVkaWEtZ3JvdXBzLmpzP2E3ZjkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMb29wcyB0aHJvdWdoIGFsbCBzdXBwb3J0ZWQgbWVkaWEgZ3JvdXBzIGluIG1hc3RlciBhbmQgY2FsbHMgdGhlIHByb3ZpZGVkXG4gKiBjYWxsYmFjayBmb3IgZWFjaCBncm91cFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXN0ZXJcbiAqICAgICAgICBUaGUgcGFyc2VkIG1hc3RlciBtYW5pZmVzdCBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nW119IGdyb3Vwc1xuICogICAgICAgIFRoZSBtZWRpYSBncm91cHMgdG8gY2FsbCB0aGUgY2FsbGJhY2sgZm9yXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogICAgICAgIENhbGxiYWNrIHRvIGNhbGwgZm9yIGVhY2ggbWVkaWEgZ3JvdXBcbiAqL1xuZXhwb3J0IHZhciBmb3JFYWNoTWVkaWFHcm91cCA9IGZ1bmN0aW9uIGZvckVhY2hNZWRpYUdyb3VwKG1hc3RlciwgZ3JvdXBzLCBjYWxsYmFjaykge1xuICBncm91cHMuZm9yRWFjaChmdW5jdGlvbiAobWVkaWFUeXBlKSB7XG4gICAgZm9yICh2YXIgZ3JvdXBLZXkgaW4gbWFzdGVyLm1lZGlhR3JvdXBzW21lZGlhVHlwZV0pIHtcbiAgICAgIGZvciAodmFyIGxhYmVsS2V5IGluIG1hc3Rlci5tZWRpYUdyb3Vwc1ttZWRpYVR5cGVdW2dyb3VwS2V5XSkge1xuICAgICAgICB2YXIgbWVkaWFQcm9wZXJ0aWVzID0gbWFzdGVyLm1lZGlhR3JvdXBzW21lZGlhVHlwZV1bZ3JvdXBLZXldW2xhYmVsS2V5XTtcbiAgICAgICAgY2FsbGJhY2sobWVkaWFQcm9wZXJ0aWVzLCBtZWRpYVR5cGUsIGdyb3VwS2V5LCBsYWJlbEtleSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07Il0sIm5hbWVzIjpbImZvckVhY2hNZWRpYUdyb3VwIiwibWFzdGVyIiwiZ3JvdXBzIiwiY2FsbGJhY2siLCJmb3JFYWNoIiwibWVkaWFUeXBlIiwiZ3JvdXBLZXkiLCJtZWRpYUdyb3VwcyIsImxhYmVsS2V5IiwibWVkaWFQcm9wZXJ0aWVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/media-groups.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/media-types.js":
/*!************************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/media-types.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   simpleTypeFromSourceType: () => (/* binding */ simpleTypeFromSourceType)\n/* harmony export */ });\nvar MPEGURL_REGEX = /^(audio|video|application)\\/(x-|vnd\\.apple\\.)?mpegurl/i;\nvar DASH_REGEX = /^application\\/dash\\+xml/i;\n/**\n * Returns a string that describes the type of source based on a video source object's\n * media type.\n *\n * @see {@link https://dev.w3.org/html5/pf-summary/video.html#dom-source-type|Source Type}\n *\n * @param {string} type\n *        Video source object media type\n * @return {('hls'|'dash'|'vhs-json'|null)}\n *         VHS source type string\n */ var simpleTypeFromSourceType = function simpleTypeFromSourceType(type) {\n    if (MPEGURL_REGEX.test(type)) {\n        return \"hls\";\n    }\n    if (DASH_REGEX.test(type)) {\n        return \"dash\";\n    } // Denotes the special case of a manifest object passed to http-streaming instead of a\n    // source URL.\n    //\n    // See https://en.wikipedia.org/wiki/Media_type for details on specifying media types.\n    //\n    // In this case, vnd stands for vendor, video.js for the organization, VHS for this\n    // project, and the +json suffix identifies the structure of the media type.\n    if (type === \"application/vnd.videojs.vhs+json\") {\n        return \"vhs-json\";\n    }\n    return null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9tZWRpYS10eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSUEsZ0JBQWdCO0FBQ3BCLElBQUlDLGFBQWE7QUFDakI7Ozs7Ozs7Ozs7Q0FVQyxHQUVNLElBQUlDLDJCQUEyQixTQUFTQSx5QkFBeUJDLElBQUk7SUFDMUUsSUFBSUgsY0FBY0ksSUFBSSxDQUFDRCxPQUFPO1FBQzVCLE9BQU87SUFDVDtJQUVBLElBQUlGLFdBQVdHLElBQUksQ0FBQ0QsT0FBTztRQUN6QixPQUFPO0lBQ1QsRUFBRSxzRkFBc0Y7SUFDeEYsY0FBYztJQUNkLEVBQUU7SUFDRixzRkFBc0Y7SUFDdEYsRUFBRTtJQUNGLG1GQUFtRjtJQUNuRiw0RUFBNEU7SUFHNUUsSUFBSUEsU0FBUyxvQ0FBb0M7UUFDL0MsT0FBTztJQUNUO0lBRUEsT0FBTztBQUNULEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icmVlemUtbmV4dC8uLi9ub2RlX21vZHVsZXMvQHZpZGVvanMvdmhzLXV0aWxzL2VzL21lZGlhLXR5cGVzLmpzP2ViOTIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIE1QRUdVUkxfUkVHRVggPSAvXihhdWRpb3x2aWRlb3xhcHBsaWNhdGlvbilcXC8oeC18dm5kXFwuYXBwbGVcXC4pP21wZWd1cmwvaTtcbnZhciBEQVNIX1JFR0VYID0gL15hcHBsaWNhdGlvblxcL2Rhc2hcXCt4bWwvaTtcbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyB0aGF0IGRlc2NyaWJlcyB0aGUgdHlwZSBvZiBzb3VyY2UgYmFzZWQgb24gYSB2aWRlbyBzb3VyY2Ugb2JqZWN0J3NcbiAqIG1lZGlhIHR5cGUuXG4gKlxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXYudzMub3JnL2h0bWw1L3BmLXN1bW1hcnkvdmlkZW8uaHRtbCNkb20tc291cmNlLXR5cGV8U291cmNlIFR5cGV9XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqICAgICAgICBWaWRlbyBzb3VyY2Ugb2JqZWN0IG1lZGlhIHR5cGVcbiAqIEByZXR1cm4geygnaGxzJ3wnZGFzaCd8J3Zocy1qc29uJ3xudWxsKX1cbiAqICAgICAgICAgVkhTIHNvdXJjZSB0eXBlIHN0cmluZ1xuICovXG5cbmV4cG9ydCB2YXIgc2ltcGxlVHlwZUZyb21Tb3VyY2VUeXBlID0gZnVuY3Rpb24gc2ltcGxlVHlwZUZyb21Tb3VyY2VUeXBlKHR5cGUpIHtcbiAgaWYgKE1QRUdVUkxfUkVHRVgudGVzdCh0eXBlKSkge1xuICAgIHJldHVybiAnaGxzJztcbiAgfVxuXG4gIGlmIChEQVNIX1JFR0VYLnRlc3QodHlwZSkpIHtcbiAgICByZXR1cm4gJ2Rhc2gnO1xuICB9IC8vIERlbm90ZXMgdGhlIHNwZWNpYWwgY2FzZSBvZiBhIG1hbmlmZXN0IG9iamVjdCBwYXNzZWQgdG8gaHR0cC1zdHJlYW1pbmcgaW5zdGVhZCBvZiBhXG4gIC8vIHNvdXJjZSBVUkwuXG4gIC8vXG4gIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NZWRpYV90eXBlIGZvciBkZXRhaWxzIG9uIHNwZWNpZnlpbmcgbWVkaWEgdHlwZXMuXG4gIC8vXG4gIC8vIEluIHRoaXMgY2FzZSwgdm5kIHN0YW5kcyBmb3IgdmVuZG9yLCB2aWRlby5qcyBmb3IgdGhlIG9yZ2FuaXphdGlvbiwgVkhTIGZvciB0aGlzXG4gIC8vIHByb2plY3QsIGFuZCB0aGUgK2pzb24gc3VmZml4IGlkZW50aWZpZXMgdGhlIHN0cnVjdHVyZSBvZiB0aGUgbWVkaWEgdHlwZS5cblxuXG4gIGlmICh0eXBlID09PSAnYXBwbGljYXRpb24vdm5kLnZpZGVvanMudmhzK2pzb24nKSB7XG4gICAgcmV0dXJuICd2aHMtanNvbic7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07Il0sIm5hbWVzIjpbIk1QRUdVUkxfUkVHRVgiLCJEQVNIX1JFR0VYIiwic2ltcGxlVHlwZUZyb21Tb3VyY2VUeXBlIiwidHlwZSIsInRlc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/media-types.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/mp4-helpers.js":
/*!************************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/mp4-helpers.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addSampleDescription: () => (/* binding */ addSampleDescription),\n/* harmony export */   buildFrameTable: () => (/* binding */ buildFrameTable),\n/* harmony export */   findBox: () => (/* binding */ findBox),\n/* harmony export */   findNamedBox: () => (/* binding */ findNamedBox),\n/* harmony export */   parseDescriptors: () => (/* binding */ parseDescriptors),\n/* harmony export */   parseMediaInfo: () => (/* binding */ parseMediaInfo),\n/* harmony export */   parseTracks: () => (/* binding */ parseTracks)\n/* harmony export */ });\n/* harmony import */ var _byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./byte-helpers.js */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/byte-helpers.js\");\n/* harmony import */ var _codec_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./codec-helpers.js */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/codec-helpers.js\");\n/* harmony import */ var _opus_helpers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./opus-helpers.js */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/opus-helpers.js\");\n\n\n\nvar normalizePath = function normalizePath(path) {\n    if (typeof path === \"string\") {\n        return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.stringToBytes)(path);\n    }\n    if (typeof path === \"number\") {\n        return path;\n    }\n    return path;\n};\nvar normalizePaths = function normalizePaths(paths) {\n    if (!Array.isArray(paths)) {\n        return [\n            normalizePath(paths)\n        ];\n    }\n    return paths.map(function(p) {\n        return normalizePath(p);\n    });\n};\nvar DESCRIPTORS;\nvar parseDescriptors = function parseDescriptors(bytes) {\n    bytes = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)(bytes);\n    var results = [];\n    var i = 0;\n    while(bytes.length > i){\n        var tag = bytes[i];\n        var size = 0;\n        var headerSize = 0; // tag\n        headerSize++;\n        var byte = bytes[headerSize]; // first byte\n        headerSize++;\n        while(byte & 0x80){\n            size = (byte & 0x7F) << 7;\n            byte = bytes[headerSize];\n            headerSize++;\n        }\n        size += byte & 0x7F;\n        for(var z = 0; z < DESCRIPTORS.length; z++){\n            var _DESCRIPTORS$z = DESCRIPTORS[z], id = _DESCRIPTORS$z.id, parser = _DESCRIPTORS$z.parser;\n            if (tag === id) {\n                results.push(parser(bytes.subarray(headerSize, headerSize + size)));\n                break;\n            }\n        }\n        i += size + headerSize;\n    }\n    return results;\n};\nDESCRIPTORS = [\n    {\n        id: 0x03,\n        parser: function parser(bytes) {\n            var desc = {\n                tag: 0x03,\n                id: bytes[0] << 8 | bytes[1],\n                flags: bytes[2],\n                size: 3,\n                dependsOnEsId: 0,\n                ocrEsId: 0,\n                descriptors: [],\n                url: \"\"\n            }; // depends on es id\n            if (desc.flags & 0x80) {\n                desc.dependsOnEsId = bytes[desc.size] << 8 | bytes[desc.size + 1];\n                desc.size += 2;\n            } // url\n            if (desc.flags & 0x40) {\n                var len = bytes[desc.size];\n                desc.url = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToString)(bytes.subarray(desc.size + 1, desc.size + 1 + len));\n                desc.size += len;\n            } // ocr es id\n            if (desc.flags & 0x20) {\n                desc.ocrEsId = bytes[desc.size] << 8 | bytes[desc.size + 1];\n                desc.size += 2;\n            }\n            desc.descriptors = parseDescriptors(bytes.subarray(desc.size)) || [];\n            return desc;\n        }\n    },\n    {\n        id: 0x04,\n        parser: function parser(bytes) {\n            // DecoderConfigDescriptor\n            var desc = {\n                tag: 0x04,\n                oti: bytes[0],\n                streamType: bytes[1],\n                bufferSize: bytes[2] << 16 | bytes[3] << 8 | bytes[4],\n                maxBitrate: bytes[5] << 24 | bytes[6] << 16 | bytes[7] << 8 | bytes[8],\n                avgBitrate: bytes[9] << 24 | bytes[10] << 16 | bytes[11] << 8 | bytes[12],\n                descriptors: parseDescriptors(bytes.subarray(13))\n            };\n            return desc;\n        }\n    },\n    {\n        id: 0x05,\n        parser: function parser(bytes) {\n            // DecoderSpecificInfo\n            return {\n                tag: 0x05,\n                bytes: bytes\n            };\n        }\n    },\n    {\n        id: 0x06,\n        parser: function parser(bytes) {\n            // SLConfigDescriptor\n            return {\n                tag: 0x06,\n                bytes: bytes\n            };\n        }\n    }\n];\n/**\n * find any number of boxes by name given a path to it in an iso bmff\n * such as mp4.\n *\n * @param {TypedArray} bytes\n *        bytes for the iso bmff to search for boxes in\n *\n * @param {Uint8Array[]|string[]|string|Uint8Array} name\n *        An array of paths or a single path representing the name\n *        of boxes to search through in bytes. Paths may be\n *        uint8 (character codes) or strings.\n *\n * @param {boolean} [complete=false]\n *        Should we search only for complete boxes on the final path.\n *        This is very useful when you do not want to get back partial boxes\n *        in the case of streaming files.\n *\n * @return {Uint8Array[]}\n *         An array of the end paths that we found.\n */ var findBox = function findBox(bytes, paths, complete) {\n    if (complete === void 0) {\n        complete = false;\n    }\n    paths = normalizePaths(paths);\n    bytes = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)(bytes);\n    var results = [];\n    if (!paths.length) {\n        // short-circuit the search for empty paths\n        return results;\n    }\n    var i = 0;\n    while(i < bytes.length){\n        var size = (bytes[i] << 24 | bytes[i + 1] << 16 | bytes[i + 2] << 8 | bytes[i + 3]) >>> 0;\n        var type = bytes.subarray(i + 4, i + 8); // invalid box format.\n        if (size === 0) {\n            break;\n        }\n        var end = i + size;\n        if (end > bytes.length) {\n            // this box is bigger than the number of bytes we have\n            // and complete is set, we cannot find any more boxes.\n            if (complete) {\n                break;\n            }\n            end = bytes.length;\n        }\n        var data = bytes.subarray(i + 8, end);\n        if ((0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(type, paths[0])) {\n            if (paths.length === 1) {\n                // this is the end of the path and we've found the box we were\n                // looking for\n                results.push(data);\n            } else {\n                // recursively search for the next box along the path\n                results.push.apply(results, findBox(data, paths.slice(1), complete));\n            }\n        }\n        i = end;\n    } // we've finished searching all of bytes\n    return results;\n};\n/**\n * Search for a single matching box by name in an iso bmff format like\n * mp4. This function is useful for finding codec boxes which\n * can be placed arbitrarily in sample descriptions depending\n * on the version of the file or file type.\n *\n * @param {TypedArray} bytes\n *        bytes for the iso bmff to search for boxes in\n *\n * @param {string|Uint8Array} name\n *        The name of the box to find.\n *\n * @return {Uint8Array[]}\n *         a subarray of bytes representing the name boxed we found.\n */ var findNamedBox = function findNamedBox(bytes, name) {\n    name = normalizePath(name);\n    if (!name.length) {\n        // short-circuit the search for empty paths\n        return bytes.subarray(bytes.length);\n    }\n    var i = 0;\n    while(i < bytes.length){\n        if ((0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes.subarray(i, i + name.length), name)) {\n            var size = (bytes[i - 4] << 24 | bytes[i - 3] << 16 | bytes[i - 2] << 8 | bytes[i - 1]) >>> 0;\n            var end = size > 1 ? i + size : bytes.byteLength;\n            return bytes.subarray(i + 4, end);\n        }\n        i++;\n    } // we've finished searching all of bytes\n    return bytes.subarray(bytes.length);\n};\nvar parseSamples = function parseSamples(data, entrySize, parseEntry) {\n    if (entrySize === void 0) {\n        entrySize = 4;\n    }\n    if (parseEntry === void 0) {\n        parseEntry = function parseEntry(d) {\n            return (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(d);\n        };\n    }\n    var entries = [];\n    if (!data || !data.length) {\n        return entries;\n    }\n    var entryCount = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(data.subarray(4, 8));\n    for(var i = 8; entryCount; i += entrySize, entryCount--){\n        entries.push(parseEntry(data.subarray(i, i + entrySize)));\n    }\n    return entries;\n};\nvar buildFrameTable = function buildFrameTable(stbl, timescale) {\n    var keySamples = parseSamples(findBox(stbl, [\n        \"stss\"\n    ])[0]);\n    var chunkOffsets = parseSamples(findBox(stbl, [\n        \"stco\"\n    ])[0]);\n    var timeToSamples = parseSamples(findBox(stbl, [\n        \"stts\"\n    ])[0], 8, function(entry) {\n        return {\n            sampleCount: (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(entry.subarray(0, 4)),\n            sampleDelta: (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(entry.subarray(4, 8))\n        };\n    });\n    var samplesToChunks = parseSamples(findBox(stbl, [\n        \"stsc\"\n    ])[0], 12, function(entry) {\n        return {\n            firstChunk: (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(entry.subarray(0, 4)),\n            samplesPerChunk: (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(entry.subarray(4, 8)),\n            sampleDescriptionIndex: (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(entry.subarray(8, 12))\n        };\n    });\n    var stsz = findBox(stbl, [\n        \"stsz\"\n    ])[0]; // stsz starts with a 4 byte sampleSize which we don't need\n    var sampleSizes = parseSamples(stsz && stsz.length && stsz.subarray(4) || null);\n    var frames = [];\n    for(var chunkIndex = 0; chunkIndex < chunkOffsets.length; chunkIndex++){\n        var samplesInChunk = void 0;\n        for(var i = 0; i < samplesToChunks.length; i++){\n            var sampleToChunk = samplesToChunks[i];\n            var isThisOne = chunkIndex + 1 >= sampleToChunk.firstChunk && (i + 1 >= samplesToChunks.length || chunkIndex + 1 < samplesToChunks[i + 1].firstChunk);\n            if (isThisOne) {\n                samplesInChunk = sampleToChunk.samplesPerChunk;\n                break;\n            }\n        }\n        var chunkOffset = chunkOffsets[chunkIndex];\n        for(var _i = 0; _i < samplesInChunk; _i++){\n            var frameEnd = sampleSizes[frames.length]; // if we don't have key samples every frame is a keyframe\n            var keyframe = !keySamples.length;\n            if (keySamples.length && keySamples.indexOf(frames.length + 1) !== -1) {\n                keyframe = true;\n            }\n            var frame = {\n                keyframe: keyframe,\n                start: chunkOffset,\n                end: chunkOffset + frameEnd\n            };\n            for(var k = 0; k < timeToSamples.length; k++){\n                var _timeToSamples$k = timeToSamples[k], sampleCount = _timeToSamples$k.sampleCount, sampleDelta = _timeToSamples$k.sampleDelta;\n                if (frames.length <= sampleCount) {\n                    // ms to ns\n                    var lastTimestamp = frames.length ? frames[frames.length - 1].timestamp : 0;\n                    frame.timestamp = lastTimestamp + sampleDelta / timescale * 1000;\n                    frame.duration = sampleDelta;\n                    break;\n                }\n            }\n            frames.push(frame);\n            chunkOffset += frameEnd;\n        }\n    }\n    return frames;\n};\nvar addSampleDescription = function addSampleDescription(track, bytes) {\n    var codec = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToString)(bytes.subarray(0, 4));\n    if (track.type === \"video\") {\n        track.info = track.info || {};\n        track.info.width = bytes[28] << 8 | bytes[29];\n        track.info.height = bytes[30] << 8 | bytes[31];\n    } else if (track.type === \"audio\") {\n        track.info = track.info || {};\n        track.info.channels = bytes[20] << 8 | bytes[21];\n        track.info.bitDepth = bytes[22] << 8 | bytes[23];\n        track.info.sampleRate = bytes[28] << 8 | bytes[29];\n    }\n    if (codec === \"avc1\") {\n        var avcC = findNamedBox(bytes, \"avcC\"); // AVCDecoderConfigurationRecord\n        codec += \".\" + (0,_codec_helpers_js__WEBPACK_IMPORTED_MODULE_1__.getAvcCodec)(avcC);\n        track.info.avcC = avcC; // TODO: do we need to parse all this?\n    /* {\n      configurationVersion: avcC[0],\n      profile: avcC[1],\n      profileCompatibility: avcC[2],\n      level: avcC[3],\n      lengthSizeMinusOne: avcC[4] & 0x3\n    };\n     let spsNalUnitCount = avcC[5] & 0x1F;\n    const spsNalUnits = track.info.avc.spsNalUnits = [];\n     // past spsNalUnitCount\n    let offset = 6;\n     while (spsNalUnitCount--) {\n      const nalLen = avcC[offset] << 8 | avcC[offset + 1];\n       spsNalUnits.push(avcC.subarray(offset + 2, offset + 2 + nalLen));\n       offset += nalLen + 2;\n    }\n    let ppsNalUnitCount = avcC[offset];\n    const ppsNalUnits = track.info.avc.ppsNalUnits = [];\n     // past ppsNalUnitCount\n    offset += 1;\n     while (ppsNalUnitCount--) {\n      const nalLen = avcC[offset] << 8 | avcC[offset + 1];\n       ppsNalUnits.push(avcC.subarray(offset + 2, offset + 2 + nalLen));\n       offset += nalLen + 2;\n    }*/ // HEVCDecoderConfigurationRecord\n    } else if (codec === \"hvc1\" || codec === \"hev1\") {\n        codec += \".\" + (0,_codec_helpers_js__WEBPACK_IMPORTED_MODULE_1__.getHvcCodec)(findNamedBox(bytes, \"hvcC\"));\n    } else if (codec === \"mp4a\" || codec === \"mp4v\") {\n        var esds = findNamedBox(bytes, \"esds\");\n        var esDescriptor = parseDescriptors(esds.subarray(4))[0];\n        var decoderConfig = esDescriptor && esDescriptor.descriptors.filter(function(_ref) {\n            var tag = _ref.tag;\n            return tag === 0x04;\n        })[0];\n        if (decoderConfig) {\n            // most codecs do not have a further '.'\n            // such as 0xa5 for ac-3 and 0xa6 for e-ac-3\n            codec += \".\" + (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toHexString)(decoderConfig.oti);\n            if (decoderConfig.oti === 0x40) {\n                codec += \".\" + (decoderConfig.descriptors[0].bytes[0] >> 3).toString();\n            } else if (decoderConfig.oti === 0x20) {\n                codec += \".\" + decoderConfig.descriptors[0].bytes[4].toString();\n            } else if (decoderConfig.oti === 0xdd) {\n                codec = \"vorbis\";\n            }\n        } else if (track.type === \"audio\") {\n            codec += \".40.2\";\n        } else {\n            codec += \".20.9\";\n        }\n    } else if (codec === \"av01\") {\n        // AV1DecoderConfigurationRecord\n        codec += \".\" + (0,_codec_helpers_js__WEBPACK_IMPORTED_MODULE_1__.getAv1Codec)(findNamedBox(bytes, \"av1C\"));\n    } else if (codec === \"vp09\") {\n        // VPCodecConfigurationRecord\n        var vpcC = findNamedBox(bytes, \"vpcC\"); // https://www.webmproject.org/vp9/mp4/\n        var profile = vpcC[0];\n        var level = vpcC[1];\n        var bitDepth = vpcC[2] >> 4;\n        var chromaSubsampling = (vpcC[2] & 0x0F) >> 1;\n        var videoFullRangeFlag = (vpcC[2] & 0x0F) >> 3;\n        var colourPrimaries = vpcC[3];\n        var transferCharacteristics = vpcC[4];\n        var matrixCoefficients = vpcC[5];\n        codec += \".\" + (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.padStart)(profile, 2, \"0\");\n        codec += \".\" + (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.padStart)(level, 2, \"0\");\n        codec += \".\" + (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.padStart)(bitDepth, 2, \"0\");\n        codec += \".\" + (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.padStart)(chromaSubsampling, 2, \"0\");\n        codec += \".\" + (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.padStart)(colourPrimaries, 2, \"0\");\n        codec += \".\" + (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.padStart)(transferCharacteristics, 2, \"0\");\n        codec += \".\" + (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.padStart)(matrixCoefficients, 2, \"0\");\n        codec += \".\" + (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.padStart)(videoFullRangeFlag, 2, \"0\");\n    } else if (codec === \"theo\") {\n        codec = \"theora\";\n    } else if (codec === \"spex\") {\n        codec = \"speex\";\n    } else if (codec === \".mp3\") {\n        codec = \"mp4a.40.34\";\n    } else if (codec === \"msVo\") {\n        codec = \"vorbis\";\n    } else if (codec === \"Opus\") {\n        codec = \"opus\";\n        var dOps = findNamedBox(bytes, \"dOps\");\n        track.info.opus = (0,_opus_helpers_js__WEBPACK_IMPORTED_MODULE_2__.parseOpusHead)(dOps); // TODO: should this go into the webm code??\n        // Firefox requires a codecDelay for opus playback\n        // see https://bugzilla.mozilla.org/show_bug.cgi?id=1276238\n        track.info.codecDelay = 6500000;\n    } else {\n        codec = codec.toLowerCase();\n    }\n    /* eslint-enable */ // flac, ac-3, ec-3, opus\n    track.codec = codec;\n};\nvar parseTracks = function parseTracks(bytes, frameTable) {\n    if (frameTable === void 0) {\n        frameTable = true;\n    }\n    bytes = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)(bytes);\n    var traks = findBox(bytes, [\n        \"moov\",\n        \"trak\"\n    ], true);\n    var tracks = [];\n    traks.forEach(function(trak) {\n        var track = {\n            bytes: trak\n        };\n        var mdia = findBox(trak, [\n            \"mdia\"\n        ])[0];\n        var hdlr = findBox(mdia, [\n            \"hdlr\"\n        ])[0];\n        var trakType = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToString)(hdlr.subarray(8, 12));\n        if (trakType === \"soun\") {\n            track.type = \"audio\";\n        } else if (trakType === \"vide\") {\n            track.type = \"video\";\n        } else {\n            track.type = trakType;\n        }\n        var tkhd = findBox(trak, [\n            \"tkhd\"\n        ])[0];\n        if (tkhd) {\n            var view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n            var tkhdVersion = view.getUint8(0);\n            track.number = tkhdVersion === 0 ? view.getUint32(12) : view.getUint32(20);\n        }\n        var mdhd = findBox(mdia, [\n            \"mdhd\"\n        ])[0];\n        if (mdhd) {\n            // mdhd is a FullBox, meaning it will have its own version as the first byte\n            var version = mdhd[0];\n            var index = version === 0 ? 12 : 20;\n            track.timescale = (mdhd[index] << 24 | mdhd[index + 1] << 16 | mdhd[index + 2] << 8 | mdhd[index + 3]) >>> 0;\n        }\n        var stbl = findBox(mdia, [\n            \"minf\",\n            \"stbl\"\n        ])[0];\n        var stsd = findBox(stbl, [\n            \"stsd\"\n        ])[0];\n        var descriptionCount = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(stsd.subarray(4, 8));\n        var offset = 8; // add codec and codec info\n        while(descriptionCount--){\n            var len = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(stsd.subarray(offset, offset + 4));\n            var sampleDescriptor = stsd.subarray(offset + 4, offset + 4 + len);\n            addSampleDescription(track, sampleDescriptor);\n            offset += 4 + len;\n        }\n        if (frameTable) {\n            track.frameTable = buildFrameTable(stbl, track.timescale);\n        } // codec has no sub parameters\n        tracks.push(track);\n    });\n    return tracks;\n};\nvar parseMediaInfo = function parseMediaInfo(bytes) {\n    var mvhd = findBox(bytes, [\n        \"moov\",\n        \"mvhd\"\n    ], true)[0];\n    if (!mvhd || !mvhd.length) {\n        return;\n    }\n    var info = {}; // ms to ns\n    // mvhd v1 has 8 byte duration and other fields too\n    if (mvhd[0] === 1) {\n        info.timestampScale = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(mvhd.subarray(20, 24));\n        info.duration = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(mvhd.subarray(24, 32));\n    } else {\n        info.timestampScale = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(mvhd.subarray(12, 16));\n        info.duration = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumber)(mvhd.subarray(16, 20));\n    }\n    info.bytes = mvhd;\n    return info;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9tcDQtaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTRIO0FBQ2pEO0FBQ3pCO0FBRWxELElBQUlXLGdCQUFnQixTQUFTQSxjQUFjQyxJQUFJO0lBQzdDLElBQUksT0FBT0EsU0FBUyxVQUFVO1FBQzVCLE9BQU9aLCtEQUFhQSxDQUFDWTtJQUN2QjtJQUVBLElBQUksT0FBT0EsU0FBUyxVQUFVO1FBQzVCLE9BQU9BO0lBQ1Q7SUFFQSxPQUFPQTtBQUNUO0FBRUEsSUFBSUMsaUJBQWlCLFNBQVNBLGVBQWVDLEtBQUs7SUFDaEQsSUFBSSxDQUFDQyxNQUFNQyxPQUFPLENBQUNGLFFBQVE7UUFDekIsT0FBTztZQUFDSCxjQUFjRztTQUFPO0lBQy9CO0lBRUEsT0FBT0EsTUFBTUcsR0FBRyxDQUFDLFNBQVVDLENBQUM7UUFDMUIsT0FBT1AsY0FBY087SUFDdkI7QUFDRjtBQUVBLElBQUlDO0FBQ0csSUFBSUMsbUJBQW1CLFNBQVNBLGlCQUFpQkMsS0FBSztJQUMzREEsUUFBUXBCLHlEQUFPQSxDQUFDb0I7SUFDaEIsSUFBSUMsVUFBVSxFQUFFO0lBQ2hCLElBQUlDLElBQUk7SUFFUixNQUFPRixNQUFNRyxNQUFNLEdBQUdELEVBQUc7UUFDdkIsSUFBSUUsTUFBTUosS0FBSyxDQUFDRSxFQUFFO1FBQ2xCLElBQUlHLE9BQU87UUFDWCxJQUFJQyxhQUFhLEdBQUcsTUFBTTtRQUUxQkE7UUFDQSxJQUFJQyxPQUFPUCxLQUFLLENBQUNNLFdBQVcsRUFBRSxhQUFhO1FBRTNDQTtRQUVBLE1BQU9DLE9BQU8sS0FBTTtZQUNsQkYsT0FBTyxDQUFDRSxPQUFPLElBQUcsS0FBTTtZQUN4QkEsT0FBT1AsS0FBSyxDQUFDTSxXQUFXO1lBQ3hCQTtRQUNGO1FBRUFELFFBQVFFLE9BQU87UUFFZixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSVYsWUFBWUssTUFBTSxFQUFFSyxJQUFL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LE9BQU8sQ0FBQyxHQUFHLFdBQVc7SUFDMUIsbURBQW1EO0lBRW5ELElBQUltRCxJQUFJLENBQUMsRUFBRSxLQUFLLEdBQUc7UUFDakJuRCxLQUFLb0QsY0FBYyxHQUFHaEosK0RBQWFBLENBQUMrSSxLQUFLbkgsUUFBUSxDQUFDLElBQUk7UUFDdERnRSxLQUFLSixRQUFRLEdBQUd4RiwrREFBYUEsQ0FBQytJLEtBQUtuSCxRQUFRLENBQUMsSUFBSTtJQUNsRCxPQUFPO1FBQ0xnRSxLQUFLb0QsY0FBYyxHQUFHaEosK0RBQWFBLENBQUMrSSxLQUFLbkgsUUFBUSxDQUFDLElBQUk7UUFDdERnRSxLQUFLSixRQUFRLEdBQUd4RiwrREFBYUEsQ0FBQytJLEtBQUtuSCxRQUFRLENBQUMsSUFBSTtJQUNsRDtJQUVBZ0UsS0FBSzdFLEtBQUssR0FBR2dJO0lBQ2IsT0FBT25EO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JyZWV6ZS1uZXh0Ly4uL25vZGVfbW9kdWxlcy9AdmlkZW9qcy92aHMtdXRpbHMvZXMvbXA0LWhlbHBlcnMuanM/MmQwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpbmdUb0J5dGVzLCB0b1VpbnQ4LCBieXRlc01hdGNoLCBieXRlc1RvU3RyaW5nLCB0b0hleFN0cmluZywgcGFkU3RhcnQsIGJ5dGVzVG9OdW1iZXIgfSBmcm9tICcuL2J5dGUtaGVscGVycy5qcyc7XG5pbXBvcnQgeyBnZXRBdmNDb2RlYywgZ2V0SHZjQ29kZWMsIGdldEF2MUNvZGVjIH0gZnJvbSAnLi9jb2RlYy1oZWxwZXJzLmpzJztcbmltcG9ydCB7IHBhcnNlT3B1c0hlYWQgfSBmcm9tICcuL29wdXMtaGVscGVycy5qcyc7XG5cbnZhciBub3JtYWxpemVQYXRoID0gZnVuY3Rpb24gbm9ybWFsaXplUGF0aChwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3RyaW5nVG9CeXRlcyhwYXRoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gcGF0aDtcbiAgfVxuXG4gIHJldHVybiBwYXRoO1xufTtcblxudmFyIG5vcm1hbGl6ZVBhdGhzID0gZnVuY3Rpb24gbm9ybWFsaXplUGF0aHMocGF0aHMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHBhdGhzKSkge1xuICAgIHJldHVybiBbbm9ybWFsaXplUGF0aChwYXRocyldO1xuICB9XG5cbiAgcmV0dXJuIHBhdGhzLm1hcChmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiBub3JtYWxpemVQYXRoKHApO1xuICB9KTtcbn07XG5cbnZhciBERVNDUklQVE9SUztcbmV4cG9ydCB2YXIgcGFyc2VEZXNjcmlwdG9ycyA9IGZ1bmN0aW9uIHBhcnNlRGVzY3JpcHRvcnMoYnl0ZXMpIHtcbiAgYnl0ZXMgPSB0b1VpbnQ4KGJ5dGVzKTtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgdmFyIGkgPSAwO1xuXG4gIHdoaWxlIChieXRlcy5sZW5ndGggPiBpKSB7XG4gICAgdmFyIHRhZyA9IGJ5dGVzW2ldO1xuICAgIHZhciBzaXplID0gMDtcbiAgICB2YXIgaGVhZGVyU2l6ZSA9IDA7IC8vIHRhZ1xuXG4gICAgaGVhZGVyU2l6ZSsrO1xuICAgIHZhciBieXRlID0gYnl0ZXNbaGVhZGVyU2l6ZV07IC8vIGZpcnN0IGJ5dGVcblxuICAgIGhlYWRlclNpemUrKztcblxuICAgIHdoaWxlIChieXRlICYgMHg4MCkge1xuICAgICAgc2l6ZSA9IChieXRlICYgMHg3RikgPDwgNztcbiAgICAgIGJ5dGUgPSBieXRlc1toZWFkZXJTaXplXTtcbiAgICAgIGhlYWRlclNpemUrKztcbiAgICB9XG5cbiAgICBzaXplICs9IGJ5dGUgJiAweDdGO1xuXG4gICAgZm9yICh2YXIgeiA9IDA7IHogPCBERVNDUklQVE9SUy5sZW5ndGg7IHorKykge1xuICAgICAgdmFyIF9ERVNDUklQVE9SUyR6ID0gREVTQ1JJUFRPUlNbel0sXG4gICAgICAgICAgaWQgPSBfREVTQ1JJUFRPUlMkei5pZCxcbiAgICAgICAgICBwYXJzZXIgPSBfREVTQ1JJUFRPUlMkei5wYXJzZXI7XG5cbiAgICAgIGlmICh0YWcgPT09IGlkKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChwYXJzZXIoYnl0ZXMuc3ViYXJyYXkoaGVhZGVyU2l6ZSwgaGVhZGVyU2l6ZSArIHNpemUpKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGkgKz0gc2l6ZSArIGhlYWRlclNpemU7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0cztcbn07XG5ERVNDUklQVE9SUyA9IFt7XG4gIGlkOiAweDAzLFxuICBwYXJzZXI6IGZ1bmN0aW9uIHBhcnNlcihieXRlcykge1xuICAgIHZhciBkZXNjID0ge1xuICAgICAgdGFnOiAweDAzLFxuICAgICAgaWQ6IGJ5dGVzWzBdIDw8IDggfCBieXRlc1sxXSxcbiAgICAgIGZsYWdzOiBieXRlc1syXSxcbiAgICAgIHNpemU6IDMsXG4gICAgICBkZXBlbmRzT25Fc0lkOiAwLFxuICAgICAgb2NyRXNJZDogMCxcbiAgICAgIGRlc2NyaXB0b3JzOiBbXSxcbiAgICAgIHVybDogJydcbiAgICB9OyAvLyBkZXBlbmRzIG9uIGVzIGlkXG5cbiAgICBpZiAoZGVzYy5mbGFncyAmIDB4ODApIHtcbiAgICAgIGRlc2MuZGVwZW5kc09uRXNJZCA9IGJ5dGVzW2Rlc2Muc2l6ZV0gPDwgOCB8IGJ5dGVzW2Rlc2Muc2l6ZSArIDFdO1xuICAgICAgZGVzYy5zaXplICs9IDI7XG4gICAgfSAvLyB1cmxcblxuXG4gICAgaWYgKGRlc2MuZmxhZ3MgJiAweDQwKSB7XG4gICAgICB2YXIgbGVuID0gYnl0ZXNbZGVzYy5zaXplXTtcbiAgICAgIGRlc2MudXJsID0gYnl0ZXNUb1N0cmluZyhieXRlcy5zdWJhcnJheShkZXNjLnNpemUgKyAxLCBkZXNjLnNpemUgKyAxICsgbGVuKSk7XG4gICAgICBkZXNjLnNpemUgKz0gbGVuO1xuICAgIH0gLy8gb2NyIGVzIGlkXG5cblxuICAgIGlmIChkZXNjLmZsYWdzICYgMHgyMCkge1xuICAgICAgZGVzYy5vY3JFc0lkID0gYnl0ZXNbZGVzYy5zaXplXSA8PCA4IHwgYnl0ZXNbZGVzYy5zaXplICsgMV07XG4gICAgICBkZXNjLnNpemUgKz0gMjtcbiAgICB9XG5cbiAgICBkZXNjLmRlc2NyaXB0b3JzID0gcGFyc2VEZXNjcmlwdG9ycyhieXRlcy5zdWJhcnJheShkZXNjLnNpemUpKSB8fCBbXTtcbiAgICByZXR1cm4gZGVzYztcbiAgfVxufSwge1xuICBpZDogMHgwNCxcbiAgcGFyc2VyOiBmdW5jdGlvbiBwYXJzZXIoYnl0ZXMpIHtcbiAgICAvLyBEZWNvZGVyQ29uZmlnRGVzY3JpcHRvclxuICAgIHZhciBkZXNjID0ge1xuICAgICAgdGFnOiAweDA0LFxuICAgICAgb3RpOiBieXRlc1swXSxcbiAgICAgIHN0cmVhbVR5cGU6IGJ5dGVzWzFdLFxuICAgICAgYnVmZmVyU2l6ZTogYnl0ZXNbMl0gPDwgMTYgfCBieXRlc1szXSA8PCA4IHwgYnl0ZXNbNF0sXG4gICAgICBtYXhCaXRyYXRlOiBieXRlc1s1XSA8PCAyNCB8IGJ5dGVzWzZdIDw8IDE2IHwgYnl0ZXNbN10gPDwgOCB8IGJ5dGVzWzhdLFxuICAgICAgYXZnQml0cmF0ZTogYnl0ZXNbOV0gPDwgMjQgfCBieXRlc1sxMF0gPDwgMTYgfCBieXRlc1sxMV0gPDwgOCB8IGJ5dGVzWzEyXSxcbiAgICAgIGRlc2NyaXB0b3JzOiBwYXJzZURlc2NyaXB0b3JzKGJ5dGVzLnN1YmFycmF5KDEzKSlcbiAgICB9O1xuICAgIHJldHVybiBkZXNjO1xuICB9XG59LCB7XG4gIGlkOiAweDA1LFxuICBwYXJzZXI6IGZ1bmN0aW9uIHBhcnNlcihieXRlcykge1xuICAgIC8vIERlY29kZXJTcGVjaWZpY0luZm9cbiAgICByZXR1cm4ge1xuICAgICAgdGFnOiAweDA1LFxuICAgICAgYnl0ZXM6IGJ5dGVzXG4gICAgfTtcbiAgfVxufSwge1xuICBpZDogMHgwNixcbiAgcGFyc2VyOiBmdW5jdGlvbiBwYXJzZXIoYnl0ZXMpIHtcbiAgICAvLyBTTENvbmZpZ0Rlc2NyaXB0b3JcbiAgICByZXR1cm4ge1xuICAgICAgdGFnOiAweDA2LFxuICAgICAgYnl0ZXM6IGJ5dGVzXG4gICAgfTtcbiAgfVxufV07XG4vKipcbiAqIGZpbmQgYW55IG51bWJlciBvZiBib3hlcyBieSBuYW1lIGdpdmVuIGEgcGF0aCB0byBpdCBpbiBhbiBpc28gYm1mZlxuICogc3VjaCBhcyBtcDQuXG4gKlxuICogQHBhcmFtIHtUeXBlZEFycmF5fSBieXRlc1xuICogICAgICAgIGJ5dGVzIGZvciB0aGUgaXNvIGJtZmYgdG8gc2VhcmNoIGZvciBib3hlcyBpblxuICpcbiAqIEBwYXJhbSB7VWludDhBcnJheVtdfHN0cmluZ1tdfHN0cmluZ3xVaW50OEFycmF5fSBuYW1lXG4gKiAgICAgICAgQW4gYXJyYXkgb2YgcGF0aHMgb3IgYSBzaW5nbGUgcGF0aCByZXByZXNlbnRpbmcgdGhlIG5hbWVcbiAqICAgICAgICBvZiBib3hlcyB0byBzZWFyY2ggdGhyb3VnaCBpbiBieXRlcy4gUGF0aHMgbWF5IGJlXG4gKiAgICAgICAgdWludDggKGNoYXJhY3RlciBjb2Rlcykgb3Igc3RyaW5ncy5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtjb21wbGV0ZT1mYWxzZV1cbiAqICAgICAgICBTaG91bGQgd2Ugc2VhcmNoIG9ubHkgZm9yIGNvbXBsZXRlIGJveGVzIG9uIHRoZSBmaW5hbCBwYXRoLlxuICogICAgICAgIFRoaXMgaXMgdmVyeSB1c2VmdWwgd2hlbiB5b3UgZG8gbm90IHdhbnQgdG8gZ2V0IGJhY2sgcGFydGlhbCBib3hlc1xuICogICAgICAgIGluIHRoZSBjYXNlIG9mIHN0cmVhbWluZyBmaWxlcy5cbiAqXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5W119XG4gKiAgICAgICAgIEFuIGFycmF5IG9mIHRoZSBlbmQgcGF0aHMgdGhhdCB3ZSBmb3VuZC5cbiAqL1xuXG5leHBvcnQgdmFyIGZpbmRCb3ggPSBmdW5jdGlvbiBmaW5kQm94KGJ5dGVzLCBwYXRocywgY29tcGxldGUpIHtcbiAgaWYgKGNvbXBsZXRlID09PSB2b2lkIDApIHtcbiAgICBjb21wbGV0ZSA9IGZhbHNlO1xuICB9XG5cbiAgcGF0aHMgPSBub3JtYWxpemVQYXRocyhwYXRocyk7XG4gIGJ5dGVzID0gdG9VaW50OChieXRlcyk7XG4gIHZhciByZXN1bHRzID0gW107XG5cbiAgaWYgKCFwYXRocy5sZW5ndGgpIHtcbiAgICAvLyBzaG9ydC1jaXJjdWl0IHRoZSBzZWFyY2ggZm9yIGVtcHR5IHBhdGhzXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICB2YXIgaSA9IDA7XG5cbiAgd2hpbGUgKGkgPCBieXRlcy5sZW5ndGgpIHtcbiAgICB2YXIgc2l6ZSA9IChieXRlc1tpXSA8PCAyNCB8IGJ5dGVzW2kgKyAxXSA8PCAxNiB8IGJ5dGVzW2kgKyAyXSA8PCA4IHwgYnl0ZXNbaSArIDNdKSA+Pj4gMDtcbiAgICB2YXIgdHlwZSA9IGJ5dGVzLnN1YmFycmF5KGkgKyA0LCBpICsgOCk7IC8vIGludmFsaWQgYm94IGZvcm1hdC5cblxuICAgIGlmIChzaXplID09PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gaSArIHNpemU7XG5cbiAgICBpZiAoZW5kID4gYnl0ZXMubGVuZ3RoKSB7XG4gICAgICAvLyB0aGlzIGJveCBpcyBiaWdnZXIgdGhhbiB0aGUgbnVtYmVyIG9mIGJ5dGVzIHdlIGhhdmVcbiAgICAgIC8vIGFuZCBjb21wbGV0ZSBpcyBzZXQsIHdlIGNhbm5vdCBmaW5kIGFueSBtb3JlIGJveGVzLlxuICAgICAgaWYgKGNvbXBsZXRlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBlbmQgPSBieXRlcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSBieXRlcy5zdWJhcnJheShpICsgOCwgZW5kKTtcblxuICAgIGlmIChieXRlc01hdGNoKHR5cGUsIHBhdGhzWzBdKSkge1xuICAgICAgaWYgKHBhdGhzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBlbmQgb2YgdGhlIHBhdGggYW5kIHdlJ3ZlIGZvdW5kIHRoZSBib3ggd2Ugd2VyZVxuICAgICAgICAvLyBsb29raW5nIGZvclxuICAgICAgICByZXN1bHRzLnB1c2goZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyByZWN1cnNpdmVseSBzZWFyY2ggZm9yIHRoZSBuZXh0IGJveCBhbG9uZyB0aGUgcGF0aFxuICAgICAgICByZXN1bHRzLnB1c2guYXBwbHkocmVzdWx0cywgZmluZEJveChkYXRhLCBwYXRocy5zbGljZSgxKSwgY29tcGxldGUpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpID0gZW5kO1xuICB9IC8vIHdlJ3ZlIGZpbmlzaGVkIHNlYXJjaGluZyBhbGwgb2YgYnl0ZXNcblxuXG4gIHJldHVybiByZXN1bHRzO1xufTtcbi8qKlxuICogU2VhcmNoIGZvciBhIHNpbmdsZSBtYXRjaGluZyBib3ggYnkgbmFtZSBpbiBhbiBpc28gYm1mZiBmb3JtYXQgbGlrZVxuICogbXA0LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCBmb3IgZmluZGluZyBjb2RlYyBib3hlcyB3aGljaFxuICogY2FuIGJlIHBsYWNlZCBhcmJpdHJhcmlseSBpbiBzYW1wbGUgZGVzY3JpcHRpb25zIGRlcGVuZGluZ1xuICogb24gdGhlIHZlcnNpb24gb2YgdGhlIGZpbGUgb3IgZmlsZSB0eXBlLlxuICpcbiAqIEBwYXJhbSB7VHlwZWRBcnJheX0gYnl0ZXNcbiAqICAgICAgICBieXRlcyBmb3IgdGhlIGlzbyBibWZmIHRvIHNlYXJjaCBmb3IgYm94ZXMgaW5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xVaW50OEFycmF5fSBuYW1lXG4gKiAgICAgICAgVGhlIG5hbWUgb2YgdGhlIGJveCB0byBmaW5kLlxuICpcbiAqIEByZXR1cm4ge1VpbnQ4QXJyYXlbXX1cbiAqICAgICAgICAgYSBzdWJhcnJheSBvZiBieXRlcyByZXByZXNlbnRpbmcgdGhlIG5hbWUgYm94ZWQgd2UgZm91bmQuXG4gKi9cblxuZXhwb3J0IHZhciBmaW5kTmFtZWRCb3ggPSBmdW5jdGlvbiBmaW5kTmFtZWRCb3goYnl0ZXMsIG5hbWUpIHtcbiAgbmFtZSA9IG5vcm1hbGl6ZVBhdGgobmFtZSk7XG5cbiAgaWYgKCFuYW1lLmxlbmd0aCkge1xuICAgIC8vIHNob3J0LWNpcmN1aXQgdGhlIHNlYXJjaCBmb3IgZW1wdHkgcGF0aHNcbiAgICByZXR1cm4gYnl0ZXMuc3ViYXJyYXkoYnl0ZXMubGVuZ3RoKTtcbiAgfVxuXG4gIHZhciBpID0gMDtcblxuICB3aGlsZSAoaSA8IGJ5dGVzLmxlbmd0aCkge1xuICAgIGlmIChieXRlc01hdGNoKGJ5dGVzLnN1YmFycmF5KGksIGkgKyBuYW1lLmxlbmd0aCksIG5hbWUpKSB7XG4gICAgICB2YXIgc2l6ZSA9IChieXRlc1tpIC0gNF0gPDwgMjQgfCBieXRlc1tpIC0gM10gPDwgMTYgfCBieXRlc1tpIC0gMl0gPDwgOCB8IGJ5dGVzW2kgLSAxXSkgPj4+IDA7XG4gICAgICB2YXIgZW5kID0gc2l6ZSA+IDEgPyBpICsgc2l6ZSA6IGJ5dGVzLmJ5dGVMZW5ndGg7XG4gICAgICByZXR1cm4gYnl0ZXMuc3ViYXJyYXkoaSArIDQsIGVuZCk7XG4gICAgfVxuXG4gICAgaSsrO1xuICB9IC8vIHdlJ3ZlIGZpbmlzaGVkIHNlYXJjaGluZyBhbGwgb2YgYnl0ZXNcblxuXG4gIHJldHVybiBieXRlcy5zdWJhcnJheShieXRlcy5sZW5ndGgpO1xufTtcblxudmFyIHBhcnNlU2FtcGxlcyA9IGZ1bmN0aW9uIHBhcnNlU2FtcGxlcyhkYXRhLCBlbnRyeVNpemUsIHBhcnNlRW50cnkpIHtcbiAgaWYgKGVudHJ5U2l6ZSA9PT0gdm9pZCAwKSB7XG4gICAgZW50cnlTaXplID0gNDtcbiAgfVxuXG4gIGlmIChwYXJzZUVudHJ5ID09PSB2b2lkIDApIHtcbiAgICBwYXJzZUVudHJ5ID0gZnVuY3Rpb24gcGFyc2VFbnRyeShkKSB7XG4gICAgICByZXR1cm4gYnl0ZXNUb051bWJlcihkKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGVudHJpZXMgPSBbXTtcblxuICBpZiAoIWRhdGEgfHwgIWRhdGEubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGVudHJpZXM7XG4gIH1cblxuICB2YXIgZW50cnlDb3VudCA9IGJ5dGVzVG9OdW1iZXIoZGF0YS5zdWJhcnJheSg0LCA4KSk7XG5cbiAgZm9yICh2YXIgaSA9IDg7IGVudHJ5Q291bnQ7IGkgKz0gZW50cnlTaXplLCBlbnRyeUNvdW50LS0pIHtcbiAgICBlbnRyaWVzLnB1c2gocGFyc2VFbnRyeShkYXRhLnN1YmFycmF5KGksIGkgKyBlbnRyeVNpemUpKSk7XG4gIH1cblxuICByZXR1cm4gZW50cmllcztcbn07XG5cbmV4cG9ydCB2YXIgYnVpbGRGcmFtZVRhYmxlID0gZnVuY3Rpb24gYnVpbGRGcmFtZVRhYmxlKHN0YmwsIHRpbWVzY2FsZSkge1xuICB2YXIga2V5U2FtcGxlcyA9IHBhcnNlU2FtcGxlcyhmaW5kQm94KHN0YmwsIFsnc3RzcyddKVswXSk7XG4gIHZhciBjaHVua09mZnNldHMgPSBwYXJzZVNhbXBsZXMoZmluZEJveChzdGJsLCBbJ3N0Y28nXSlbMF0pO1xuICB2YXIgdGltZVRvU2FtcGxlcyA9IHBhcnNlU2FtcGxlcyhmaW5kQm94KHN0YmwsIFsnc3R0cyddKVswXSwgOCwgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNhbXBsZUNvdW50OiBieXRlc1RvTnVtYmVyKGVudHJ5LnN1YmFycmF5KDAsIDQpKSxcbiAgICAgIHNhbXBsZURlbHRhOiBieXRlc1RvTnVtYmVyKGVudHJ5LnN1YmFycmF5KDQsIDgpKVxuICAgIH07XG4gIH0pO1xuICB2YXIgc2FtcGxlc1RvQ2h1bmtzID0gcGFyc2VTYW1wbGVzKGZpbmRCb3goc3RibCwgWydzdHNjJ10pWzBdLCAxMiwgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcnN0Q2h1bms6IGJ5dGVzVG9OdW1iZXIoZW50cnkuc3ViYXJyYXkoMCwgNCkpLFxuICAgICAgc2FtcGxlc1BlckNodW5rOiBieXRlc1RvTnVtYmVyKGVudHJ5LnN1YmFycmF5KDQsIDgpKSxcbiAgICAgIHNhbXBsZURlc2NyaXB0aW9uSW5kZXg6IGJ5dGVzVG9OdW1iZXIoZW50cnkuc3ViYXJyYXkoOCwgMTIpKVxuICAgIH07XG4gIH0pO1xuICB2YXIgc3RzeiA9IGZpbmRCb3goc3RibCwgWydzdHN6J10pWzBdOyAvLyBzdHN6IHN0YXJ0cyB3aXRoIGEgNCBieXRlIHNhbXBsZVNpemUgd2hpY2ggd2UgZG9uJ3QgbmVlZFxuXG4gIHZhciBzYW1wbGVTaXplcyA9IHBhcnNlU2FtcGxlcyhzdHN6ICYmIHN0c3oubGVuZ3RoICYmIHN0c3ouc3ViYXJyYXkoNCkgfHwgbnVsbCk7XG4gIHZhciBmcmFtZXMgPSBbXTtcblxuICBmb3IgKHZhciBjaHVua0luZGV4ID0gMDsgY2h1bmtJbmRleCA8IGNodW5rT2Zmc2V0cy5sZW5ndGg7IGNodW5rSW5kZXgrKykge1xuICAgIHZhciBzYW1wbGVzSW5DaHVuayA9IHZvaWQgMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2FtcGxlc1RvQ2h1bmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc2FtcGxlVG9DaHVuayA9IHNhbXBsZXNUb0NodW5rc1tpXTtcbiAgICAgIHZhciBpc1RoaXNPbmUgPSBjaHVua0luZGV4ICsgMSA+PSBzYW1wbGVUb0NodW5rLmZpcnN0Q2h1bmsgJiYgKGkgKyAxID49IHNhbXBsZXNUb0NodW5rcy5sZW5ndGggfHwgY2h1bmtJbmRleCArIDEgPCBzYW1wbGVzVG9DaHVua3NbaSArIDFdLmZpcnN0Q2h1bmspO1xuXG4gICAgICBpZiAoaXNUaGlzT25lKSB7XG4gICAgICAgIHNhbXBsZXNJbkNodW5rID0gc2FtcGxlVG9DaHVuay5zYW1wbGVzUGVyQ2h1bms7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjaHVua09mZnNldCA9IGNodW5rT2Zmc2V0c1tjaHVua0luZGV4XTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBzYW1wbGVzSW5DaHVuazsgX2krKykge1xuICAgICAgdmFyIGZyYW1lRW5kID0gc2FtcGxlU2l6ZXNbZnJhbWVzLmxlbmd0aF07IC8vIGlmIHdlIGRvbid0IGhhdmUga2V5IHNhbXBsZXMgZXZlcnkgZnJhbWUgaXMgYSBrZXlmcmFtZVxuXG4gICAgICB2YXIga2V5ZnJhbWUgPSAha2V5U2FtcGxlcy5sZW5ndGg7XG5cbiAgICAgIGlmIChrZXlTYW1wbGVzLmxlbmd0aCAmJiBrZXlTYW1wbGVzLmluZGV4T2YoZnJhbWVzLmxlbmd0aCArIDEpICE9PSAtMSkge1xuICAgICAgICBrZXlmcmFtZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBmcmFtZSA9IHtcbiAgICAgICAga2V5ZnJhbWU6IGtleWZyYW1lLFxuICAgICAgICBzdGFydDogY2h1bmtPZmZzZXQsXG4gICAgICAgIGVuZDogY2h1bmtPZmZzZXQgKyBmcmFtZUVuZFxuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aW1lVG9TYW1wbGVzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBfdGltZVRvU2FtcGxlcyRrID0gdGltZVRvU2FtcGxlc1trXSxcbiAgICAgICAgICAgIHNhbXBsZUNvdW50ID0gX3RpbWVUb1NhbXBsZXMkay5zYW1wbGVDb3VudCxcbiAgICAgICAgICAgIHNhbXBsZURlbHRhID0gX3RpbWVUb1NhbXBsZXMkay5zYW1wbGVEZWx0YTtcblxuICAgICAgICBpZiAoZnJhbWVzLmxlbmd0aCA8PSBzYW1wbGVDb3VudCkge1xuICAgICAgICAgIC8vIG1zIHRvIG5zXG4gICAgICAgICAgdmFyIGxhc3RUaW1lc3RhbXAgPSBmcmFtZXMubGVuZ3RoID8gZnJhbWVzW2ZyYW1lcy5sZW5ndGggLSAxXS50aW1lc3RhbXAgOiAwO1xuICAgICAgICAgIGZyYW1lLnRpbWVzdGFtcCA9IGxhc3RUaW1lc3RhbXAgKyBzYW1wbGVEZWx0YSAvIHRpbWVzY2FsZSAqIDEwMDA7XG4gICAgICAgICAgZnJhbWUuZHVyYXRpb24gPSBzYW1wbGVEZWx0YTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmcmFtZXMucHVzaChmcmFtZSk7XG4gICAgICBjaHVua09mZnNldCArPSBmcmFtZUVuZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnJhbWVzO1xufTtcbmV4cG9ydCB2YXIgYWRkU2FtcGxlRGVzY3JpcHRpb24gPSBmdW5jdGlvbiBhZGRTYW1wbGVEZXNjcmlwdGlvbih0cmFjaywgYnl0ZXMpIHtcbiAgdmFyIGNvZGVjID0gYnl0ZXNUb1N0cmluZyhieXRlcy5zdWJhcnJheSgwLCA0KSk7XG5cbiAgaWYgKHRyYWNrLnR5cGUgPT09ICd2aWRlbycpIHtcbiAgICB0cmFjay5pbmZvID0gdHJhY2suaW5mbyB8fCB7fTtcbiAgICB0cmFjay5pbmZvLndpZHRoID0gYnl0ZXNbMjhdIDw8IDggfCBieXRlc1syOV07XG4gICAgdHJhY2suaW5mby5oZWlnaHQgPSBieXRlc1szMF0gPDwgOCB8IGJ5dGVzWzMxXTtcbiAgfSBlbHNlIGlmICh0cmFjay50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgdHJhY2suaW5mbyA9IHRyYWNrLmluZm8gfHwge307XG4gICAgdHJhY2suaW5mby5jaGFubmVscyA9IGJ5dGVzWzIwXSA8PCA4IHwgYnl0ZXNbMjFdO1xuICAgIHRyYWNrLmluZm8uYml0RGVwdGggPSBieXRlc1syMl0gPDwgOCB8IGJ5dGVzWzIzXTtcbiAgICB0cmFjay5pbmZvLnNhbXBsZVJhdGUgPSBieXRlc1syOF0gPDwgOCB8IGJ5dGVzWzI5XTtcbiAgfVxuXG4gIGlmIChjb2RlYyA9PT0gJ2F2YzEnKSB7XG4gICAgdmFyIGF2Y0MgPSBmaW5kTmFtZWRCb3goYnl0ZXMsICdhdmNDJyk7IC8vIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkXG5cbiAgICBjb2RlYyArPSBcIi5cIiArIGdldEF2Y0NvZGVjKGF2Y0MpO1xuICAgIHRyYWNrLmluZm8uYXZjQyA9IGF2Y0M7IC8vIFRPRE86IGRvIHdlIG5lZWQgdG8gcGFyc2UgYWxsIHRoaXM/XG5cbiAgICAvKiB7XG4gICAgICBjb25maWd1cmF0aW9uVmVyc2lvbjogYXZjQ1swXSxcbiAgICAgIHByb2ZpbGU6IGF2Y0NbMV0sXG4gICAgICBwcm9maWxlQ29tcGF0aWJpbGl0eTogYXZjQ1syXSxcbiAgICAgIGxldmVsOiBhdmNDWzNdLFxuICAgICAgbGVuZ3RoU2l6ZU1pbnVzT25lOiBhdmNDWzRdICYgMHgzXG4gICAgfTtcbiAgICAgbGV0IHNwc05hbFVuaXRDb3VudCA9IGF2Y0NbNV0gJiAweDFGO1xuICAgIGNvbnN0IHNwc05hbFVuaXRzID0gdHJhY2suaW5mby5hdmMuc3BzTmFsVW5pdHMgPSBbXTtcbiAgICAgLy8gcGFzdCBzcHNOYWxVbml0Q291bnRcbiAgICBsZXQgb2Zmc2V0ID0gNjtcbiAgICAgd2hpbGUgKHNwc05hbFVuaXRDb3VudC0tKSB7XG4gICAgICBjb25zdCBuYWxMZW4gPSBhdmNDW29mZnNldF0gPDwgOCB8IGF2Y0Nbb2Zmc2V0ICsgMV07XG4gICAgICAgc3BzTmFsVW5pdHMucHVzaChhdmNDLnN1YmFycmF5KG9mZnNldCArIDIsIG9mZnNldCArIDIgKyBuYWxMZW4pKTtcbiAgICAgICBvZmZzZXQgKz0gbmFsTGVuICsgMjtcbiAgICB9XG4gICAgbGV0IHBwc05hbFVuaXRDb3VudCA9IGF2Y0Nbb2Zmc2V0XTtcbiAgICBjb25zdCBwcHNOYWxVbml0cyA9IHRyYWNrLmluZm8uYXZjLnBwc05hbFVuaXRzID0gW107XG4gICAgIC8vIHBhc3QgcHBzTmFsVW5pdENvdW50XG4gICAgb2Zmc2V0ICs9IDE7XG4gICAgIHdoaWxlIChwcHNOYWxVbml0Q291bnQtLSkge1xuICAgICAgY29uc3QgbmFsTGVuID0gYXZjQ1tvZmZzZXRdIDw8IDggfCBhdmNDW29mZnNldCArIDFdO1xuICAgICAgIHBwc05hbFVuaXRzLnB1c2goYXZjQy5zdWJhcnJheShvZmZzZXQgKyAyLCBvZmZzZXQgKyAyICsgbmFsTGVuKSk7XG4gICAgICAgb2Zmc2V0ICs9IG5hbExlbiArIDI7XG4gICAgfSovXG4gICAgLy8gSEVWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkXG4gIH0gZWxzZSBpZiAoY29kZWMgPT09ICdodmMxJyB8fCBjb2RlYyA9PT0gJ2hldjEnKSB7XG4gICAgY29kZWMgKz0gXCIuXCIgKyBnZXRIdmNDb2RlYyhmaW5kTmFtZWRCb3goYnl0ZXMsICdodmNDJykpO1xuICB9IGVsc2UgaWYgKGNvZGVjID09PSAnbXA0YScgfHwgY29kZWMgPT09ICdtcDR2Jykge1xuICAgIHZhciBlc2RzID0gZmluZE5hbWVkQm94KGJ5dGVzLCAnZXNkcycpO1xuICAgIHZhciBlc0Rlc2NyaXB0b3IgPSBwYXJzZURlc2NyaXB0b3JzKGVzZHMuc3ViYXJyYXkoNCkpWzBdO1xuICAgIHZhciBkZWNvZGVyQ29uZmlnID0gZXNEZXNjcmlwdG9yICYmIGVzRGVzY3JpcHRvci5kZXNjcmlwdG9ycy5maWx0ZXIoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciB0YWcgPSBfcmVmLnRhZztcbiAgICAgIHJldHVybiB0YWcgPT09IDB4MDQ7XG4gICAgfSlbMF07XG5cbiAgICBpZiAoZGVjb2RlckNvbmZpZykge1xuICAgICAgLy8gbW9zdCBjb2RlY3MgZG8gbm90IGhhdmUgYSBmdXJ0aGVyICcuJ1xuICAgICAgLy8gc3VjaCBhcyAweGE1IGZvciBhYy0zIGFuZCAweGE2IGZvciBlLWFjLTNcbiAgICAgIGNvZGVjICs9ICcuJyArIHRvSGV4U3RyaW5nKGRlY29kZXJDb25maWcub3RpKTtcblxuICAgICAgaWYgKGRlY29kZXJDb25maWcub3RpID09PSAweDQwKSB7XG4gICAgICAgIGNvZGVjICs9ICcuJyArIChkZWNvZGVyQ29uZmlnLmRlc2NyaXB0b3JzWzBdLmJ5dGVzWzBdID4+IDMpLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2UgaWYgKGRlY29kZXJDb25maWcub3RpID09PSAweDIwKSB7XG4gICAgICAgIGNvZGVjICs9ICcuJyArIGRlY29kZXJDb25maWcuZGVzY3JpcHRvcnNbMF0uYnl0ZXNbNF0udG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSBpZiAoZGVjb2RlckNvbmZpZy5vdGkgPT09IDB4ZGQpIHtcbiAgICAgICAgY29kZWMgPSAndm9yYmlzJztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRyYWNrLnR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgIGNvZGVjICs9ICcuNDAuMic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvZGVjICs9ICcuMjAuOSc7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNvZGVjID09PSAnYXYwMScpIHtcbiAgICAvLyBBVjFEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZFxuICAgIGNvZGVjICs9IFwiLlwiICsgZ2V0QXYxQ29kZWMoZmluZE5hbWVkQm94KGJ5dGVzLCAnYXYxQycpKTtcbiAgfSBlbHNlIGlmIChjb2RlYyA9PT0gJ3ZwMDknKSB7XG4gICAgLy8gVlBDb2RlY0NvbmZpZ3VyYXRpb25SZWNvcmRcbiAgICB2YXIgdnBjQyA9IGZpbmROYW1lZEJveChieXRlcywgJ3ZwY0MnKTsgLy8gaHR0cHM6Ly93d3cud2VibXByb2plY3Qub3JnL3ZwOS9tcDQvXG5cbiAgICB2YXIgcHJvZmlsZSA9IHZwY0NbMF07XG4gICAgdmFyIGxldmVsID0gdnBjQ1sxXTtcbiAgICB2YXIgYml0RGVwdGggPSB2cGNDWzJdID4+IDQ7XG4gICAgdmFyIGNocm9tYVN1YnNhbXBsaW5nID0gKHZwY0NbMl0gJiAweDBGKSA+PiAxO1xuICAgIHZhciB2aWRlb0Z1bGxSYW5nZUZsYWcgPSAodnBjQ1syXSAmIDB4MEYpID4+IDM7XG4gICAgdmFyIGNvbG91clByaW1hcmllcyA9IHZwY0NbM107XG4gICAgdmFyIHRyYW5zZmVyQ2hhcmFjdGVyaXN0aWNzID0gdnBjQ1s0XTtcbiAgICB2YXIgbWF0cml4Q29lZmZpY2llbnRzID0gdnBjQ1s1XTtcbiAgICBjb2RlYyArPSBcIi5cIiArIHBhZFN0YXJ0KHByb2ZpbGUsIDIsICcwJyk7XG4gICAgY29kZWMgKz0gXCIuXCIgKyBwYWRTdGFydChsZXZlbCwgMiwgJzAnKTtcbiAgICBjb2RlYyArPSBcIi5cIiArIHBhZFN0YXJ0KGJpdERlcHRoLCAyLCAnMCcpO1xuICAgIGNvZGVjICs9IFwiLlwiICsgcGFkU3RhcnQoY2hyb21hU3Vic2FtcGxpbmcsIDIsICcwJyk7XG4gICAgY29kZWMgKz0gXCIuXCIgKyBwYWRTdGFydChjb2xvdXJQcmltYXJpZXMsIDIsICcwJyk7XG4gICAgY29kZWMgKz0gXCIuXCIgKyBwYWRTdGFydCh0cmFuc2ZlckNoYXJhY3RlcmlzdGljcywgMiwgJzAnKTtcbiAgICBjb2RlYyArPSBcIi5cIiArIHBhZFN0YXJ0KG1hdHJpeENvZWZmaWNpZW50cywgMiwgJzAnKTtcbiAgICBjb2RlYyArPSBcIi5cIiArIHBhZFN0YXJ0KHZpZGVvRnVsbFJhbmdlRmxhZywgMiwgJzAnKTtcbiAgfSBlbHNlIGlmIChjb2RlYyA9PT0gJ3RoZW8nKSB7XG4gICAgY29kZWMgPSAndGhlb3JhJztcbiAgfSBlbHNlIGlmIChjb2RlYyA9PT0gJ3NwZXgnKSB7XG4gICAgY29kZWMgPSAnc3BlZXgnO1xuICB9IGVsc2UgaWYgKGNvZGVjID09PSAnLm1wMycpIHtcbiAgICBjb2RlYyA9ICdtcDRhLjQwLjM0JztcbiAgfSBlbHNlIGlmIChjb2RlYyA9PT0gJ21zVm8nKSB7XG4gICAgY29kZWMgPSAndm9yYmlzJztcbiAgfSBlbHNlIGlmIChjb2RlYyA9PT0gJ09wdXMnKSB7XG4gICAgY29kZWMgPSAnb3B1cyc7XG4gICAgdmFyIGRPcHMgPSBmaW5kTmFtZWRCb3goYnl0ZXMsICdkT3BzJyk7XG4gICAgdHJhY2suaW5mby5vcHVzID0gcGFyc2VPcHVzSGVhZChkT3BzKTsgLy8gVE9ETzogc2hvdWxkIHRoaXMgZ28gaW50byB0aGUgd2VibSBjb2RlPz9cbiAgICAvLyBGaXJlZm94IHJlcXVpcmVzIGEgY29kZWNEZWxheSBmb3Igb3B1cyBwbGF5YmFja1xuICAgIC8vIHNlZSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMjc2MjM4XG5cbiAgICB0cmFjay5pbmZvLmNvZGVjRGVsYXkgPSA2NTAwMDAwO1xuICB9IGVsc2Uge1xuICAgIGNvZGVjID0gY29kZWMudG9Mb3dlckNhc2UoKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlICovXG4gIC8vIGZsYWMsIGFjLTMsIGVjLTMsIG9wdXNcblxuXG4gIHRyYWNrLmNvZGVjID0gY29kZWM7XG59O1xuZXhwb3J0IHZhciBwYXJzZVRyYWNrcyA9IGZ1bmN0aW9uIHBhcnNlVHJhY2tzKGJ5dGVzLCBmcmFtZVRhYmxlKSB7XG4gIGlmIChmcmFtZVRhYmxlID09PSB2b2lkIDApIHtcbiAgICBmcmFtZVRhYmxlID0gdHJ1ZTtcbiAgfVxuXG4gIGJ5dGVzID0gdG9VaW50OChieXRlcyk7XG4gIHZhciB0cmFrcyA9IGZpbmRCb3goYnl0ZXMsIFsnbW9vdicsICd0cmFrJ10sIHRydWUpO1xuICB2YXIgdHJhY2tzID0gW107XG4gIHRyYWtzLmZvckVhY2goZnVuY3Rpb24gKHRyYWspIHtcbiAgICB2YXIgdHJhY2sgPSB7XG4gICAgICBieXRlczogdHJha1xuICAgIH07XG4gICAgdmFyIG1kaWEgPSBmaW5kQm94KHRyYWssIFsnbWRpYSddKVswXTtcbiAgICB2YXIgaGRsciA9IGZpbmRCb3gobWRpYSwgWydoZGxyJ10pWzBdO1xuICAgIHZhciB0cmFrVHlwZSA9IGJ5dGVzVG9TdHJpbmcoaGRsci5zdWJhcnJheSg4LCAxMikpO1xuXG4gICAgaWYgKHRyYWtUeXBlID09PSAnc291bicpIHtcbiAgICAgIHRyYWNrLnR5cGUgPSAnYXVkaW8nO1xuICAgIH0gZWxzZSBpZiAodHJha1R5cGUgPT09ICd2aWRlJykge1xuICAgICAgdHJhY2sudHlwZSA9ICd2aWRlbyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYWNrLnR5cGUgPSB0cmFrVHlwZTtcbiAgICB9XG5cbiAgICB2YXIgdGtoZCA9IGZpbmRCb3godHJhaywgWyd0a2hkJ10pWzBdO1xuXG4gICAgaWYgKHRraGQpIHtcbiAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KHRraGQuYnVmZmVyLCB0a2hkLmJ5dGVPZmZzZXQsIHRraGQuYnl0ZUxlbmd0aCk7XG4gICAgICB2YXIgdGtoZFZlcnNpb24gPSB2aWV3LmdldFVpbnQ4KDApO1xuICAgICAgdHJhY2subnVtYmVyID0gdGtoZFZlcnNpb24gPT09IDAgPyB2aWV3LmdldFVpbnQzMigxMikgOiB2aWV3LmdldFVpbnQzMigyMCk7XG4gICAgfVxuXG4gICAgdmFyIG1kaGQgPSBmaW5kQm94KG1kaWEsIFsnbWRoZCddKVswXTtcblxuICAgIGlmIChtZGhkKSB7XG4gICAgICAvLyBtZGhkIGlzIGEgRnVsbEJveCwgbWVhbmluZyBpdCB3aWxsIGhhdmUgaXRzIG93biB2ZXJzaW9uIGFzIHRoZSBmaXJzdCBieXRlXG4gICAgICB2YXIgdmVyc2lvbiA9IG1kaGRbMF07XG4gICAgICB2YXIgaW5kZXggPSB2ZXJzaW9uID09PSAwID8gMTIgOiAyMDtcbiAgICAgIHRyYWNrLnRpbWVzY2FsZSA9IChtZGhkW2luZGV4XSA8PCAyNCB8IG1kaGRbaW5kZXggKyAxXSA8PCAxNiB8IG1kaGRbaW5kZXggKyAyXSA8PCA4IHwgbWRoZFtpbmRleCArIDNdKSA+Pj4gMDtcbiAgICB9XG5cbiAgICB2YXIgc3RibCA9IGZpbmRCb3gobWRpYSwgWydtaW5mJywgJ3N0YmwnXSlbMF07XG4gICAgdmFyIHN0c2QgPSBmaW5kQm94KHN0YmwsIFsnc3RzZCddKVswXTtcbiAgICB2YXIgZGVzY3JpcHRpb25Db3VudCA9IGJ5dGVzVG9OdW1iZXIoc3RzZC5zdWJhcnJheSg0LCA4KSk7XG4gICAgdmFyIG9mZnNldCA9IDg7IC8vIGFkZCBjb2RlYyBhbmQgY29kZWMgaW5mb1xuXG4gICAgd2hpbGUgKGRlc2NyaXB0aW9uQ291bnQtLSkge1xuICAgICAgdmFyIGxlbiA9IGJ5dGVzVG9OdW1iZXIoc3RzZC5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIDQpKTtcbiAgICAgIHZhciBzYW1wbGVEZXNjcmlwdG9yID0gc3RzZC5zdWJhcnJheShvZmZzZXQgKyA0LCBvZmZzZXQgKyA0ICsgbGVuKTtcbiAgICAgIGFkZFNhbXBsZURlc2NyaXB0aW9uKHRyYWNrLCBzYW1wbGVEZXNjcmlwdG9yKTtcbiAgICAgIG9mZnNldCArPSA0ICsgbGVuO1xuICAgIH1cblxuICAgIGlmIChmcmFtZVRhYmxlKSB7XG4gICAgICB0cmFjay5mcmFtZVRhYmxlID0gYnVpbGRGcmFtZVRhYmxlKHN0YmwsIHRyYWNrLnRpbWVzY2FsZSk7XG4gICAgfSAvLyBjb2RlYyBoYXMgbm8gc3ViIHBhcmFtZXRlcnNcblxuXG4gICAgdHJhY2tzLnB1c2godHJhY2spO1xuICB9KTtcbiAgcmV0dXJuIHRyYWNrcztcbn07XG5leHBvcnQgdmFyIHBhcnNlTWVkaWFJbmZvID0gZnVuY3Rpb24gcGFyc2VNZWRpYUluZm8oYnl0ZXMpIHtcbiAgdmFyIG12aGQgPSBmaW5kQm94KGJ5dGVzLCBbJ21vb3YnLCAnbXZoZCddLCB0cnVlKVswXTtcblxuICBpZiAoIW12aGQgfHwgIW12aGQubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGluZm8gPSB7fTsgLy8gbXMgdG8gbnNcbiAgLy8gbXZoZCB2MSBoYXMgOCBieXRlIGR1cmF0aW9uIGFuZCBvdGhlciBmaWVsZHMgdG9vXG5cbiAgaWYgKG12aGRbMF0gPT09IDEpIHtcbiAgICBpbmZvLnRpbWVzdGFtcFNjYWxlID0gYnl0ZXNUb051bWJlcihtdmhkLnN1YmFycmF5KDIwLCAyNCkpO1xuICAgIGluZm8uZHVyYXRpb24gPSBieXRlc1RvTnVtYmVyKG12aGQuc3ViYXJyYXkoMjQsIDMyKSk7XG4gIH0gZWxzZSB7XG4gICAgaW5mby50aW1lc3RhbXBTY2FsZSA9IGJ5dGVzVG9OdW1iZXIobXZoZC5zdWJhcnJheSgxMiwgMTYpKTtcbiAgICBpbmZvLmR1cmF0aW9uID0gYnl0ZXNUb051bWJlcihtdmhkLnN1YmFycmF5KDE2LCAyMCkpO1xuICB9XG5cbiAgaW5mby5ieXRlcyA9IG12aGQ7XG4gIHJldHVybiBpbmZvO1xufTsiXSwibmFtZXMiOlsic3RyaW5nVG9CeXRlcyIsInRvVWludDgiLCJieXRlc01hdGNoIiwiYnl0ZXNUb1N0cmluZyIsInRvSGV4U3RyaW5nIiwicGFkU3RhcnQiLCJieXRlc1RvTnVtYmVyIiwiZ2V0QXZjQ29kZWMiLCJnZXRIdmNDb2RlYyIsImdldEF2MUNvZGVjIiwicGFyc2VPcHVzSGVhZCIsIm5vcm1hbGl6ZVBhdGgiLCJwYXRoIiwibm9ybWFsaXplUGF0aHMiLCJwYXRocyIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsInAiLCJERVNDUklQVE9SUyIsInBhcnNlRGVzY3JpcHRvcnMiLCJieXRlcyIsInJlc3VsdHMiLCJpIiwibGVuZ3RoIiwidGFnIiwic2l6ZSIsImhlYWRlclNpemUiLCJieXRlIiwieiIsIl9ERVNDUklQVE9SUyR6IiwiaWQiLCJwYXJzZXIiLCJwdXNoIiwic3ViYXJyYXkiLCJkZXNjIiwiZmxhZ3MiLCJkZXBlbmRzT25Fc0lkIiwib2NyRXNJZCIsImRlc2NyaXB0b3JzIiwidXJsIiwibGVuIiwib3RpIiwic3RyZWFtVHlwZSIsImJ1ZmZlclNpemUiLCJtYXhCaXRyYXRlIiwiYXZnQml0cmF0ZSIsImZpbmRCb3giLCJjb21wbGV0ZSIsInR5cGUiLCJlbmQiLCJkYXRhIiwiYXBwbHkiLCJzbGljZSIsImZpbmROYW1lZEJveCIsIm5hbWUiLCJieXRlTGVuZ3RoIiwicGFyc2VTYW1wbGVzIiwiZW50cnlTaXplIiwicGFyc2VFbnRyeSIsImQiLCJlbnRyaWVzIiwiZW50cnlDb3VudCIsImJ1aWxkRnJhbWVUYWJsZSIsInN0YmwiLCJ0aW1lc2NhbGUiLCJrZXlTYW1wbGVzIiwiY2h1bmtPZmZzZXRzIiwidGltZVRvU2FtcGxlcyIsImVudHJ5Iiwic2FtcGxlQ291bnQiLCJzYW1wbGVEZWx0YSIsInNhbXBsZXNUb0NodW5rcyIsImZpcnN0Q2h1bmsiLCJzYW1wbGVzUGVyQ2h1bmsiLCJzYW1wbGVEZXNjcmlwdGlvbkluZGV4Iiwic3RzeiIsInNhbXBsZVNpemVzIiwiZnJhbWVzIiwiY2h1bmtJbmRleCIsInNhbXBsZXNJbkNodW5rIiwic2FtcGxlVG9DaHVuayIsImlzVGhpc09uZSIsImNodW5rT2Zmc2V0IiwiX2kiLCJmcmFtZUVuZCIsImtleWZyYW1lIiwiaW5kZXhPZiIsImZyYW1lIiwic3RhcnQiLCJrIiwiX3RpbWVUb1NhbXBsZXMkayIsImxhc3RUaW1lc3RhbXAiLCJ0aW1lc3RhbXAiLCJkdXJhdGlvbiIsImFkZFNhbXBsZURlc2NyaXB0aW9uIiwidHJhY2siLCJjb2RlYyIsImluZm8iLCJ3aWR0aCIsImhlaWdodCIsImNoYW5uZWxzIiwiYml0RGVwdGgiLCJzYW1wbGVSYXRlIiwiYXZjQyIsImVzZHMiLCJlc0Rlc2NyaXB0b3IiLCJkZWNvZGVyQ29uZmlnIiwiZmlsdGVyIiwiX3JlZiIsInRvU3RyaW5nIiwidnBjQyIsInByb2ZpbGUiLCJsZXZlbCIsImNocm9tYVN1YnNhbXBsaW5nIiwidmlkZW9GdWxsUmFuZ2VGbGFnIiwiY29sb3VyUHJpbWFyaWVzIiwidHJhbnNmZXJDaGFyYWN0ZXJpc3RpY3MiLCJtYXRyaXhDb2VmZmljaWVudHMiLCJkT3BzIiwib3B1cyIsImNvZGVjRGVsYXkiLCJ0b0xvd2VyQ2FzZSIsInBhcnNlVHJhY2tzIiwiZnJhbWVUYWJsZSIsInRyYWtzIiwidHJhY2tzIiwiZm9yRWFjaCIsInRyYWsiLCJtZGlhIiwiaGRsciIsInRyYWtUeXBlIiwidGtoZCIsInZpZXciLCJEYXRhVmlldyIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJ0a2hkVmVyc2lvbiIsImdldFVpbnQ4IiwibnVtYmVyIiwiZ2V0VWludDMyIiwibWRoZCIsInZlcnNpb24iLCJpbmRleCIsInN0c2QiLCJkZXNjcmlwdGlvbkNvdW50Iiwib2Zmc2V0Iiwic2FtcGxlRGVzY3JpcHRvciIsInBhcnNlTWVkaWFJbmZvIiwibXZoZCIsInRpbWVzdGFtcFNjYWxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/mp4-helpers.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/nal-helpers.js":
/*!************************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/nal-helpers.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EMULATION_PREVENTION: () => (/* binding */ EMULATION_PREVENTION),\n/* harmony export */   NAL_TYPE_ONE: () => (/* binding */ NAL_TYPE_ONE),\n/* harmony export */   NAL_TYPE_TWO: () => (/* binding */ NAL_TYPE_TWO),\n/* harmony export */   discardEmulationPreventionBytes: () => (/* binding */ discardEmulationPreventionBytes),\n/* harmony export */   findH264Nal: () => (/* binding */ findH264Nal),\n/* harmony export */   findH265Nal: () => (/* binding */ findH265Nal),\n/* harmony export */   findNal: () => (/* binding */ findNal)\n/* harmony export */ });\n/* harmony import */ var _byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./byte-helpers.js */ \"(ssr)/../node_modules/@videojs/vhs-utils/es/byte-helpers.js\");\n\nvar NAL_TYPE_ONE = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n    0x00,\n    0x00,\n    0x00,\n    0x01\n]);\nvar NAL_TYPE_TWO = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n    0x00,\n    0x00,\n    0x01\n]);\nvar EMULATION_PREVENTION = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)([\n    0x00,\n    0x00,\n    0x03\n]);\n/**\n * Expunge any \"Emulation Prevention\" bytes from a \"Raw Byte\n * Sequence Payload\"\n *\n * @param data {Uint8Array} the bytes of a RBSP from a NAL\n * unit\n * @return {Uint8Array} the RBSP without any Emulation\n * Prevention Bytes\n */ var discardEmulationPreventionBytes = function discardEmulationPreventionBytes(bytes) {\n    var positions = [];\n    var i = 1; // Find all `Emulation Prevention Bytes`\n    while(i < bytes.length - 2){\n        if ((0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes.subarray(i, i + 3), EMULATION_PREVENTION)) {\n            positions.push(i + 2);\n            i++;\n        }\n        i++;\n    } // If no Emulation Prevention Bytes were found just return the original\n    // array\n    if (positions.length === 0) {\n        return bytes;\n    } // Create a new array to hold the NAL unit data\n    var newLength = bytes.length - positions.length;\n    var newData = new Uint8Array(newLength);\n    var sourceIndex = 0;\n    for(i = 0; i < newLength; sourceIndex++, i++){\n        if (sourceIndex === positions[0]) {\n            // Skip this byte\n            sourceIndex++; // Remove this position index\n            positions.shift();\n        }\n        newData[i] = bytes[sourceIndex];\n    }\n    return newData;\n};\nvar findNal = function findNal(bytes, dataType, types, nalLimit) {\n    if (nalLimit === void 0) {\n        nalLimit = Infinity;\n    }\n    bytes = (0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.toUint8)(bytes);\n    types = [].concat(types);\n    var i = 0;\n    var nalStart;\n    var nalsFound = 0; // keep searching until:\n    // we reach the end of bytes\n    // we reach the maximum number of nals they want to seach\n    // NOTE: that we disregard nalLimit when we have found the start\n    // of the nal we want so that we can find the end of the nal we want.\n    while(i < bytes.length && (nalsFound < nalLimit || nalStart)){\n        var nalOffset = void 0;\n        if ((0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes.subarray(i), NAL_TYPE_ONE)) {\n            nalOffset = 4;\n        } else if ((0,_byte_helpers_js__WEBPACK_IMPORTED_MODULE_0__.bytesMatch)(bytes.subarray(i), NAL_TYPE_TWO)) {\n            nalOffset = 3;\n        } // we are unsynced,\n        // find the next nal unit\n        if (!nalOffset) {\n            i++;\n            continue;\n        }\n        nalsFound++;\n        if (nalStart) {\n            return discardEmulationPreventionBytes(bytes.subarray(nalStart, i));\n        }\n        var nalType = void 0;\n        if (dataType === \"h264\") {\n            nalType = bytes[i + nalOffset] & 0x1f;\n        } else if (dataType === \"h265\") {\n            nalType = bytes[i + nalOffset] >> 1 & 0x3f;\n        }\n        if (types.indexOf(nalType) !== -1) {\n            nalStart = i + nalOffset;\n        } // nal header is 1 length for h264, and 2 for h265\n        i += nalOffset + (dataType === \"h264\" ? 1 : 2);\n    }\n    return bytes.subarray(0, 0);\n};\nvar findH264Nal = function findH264Nal(bytes, type, nalLimit) {\n    return findNal(bytes, \"h264\", type, nalLimit);\n};\nvar findH265Nal = function findH265Nal(bytes, type, nalLimit) {\n    return findNal(bytes, \"h265\", type, nalLimit);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9uYWwtaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF3RDtBQUNqRCxJQUFJRSxlQUFlRCx5REFBT0EsQ0FBQztJQUFDO0lBQU07SUFBTTtJQUFNO0NBQUssRUFBRTtBQUNyRCxJQUFJRSxlQUFlRix5REFBT0EsQ0FBQztJQUFDO0lBQU07SUFBTTtDQUFLLEVBQUU7QUFDL0MsSUFBSUcsdUJBQXVCSCx5REFBT0EsQ0FBQztJQUFDO0lBQU07SUFBTTtDQUFLLEVBQUU7QUFDOUQ7Ozs7Ozs7O0NBUUMsR0FFTSxJQUFJSSxrQ0FBa0MsU0FBU0EsZ0NBQWdDQyxLQUFLO0lBQ3pGLElBQUlDLFlBQVksRUFBRTtJQUNsQixJQUFJQyxJQUFJLEdBQUcsd0NBQXdDO0lBRW5ELE1BQU9BLElBQUlGLE1BQU1HLE1BQU0sR0FBRyxFQUFHO1FBQzNCLElBQUlULDREQUFVQSxDQUFDTSxNQUFNSSxRQUFRLENBQUNGLEdBQUdBLElBQUksSUFBSUosdUJBQXVCO1lBQzlERyxVQUFVSSxJQUFJLENBQUNILElBQUk7WUFDbkJBO1FBQ0Y7UUFFQUE7SUFDRixFQUFFLHVFQUF1RTtJQUN6RSxRQUFRO0lBR1IsSUFBSUQsVUFBVUUsTUFBTSxLQUFLLEdBQUc7UUFDMUIsT0FBT0g7SUFDVCxFQUFFLCtDQUErQztJQUdqRCxJQUFJTSxZQUFZTixNQUFNRyxNQUFNLEdBQUdGLFVBQVVFLE1BQU07SUFDL0MsSUFBSUksVUFBVSxJQUFJQyxXQUFXRjtJQUM3QixJQUFJRyxjQUFjO0lBRWxCLElBQUtQLElBQUksR0FBR0EsSUFBSUksV0FBV0csZUFBZVAsSUFBSztRQUM3QyxJQUFJTyxnQkFBZ0JSLFNBQVMsQ0FBQyxFQUFFLEVBQUU7WUFDaEMsaUJBQWlCO1lBQ2pCUSxlQUFlLDZCQUE2QjtZQUU1Q1IsVUFBVVMsS0FBSztRQUNqQjtRQUVBSCxPQUFPLENBQUNMLEVBQUUsR0FBR0YsS0FBSyxDQUFDUyxZQUFZO0lBQ2pDO0lBRUEsT0FBT0Y7QUFDVCxFQUFFO0FBQ0ssSUFBSUksVUFBVSxTQUFTQSxRQUFRWCxLQUFLLEVBQUVZLFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxRQUFRO0lBQ3BFLElBQUlBLGFBQWEsS0FBSyxHQUFHO1FBQ3ZCQSxXQUFXQztJQUNiO0lBRUFmLFFBQVFMLHlEQUFPQSxDQUFDSztJQUNoQmEsUUFBUSxFQUFFLENBQUNHLE1BQU0sQ0FBQ0g7SUFDbEIsSUFBSVgsSUFBSTtJQUNSLElBQUllO0lBQ0osSUFBSUMsWUFBWSxHQUFHLHdCQUF3QjtJQUMzQyw0QkFBNEI7SUFDNUIseURBQXlEO0lBQ3pELGdFQUFnRTtJQUNoRSxxRUFBcUU7SUFFckUsTUFBT2hCLElBQUlGLE1BQU1HLE1BQU0sSUFBS2UsQ0FBQUEsWUFBWUosWUFBWUcsUUFBTyxFQUFJO1FBQzdELElBQUlFLFlBQVksS0FBSztRQUVyQixJQUFJekIsNERBQVVBLENBQUNNLE1BQU1JLFFBQVEsQ0FBQ0YsSUFBSU4sZUFBZTtZQUMvQ3VCLFlBQVk7UUFDZCxPQUFPLElBQUl6Qiw0REFBVUEsQ0FBQ00sTUFBTUksUUFBUSxDQUFDRixJQUFJTCxlQUFlO1lBQ3REc0IsWUFBWTtRQUNkLEVBQUUsbUJBQW1CO1FBQ3JCLHlCQUF5QjtRQUd6QixJQUFJLENBQUNBLFdBQVc7WUFDZGpCO1lBQ0E7UUFDRjtRQUVBZ0I7UUFFQSxJQUFJRCxVQUFVO1lBQ1osT0FBT2xCLGdDQUFnQ0MsTUFBTUksUUFBUSxDQUFDYSxVQUFVZjtRQUNsRTtRQUVBLElBQUlrQixVQUFVLEtBQUs7UUFFbkIsSUFBSVIsYUFBYSxRQUFRO1lBQ3ZCUSxVQUFVcEIsS0FBSyxDQUFDRSxJQUFJaUIsVUFBVSxHQUFHO1FBQ25DLE9BQU8sSUFBSVAsYUFBYSxRQUFRO1lBQzlCUSxVQUFVcEIsS0FBSyxDQUFDRSxJQUFJaUIsVUFBVSxJQUFJLElBQUk7UUFDeEM7UUFFQSxJQUFJTixNQUFNUSxPQUFPLENBQUNELGFBQWEsQ0FBQyxHQUFHO1lBQ2pDSCxXQUFXZixJQUFJaUI7UUFDakIsRUFBRSxrREFBa0Q7UUFHcERqQixLQUFLaUIsWUFBYVAsQ0FBQUEsYUFBYSxTQUFTLElBQUk7SUFDOUM7SUFFQSxPQUFPWixNQUFNSSxRQUFRLENBQUMsR0FBRztBQUMzQixFQUFFO0FBQ0ssSUFBSWtCLGNBQWMsU0FBU0EsWUFBWXRCLEtBQUssRUFBRXVCLElBQUksRUFBRVQsUUFBUTtJQUNqRSxPQUFPSCxRQUFRWCxPQUFPLFFBQVF1QixNQUFNVDtBQUN0QyxFQUFFO0FBQ0ssSUFBSVUsY0FBYyxTQUFTQSxZQUFZeEIsS0FBSyxFQUFFdUIsSUFBSSxFQUFFVCxRQUFRO0lBQ2pFLE9BQU9ILFFBQVFYLE9BQU8sUUFBUXVCLE1BQU1UO0FBQ3RDLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icmVlemUtbmV4dC8uLi9ub2RlX21vZHVsZXMvQHZpZGVvanMvdmhzLXV0aWxzL2VzL25hbC1oZWxwZXJzLmpzPzcwZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnl0ZXNNYXRjaCwgdG9VaW50OCB9IGZyb20gJy4vYnl0ZS1oZWxwZXJzLmpzJztcbmV4cG9ydCB2YXIgTkFMX1RZUEVfT05FID0gdG9VaW50OChbMHgwMCwgMHgwMCwgMHgwMCwgMHgwMV0pO1xuZXhwb3J0IHZhciBOQUxfVFlQRV9UV08gPSB0b1VpbnQ4KFsweDAwLCAweDAwLCAweDAxXSk7XG5leHBvcnQgdmFyIEVNVUxBVElPTl9QUkVWRU5USU9OID0gdG9VaW50OChbMHgwMCwgMHgwMCwgMHgwM10pO1xuLyoqXG4gKiBFeHB1bmdlIGFueSBcIkVtdWxhdGlvbiBQcmV2ZW50aW9uXCIgYnl0ZXMgZnJvbSBhIFwiUmF3IEJ5dGVcbiAqIFNlcXVlbmNlIFBheWxvYWRcIlxuICpcbiAqIEBwYXJhbSBkYXRhIHtVaW50OEFycmF5fSB0aGUgYnl0ZXMgb2YgYSBSQlNQIGZyb20gYSBOQUxcbiAqIHVuaXRcbiAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IHRoZSBSQlNQIHdpdGhvdXQgYW55IEVtdWxhdGlvblxuICogUHJldmVudGlvbiBCeXRlc1xuICovXG5cbmV4cG9ydCB2YXIgZGlzY2FyZEVtdWxhdGlvblByZXZlbnRpb25CeXRlcyA9IGZ1bmN0aW9uIGRpc2NhcmRFbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXMoYnl0ZXMpIHtcbiAgdmFyIHBvc2l0aW9ucyA9IFtdO1xuICB2YXIgaSA9IDE7IC8vIEZpbmQgYWxsIGBFbXVsYXRpb24gUHJldmVudGlvbiBCeXRlc2BcblxuICB3aGlsZSAoaSA8IGJ5dGVzLmxlbmd0aCAtIDIpIHtcbiAgICBpZiAoYnl0ZXNNYXRjaChieXRlcy5zdWJhcnJheShpLCBpICsgMyksIEVNVUxBVElPTl9QUkVWRU5USU9OKSkge1xuICAgICAgcG9zaXRpb25zLnB1c2goaSArIDIpO1xuICAgICAgaSsrO1xuICAgIH1cblxuICAgIGkrKztcbiAgfSAvLyBJZiBubyBFbXVsYXRpb24gUHJldmVudGlvbiBCeXRlcyB3ZXJlIGZvdW5kIGp1c3QgcmV0dXJuIHRoZSBvcmlnaW5hbFxuICAvLyBhcnJheVxuXG5cbiAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYnl0ZXM7XG4gIH0gLy8gQ3JlYXRlIGEgbmV3IGFycmF5IHRvIGhvbGQgdGhlIE5BTCB1bml0IGRhdGFcblxuXG4gIHZhciBuZXdMZW5ndGggPSBieXRlcy5sZW5ndGggLSBwb3NpdGlvbnMubGVuZ3RoO1xuICB2YXIgbmV3RGF0YSA9IG5ldyBVaW50OEFycmF5KG5ld0xlbmd0aCk7XG4gIHZhciBzb3VyY2VJbmRleCA9IDA7XG5cbiAgZm9yIChpID0gMDsgaSA8IG5ld0xlbmd0aDsgc291cmNlSW5kZXgrKywgaSsrKSB7XG4gICAgaWYgKHNvdXJjZUluZGV4ID09PSBwb3NpdGlvbnNbMF0pIHtcbiAgICAgIC8vIFNraXAgdGhpcyBieXRlXG4gICAgICBzb3VyY2VJbmRleCsrOyAvLyBSZW1vdmUgdGhpcyBwb3NpdGlvbiBpbmRleFxuXG4gICAgICBwb3NpdGlvbnMuc2hpZnQoKTtcbiAgICB9XG5cbiAgICBuZXdEYXRhW2ldID0gYnl0ZXNbc291cmNlSW5kZXhdO1xuICB9XG5cbiAgcmV0dXJuIG5ld0RhdGE7XG59O1xuZXhwb3J0IHZhciBmaW5kTmFsID0gZnVuY3Rpb24gZmluZE5hbChieXRlcywgZGF0YVR5cGUsIHR5cGVzLCBuYWxMaW1pdCkge1xuICBpZiAobmFsTGltaXQgPT09IHZvaWQgMCkge1xuICAgIG5hbExpbWl0ID0gSW5maW5pdHk7XG4gIH1cblxuICBieXRlcyA9IHRvVWludDgoYnl0ZXMpO1xuICB0eXBlcyA9IFtdLmNvbmNhdCh0eXBlcyk7XG4gIHZhciBpID0gMDtcbiAgdmFyIG5hbFN0YXJ0O1xuICB2YXIgbmFsc0ZvdW5kID0gMDsgLy8ga2VlcCBzZWFyY2hpbmcgdW50aWw6XG4gIC8vIHdlIHJlYWNoIHRoZSBlbmQgb2YgYnl0ZXNcbiAgLy8gd2UgcmVhY2ggdGhlIG1heGltdW0gbnVtYmVyIG9mIG5hbHMgdGhleSB3YW50IHRvIHNlYWNoXG4gIC8vIE5PVEU6IHRoYXQgd2UgZGlzcmVnYXJkIG5hbExpbWl0IHdoZW4gd2UgaGF2ZSBmb3VuZCB0aGUgc3RhcnRcbiAgLy8gb2YgdGhlIG5hbCB3ZSB3YW50IHNvIHRoYXQgd2UgY2FuIGZpbmQgdGhlIGVuZCBvZiB0aGUgbmFsIHdlIHdhbnQuXG5cbiAgd2hpbGUgKGkgPCBieXRlcy5sZW5ndGggJiYgKG5hbHNGb3VuZCA8IG5hbExpbWl0IHx8IG5hbFN0YXJ0KSkge1xuICAgIHZhciBuYWxPZmZzZXQgPSB2b2lkIDA7XG5cbiAgICBpZiAoYnl0ZXNNYXRjaChieXRlcy5zdWJhcnJheShpKSwgTkFMX1RZUEVfT05FKSkge1xuICAgICAgbmFsT2Zmc2V0ID0gNDtcbiAgICB9IGVsc2UgaWYgKGJ5dGVzTWF0Y2goYnl0ZXMuc3ViYXJyYXkoaSksIE5BTF9UWVBFX1RXTykpIHtcbiAgICAgIG5hbE9mZnNldCA9IDM7XG4gICAgfSAvLyB3ZSBhcmUgdW5zeW5jZWQsXG4gICAgLy8gZmluZCB0aGUgbmV4dCBuYWwgdW5pdFxuXG5cbiAgICBpZiAoIW5hbE9mZnNldCkge1xuICAgICAgaSsrO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgbmFsc0ZvdW5kKys7XG5cbiAgICBpZiAobmFsU3RhcnQpIHtcbiAgICAgIHJldHVybiBkaXNjYXJkRW11bGF0aW9uUHJldmVudGlvbkJ5dGVzKGJ5dGVzLnN1YmFycmF5KG5hbFN0YXJ0LCBpKSk7XG4gICAgfVxuXG4gICAgdmFyIG5hbFR5cGUgPSB2b2lkIDA7XG5cbiAgICBpZiAoZGF0YVR5cGUgPT09ICdoMjY0Jykge1xuICAgICAgbmFsVHlwZSA9IGJ5dGVzW2kgKyBuYWxPZmZzZXRdICYgMHgxZjtcbiAgICB9IGVsc2UgaWYgKGRhdGFUeXBlID09PSAnaDI2NScpIHtcbiAgICAgIG5hbFR5cGUgPSBieXRlc1tpICsgbmFsT2Zmc2V0XSA+PiAxICYgMHgzZjtcbiAgICB9XG5cbiAgICBpZiAodHlwZXMuaW5kZXhPZihuYWxUeXBlKSAhPT0gLTEpIHtcbiAgICAgIG5hbFN0YXJ0ID0gaSArIG5hbE9mZnNldDtcbiAgICB9IC8vIG5hbCBoZWFkZXIgaXMgMSBsZW5ndGggZm9yIGgyNjQsIGFuZCAyIGZvciBoMjY1XG5cblxuICAgIGkgKz0gbmFsT2Zmc2V0ICsgKGRhdGFUeXBlID09PSAnaDI2NCcgPyAxIDogMik7XG4gIH1cblxuICByZXR1cm4gYnl0ZXMuc3ViYXJyYXkoMCwgMCk7XG59O1xuZXhwb3J0IHZhciBmaW5kSDI2NE5hbCA9IGZ1bmN0aW9uIGZpbmRIMjY0TmFsKGJ5dGVzLCB0eXBlLCBuYWxMaW1pdCkge1xuICByZXR1cm4gZmluZE5hbChieXRlcywgJ2gyNjQnLCB0eXBlLCBuYWxMaW1pdCk7XG59O1xuZXhwb3J0IHZhciBmaW5kSDI2NU5hbCA9IGZ1bmN0aW9uIGZpbmRIMjY1TmFsKGJ5dGVzLCB0eXBlLCBuYWxMaW1pdCkge1xuICByZXR1cm4gZmluZE5hbChieXRlcywgJ2gyNjUnLCB0eXBlLCBuYWxMaW1pdCk7XG59OyJdLCJuYW1lcyI6WyJieXRlc01hdGNoIiwidG9VaW50OCIsIk5BTF9UWVBFX09ORSIsIk5BTF9UWVBFX1RXTyIsIkVNVUxBVElPTl9QUkVWRU5USU9OIiwiZGlzY2FyZEVtdWxhdGlvblByZXZlbnRpb25CeXRlcyIsImJ5dGVzIiwicG9zaXRpb25zIiwiaSIsImxlbmd0aCIsInN1YmFycmF5IiwicHVzaCIsIm5ld0xlbmd0aCIsIm5ld0RhdGEiLCJVaW50OEFycmF5Iiwic291cmNlSW5kZXgiLCJzaGlmdCIsImZpbmROYWwiLCJkYXRhVHlwZSIsInR5cGVzIiwibmFsTGltaXQiLCJJbmZpbml0eSIsImNvbmNhdCIsIm5hbFN0YXJ0IiwibmFsc0ZvdW5kIiwibmFsT2Zmc2V0IiwibmFsVHlwZSIsImluZGV4T2YiLCJmaW5kSDI2NE5hbCIsInR5cGUiLCJmaW5kSDI2NU5hbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/nal-helpers.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/opus-helpers.js":
/*!*************************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/opus-helpers.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OPUS_HEAD: () => (/* binding */ OPUS_HEAD),\n/* harmony export */   parseOpusHead: () => (/* binding */ parseOpusHead),\n/* harmony export */   setOpusHead: () => (/* binding */ setOpusHead)\n/* harmony export */ });\nvar OPUS_HEAD = new Uint8Array([\n    0x4f,\n    0x70,\n    0x75,\n    0x73,\n    0x48,\n    0x65,\n    0x61,\n    0x64\n]); // https://wiki.xiph.org/OggOpus\n// https://vfrmaniac.fushizen.eu/contents/opus_in_isobmff.html\n// https://opus-codec.org/docs/opusfile_api-0.7/structOpusHead.html\nvar parseOpusHead = function parseOpusHead(bytes) {\n    var view = new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);\n    var version = view.getUint8(0); // version 0, from mp4, does not use littleEndian.\n    var littleEndian = version !== 0;\n    var config = {\n        version: version,\n        channels: view.getUint8(1),\n        preSkip: view.getUint16(2, littleEndian),\n        sampleRate: view.getUint32(4, littleEndian),\n        outputGain: view.getUint16(8, littleEndian),\n        channelMappingFamily: view.getUint8(10)\n    };\n    if (config.channelMappingFamily > 0 && bytes.length > 10) {\n        config.streamCount = view.getUint8(11);\n        config.twoChannelStreamCount = view.getUint8(12);\n        config.channelMapping = [];\n        for(var c = 0; c < config.channels; c++){\n            config.channelMapping.push(view.getUint8(13 + c));\n        }\n    }\n    return config;\n};\nvar setOpusHead = function setOpusHead(config) {\n    var size = config.channelMappingFamily <= 0 ? 11 : 12 + config.channels;\n    var view = new DataView(new ArrayBuffer(size));\n    var littleEndian = config.version !== 0;\n    view.setUint8(0, config.version);\n    view.setUint8(1, config.channels);\n    view.setUint16(2, config.preSkip, littleEndian);\n    view.setUint32(4, config.sampleRate, littleEndian);\n    view.setUint16(8, config.outputGain, littleEndian);\n    view.setUint8(10, config.channelMappingFamily);\n    if (config.channelMappingFamily > 0) {\n        view.setUint8(11, config.streamCount);\n        config.channelMapping.foreach(function(cm, i) {\n            view.setUint8(12 + i, cm);\n        });\n    }\n    return new Uint8Array(view.buffer);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9vcHVzLWhlbHBlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sSUFBSUEsWUFBWSxJQUFJQyxXQUFXO0lBQ3RDO0lBQU07SUFBTTtJQUFNO0lBQ2xCO0lBQU07SUFBTTtJQUFNO0NBQUssRUFBRSxDQUFDLGdDQUFnQztBQUMxRCw4REFBOEQ7QUFDOUQsbUVBQW1FO0FBRTVELElBQUlDLGdCQUFnQixTQUFTQSxjQUFjQyxLQUFLO0lBQ3JELElBQUlDLE9BQU8sSUFBSUMsU0FBU0YsTUFBTUcsTUFBTSxFQUFFSCxNQUFNSSxVQUFVLEVBQUVKLE1BQU1LLFVBQVU7SUFDeEUsSUFBSUMsVUFBVUwsS0FBS00sUUFBUSxDQUFDLElBQUksa0RBQWtEO0lBRWxGLElBQUlDLGVBQWVGLFlBQVk7SUFDL0IsSUFBSUcsU0FBUztRQUNYSCxTQUFTQTtRQUNUSSxVQUFVVCxLQUFLTSxRQUFRLENBQUM7UUFDeEJJLFNBQVNWLEtBQUtXLFNBQVMsQ0FBQyxHQUFHSjtRQUMzQkssWUFBWVosS0FBS2EsU0FBUyxDQUFDLEdBQUdOO1FBQzlCTyxZQUFZZCxLQUFLVyxTQUFTLENBQUMsR0FBR0o7UUFDOUJRLHNCQUFzQmYsS0FBS00sUUFBUSxDQUFDO0lBQ3RDO0lBRUEsSUFBSUUsT0FBT08sb0JBQW9CLEdBQUcsS0FBS2hCLE1BQU1pQixNQUFNLEdBQUcsSUFBSTtRQUN4RFIsT0FBT1MsV0FBVyxHQUFHakIsS0FBS00sUUFBUSxDQUFDO1FBQ25DRSxPQUFPVSxxQkFBcUIsR0FBR2xCLEtBQUtNLFFBQVEsQ0FBQztRQUM3Q0UsT0FBT1csY0FBYyxHQUFHLEVBQUU7UUFFMUIsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlaLE9BQU9DLFFBQVEsRUFBRVcsSUFBSztZQUN4Q1osT0FBT1csY0FBYyxDQUFDRSxJQUFJLENBQUNyQixLQUFLTSxRQUFRLENBQUMsS0FBS2M7UUFDaEQ7SUFDRjtJQUVBLE9BQU9aO0FBQ1QsRUFBRTtBQUNLLElBQUljLGNBQWMsU0FBU0EsWUFBWWQsTUFBTTtJQUNsRCxJQUFJZSxPQUFPZixPQUFPTyxvQkFBb0IsSUFBSSxJQUFJLEtBQUssS0FBS1AsT0FBT0MsUUFBUTtJQUN2RSxJQUFJVCxPQUFPLElBQUlDLFNBQVMsSUFBSXVCLFlBQVlEO0lBQ3hDLElBQUloQixlQUFlQyxPQUFPSCxPQUFPLEtBQUs7SUFDdENMLEtBQUt5QixRQUFRLENBQUMsR0FBR2pCLE9BQU9ILE9BQU87SUFDL0JMLEtBQUt5QixRQUFRLENBQUMsR0FBR2pCLE9BQU9DLFFBQVE7SUFDaENULEtBQUswQixTQUFTLENBQUMsR0FBR2xCLE9BQU9FLE9BQU8sRUFBRUg7SUFDbENQLEtBQUsyQixTQUFTLENBQUMsR0FBR25CLE9BQU9JLFVBQVUsRUFBRUw7SUFDckNQLEtBQUswQixTQUFTLENBQUMsR0FBR2xCLE9BQU9NLFVBQVUsRUFBRVA7SUFDckNQLEtBQUt5QixRQUFRLENBQUMsSUFBSWpCLE9BQU9PLG9CQUFvQjtJQUU3QyxJQUFJUCxPQUFPTyxvQkFBb0IsR0FBRyxHQUFHO1FBQ25DZixLQUFLeUIsUUFBUSxDQUFDLElBQUlqQixPQUFPUyxXQUFXO1FBQ3BDVCxPQUFPVyxjQUFjLENBQUNTLE9BQU8sQ0FBQyxTQUFVQyxFQUFFLEVBQUVDLENBQUM7WUFDM0M5QixLQUFLeUIsUUFBUSxDQUFDLEtBQUtLLEdBQUdEO1FBQ3hCO0lBQ0Y7SUFFQSxPQUFPLElBQUloQyxXQUFXRyxLQUFLRSxNQUFNO0FBQ25DLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icmVlemUtbmV4dC8uLi9ub2RlX21vZHVsZXMvQHZpZGVvanMvdmhzLXV0aWxzL2VzL29wdXMtaGVscGVycy5qcz8wMTA4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgT1BVU19IRUFEID0gbmV3IFVpbnQ4QXJyYXkoWy8vIE8sIHAsIHUsIHNcbjB4NGYsIDB4NzAsIDB4NzUsIDB4NzMsIC8vIEgsIGUsIGEsIGRcbjB4NDgsIDB4NjUsIDB4NjEsIDB4NjRdKTsgLy8gaHR0cHM6Ly93aWtpLnhpcGgub3JnL09nZ09wdXNcbi8vIGh0dHBzOi8vdmZybWFuaWFjLmZ1c2hpemVuLmV1L2NvbnRlbnRzL29wdXNfaW5faXNvYm1mZi5odG1sXG4vLyBodHRwczovL29wdXMtY29kZWMub3JnL2RvY3Mvb3B1c2ZpbGVfYXBpLTAuNy9zdHJ1Y3RPcHVzSGVhZC5odG1sXG5cbmV4cG9ydCB2YXIgcGFyc2VPcHVzSGVhZCA9IGZ1bmN0aW9uIHBhcnNlT3B1c0hlYWQoYnl0ZXMpIHtcbiAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcoYnl0ZXMuYnVmZmVyLCBieXRlcy5ieXRlT2Zmc2V0LCBieXRlcy5ieXRlTGVuZ3RoKTtcbiAgdmFyIHZlcnNpb24gPSB2aWV3LmdldFVpbnQ4KDApOyAvLyB2ZXJzaW9uIDAsIGZyb20gbXA0LCBkb2VzIG5vdCB1c2UgbGl0dGxlRW5kaWFuLlxuXG4gIHZhciBsaXR0bGVFbmRpYW4gPSB2ZXJzaW9uICE9PSAwO1xuICB2YXIgY29uZmlnID0ge1xuICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgY2hhbm5lbHM6IHZpZXcuZ2V0VWludDgoMSksXG4gICAgcHJlU2tpcDogdmlldy5nZXRVaW50MTYoMiwgbGl0dGxlRW5kaWFuKSxcbiAgICBzYW1wbGVSYXRlOiB2aWV3LmdldFVpbnQzMig0LCBsaXR0bGVFbmRpYW4pLFxuICAgIG91dHB1dEdhaW46IHZpZXcuZ2V0VWludDE2KDgsIGxpdHRsZUVuZGlhbiksXG4gICAgY2hhbm5lbE1hcHBpbmdGYW1pbHk6IHZpZXcuZ2V0VWludDgoMTApXG4gIH07XG5cbiAgaWYgKGNvbmZpZy5jaGFubmVsTWFwcGluZ0ZhbWlseSA+IDAgJiYgYnl0ZXMubGVuZ3RoID4gMTApIHtcbiAgICBjb25maWcuc3RyZWFtQ291bnQgPSB2aWV3LmdldFVpbnQ4KDExKTtcbiAgICBjb25maWcudHdvQ2hhbm5lbFN0cmVhbUNvdW50ID0gdmlldy5nZXRVaW50OCgxMik7XG4gICAgY29uZmlnLmNoYW5uZWxNYXBwaW5nID0gW107XG5cbiAgICBmb3IgKHZhciBjID0gMDsgYyA8IGNvbmZpZy5jaGFubmVsczsgYysrKSB7XG4gICAgICBjb25maWcuY2hhbm5lbE1hcHBpbmcucHVzaCh2aWV3LmdldFVpbnQ4KDEzICsgYykpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb25maWc7XG59O1xuZXhwb3J0IHZhciBzZXRPcHVzSGVhZCA9IGZ1bmN0aW9uIHNldE9wdXNIZWFkKGNvbmZpZykge1xuICB2YXIgc2l6ZSA9IGNvbmZpZy5jaGFubmVsTWFwcGluZ0ZhbWlseSA8PSAwID8gMTEgOiAxMiArIGNvbmZpZy5jaGFubmVscztcbiAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKHNpemUpKTtcbiAgdmFyIGxpdHRsZUVuZGlhbiA9IGNvbmZpZy52ZXJzaW9uICE9PSAwO1xuICB2aWV3LnNldFVpbnQ4KDAsIGNvbmZpZy52ZXJzaW9uKTtcbiAgdmlldy5zZXRVaW50OCgxLCBjb25maWcuY2hhbm5lbHMpO1xuICB2aWV3LnNldFVpbnQxNigyLCBjb25maWcucHJlU2tpcCwgbGl0dGxlRW5kaWFuKTtcbiAgdmlldy5zZXRVaW50MzIoNCwgY29uZmlnLnNhbXBsZVJhdGUsIGxpdHRsZUVuZGlhbik7XG4gIHZpZXcuc2V0VWludDE2KDgsIGNvbmZpZy5vdXRwdXRHYWluLCBsaXR0bGVFbmRpYW4pO1xuICB2aWV3LnNldFVpbnQ4KDEwLCBjb25maWcuY2hhbm5lbE1hcHBpbmdGYW1pbHkpO1xuXG4gIGlmIChjb25maWcuY2hhbm5lbE1hcHBpbmdGYW1pbHkgPiAwKSB7XG4gICAgdmlldy5zZXRVaW50OCgxMSwgY29uZmlnLnN0cmVhbUNvdW50KTtcbiAgICBjb25maWcuY2hhbm5lbE1hcHBpbmcuZm9yZWFjaChmdW5jdGlvbiAoY20sIGkpIHtcbiAgICAgIHZpZXcuc2V0VWludDgoMTIgKyBpLCBjbSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodmlldy5idWZmZXIpO1xufTsiXSwibmFtZXMiOlsiT1BVU19IRUFEIiwiVWludDhBcnJheSIsInBhcnNlT3B1c0hlYWQiLCJieXRlcyIsInZpZXciLCJEYXRhVmlldyIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJieXRlTGVuZ3RoIiwidmVyc2lvbiIsImdldFVpbnQ4IiwibGl0dGxlRW5kaWFuIiwiY29uZmlnIiwiY2hhbm5lbHMiLCJwcmVTa2lwIiwiZ2V0VWludDE2Iiwic2FtcGxlUmF0ZSIsImdldFVpbnQzMiIsIm91dHB1dEdhaW4iLCJjaGFubmVsTWFwcGluZ0ZhbWlseSIsImxlbmd0aCIsInN0cmVhbUNvdW50IiwidHdvQ2hhbm5lbFN0cmVhbUNvdW50IiwiY2hhbm5lbE1hcHBpbmciLCJjIiwicHVzaCIsInNldE9wdXNIZWFkIiwic2l6ZSIsIkFycmF5QnVmZmVyIiwic2V0VWludDgiLCJzZXRVaW50MTYiLCJzZXRVaW50MzIiLCJmb3JlYWNoIiwiY20iLCJpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/opus-helpers.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/resolve-url.js":
/*!************************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/resolve-url.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var url_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! url-toolkit */ \"(ssr)/../node_modules/url-toolkit/src/url-toolkit.js\");\n/* harmony import */ var url_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(url_toolkit__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var global_window__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! global/window */ \"(ssr)/../node_modules/global/window.js\");\n/* harmony import */ var global_window__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(global_window__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar DEFAULT_LOCATION = \"http://example.com\";\nvar resolveUrl = function resolveUrl(baseUrl, relativeUrl) {\n    // return early if we don't need to resolve\n    if (/^[a-z]+:/i.test(relativeUrl)) {\n        return relativeUrl;\n    } // if baseUrl is a data URI, ignore it and resolve everything relative to window.location\n    if (/^data:/.test(baseUrl)) {\n        baseUrl = (global_window__WEBPACK_IMPORTED_MODULE_1___default().location) && (global_window__WEBPACK_IMPORTED_MODULE_1___default().location).href || \"\";\n    } // IE11 supports URL but not the URL constructor\n    // feature detect the behavior we want\n    var nativeURL = typeof (global_window__WEBPACK_IMPORTED_MODULE_1___default().URL) === \"function\";\n    var protocolLess = /^\\/\\//.test(baseUrl); // remove location if window.location isn't available (i.e. we're in node)\n    // and if baseUrl isn't an absolute url\n    var removeLocation = !(global_window__WEBPACK_IMPORTED_MODULE_1___default().location) && !/\\/\\//i.test(baseUrl); // if the base URL is relative then combine with the current location\n    if (nativeURL) {\n        baseUrl = new (global_window__WEBPACK_IMPORTED_MODULE_1___default().URL)(baseUrl, (global_window__WEBPACK_IMPORTED_MODULE_1___default().location) || DEFAULT_LOCATION);\n    } else if (!/\\/\\//i.test(baseUrl)) {\n        baseUrl = url_toolkit__WEBPACK_IMPORTED_MODULE_0___default().buildAbsoluteURL((global_window__WEBPACK_IMPORTED_MODULE_1___default().location) && (global_window__WEBPACK_IMPORTED_MODULE_1___default().location).href || \"\", baseUrl);\n    }\n    if (nativeURL) {\n        var newUrl = new URL(relativeUrl, baseUrl); // if we're a protocol-less url, remove the protocol\n        // and if we're location-less, remove the location\n        // otherwise, return the url unmodified\n        if (removeLocation) {\n            return newUrl.href.slice(DEFAULT_LOCATION.length);\n        } else if (protocolLess) {\n            return newUrl.href.slice(newUrl.protocol.length);\n        }\n        return newUrl.href;\n    }\n    return url_toolkit__WEBPACK_IMPORTED_MODULE_0___default().buildAbsoluteURL(baseUrl, relativeUrl);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (resolveUrl);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9yZXNvbHZlLXVybC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxQztBQUNGO0FBQ25DLElBQUlFLG1CQUFtQjtBQUV2QixJQUFJQyxhQUFhLFNBQVNBLFdBQVdDLE9BQU8sRUFBRUMsV0FBVztJQUN2RCwyQ0FBMkM7SUFDM0MsSUFBSSxZQUFZQyxJQUFJLENBQUNELGNBQWM7UUFDakMsT0FBT0E7SUFDVCxFQUFFLHlGQUF5RjtJQUczRixJQUFJLFNBQVNDLElBQUksQ0FBQ0YsVUFBVTtRQUMxQkEsVUFBVUgsK0RBQWUsSUFBSUEsK0RBQWUsQ0FBQ08sSUFBSSxJQUFJO0lBQ3ZELEVBQUUsZ0RBQWdEO0lBQ2xELHNDQUFzQztJQUd0QyxJQUFJQyxZQUFZLE9BQU9SLDBEQUFVLEtBQUs7SUFDdEMsSUFBSVUsZUFBZSxRQUFRTCxJQUFJLENBQUNGLFVBQVUsMEVBQTBFO0lBQ3BILHVDQUF1QztJQUV2QyxJQUFJUSxpQkFBaUIsQ0FBQ1gsK0RBQWUsSUFBSSxDQUFDLFFBQVFLLElBQUksQ0FBQ0YsVUFBVSxxRUFBcUU7SUFFdEksSUFBSUssV0FBVztRQUNiTCxVQUFVLElBQUlILDBEQUFVLENBQUNHLFNBQVNILCtEQUFlLElBQUlDO0lBQ3ZELE9BQU8sSUFBSSxDQUFDLFFBQVFJLElBQUksQ0FBQ0YsVUFBVTtRQUNqQ0EsVUFBVUosbUVBQTJCLENBQUNDLCtEQUFlLElBQUlBLCtEQUFlLENBQUNPLElBQUksSUFBSSxJQUFJSjtJQUN2RjtJQUVBLElBQUlLLFdBQVc7UUFDYixJQUFJSyxTQUFTLElBQUlKLElBQUlMLGFBQWFELFVBQVUsb0RBQW9EO1FBQ2hHLGtEQUFrRDtRQUNsRCx1Q0FBdUM7UUFFdkMsSUFBSVEsZ0JBQWdCO1lBQ2xCLE9BQU9FLE9BQU9OLElBQUksQ0FBQ08sS0FBSyxDQUFDYixpQkFBaUJjLE1BQU07UUFDbEQsT0FBTyxJQUFJTCxjQUFjO1lBQ3ZCLE9BQU9HLE9BQU9OLElBQUksQ0FBQ08sS0FBSyxDQUFDRCxPQUFPRyxRQUFRLENBQUNELE1BQU07UUFDakQ7UUFFQSxPQUFPRixPQUFPTixJQUFJO0lBQ3BCO0lBRUEsT0FBT1IsbUVBQTJCLENBQUNJLFNBQVNDO0FBQzlDO0FBRUEsaUVBQWVGLFVBQVVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icmVlemUtbmV4dC8uLi9ub2RlX21vZHVsZXMvQHZpZGVvanMvdmhzLXV0aWxzL2VzL3Jlc29sdmUtdXJsLmpzPzk4NTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVSTFRvb2xraXQgZnJvbSAndXJsLXRvb2xraXQnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICdnbG9iYWwvd2luZG93JztcbnZhciBERUZBVUxUX0xPQ0FUSU9OID0gJ2h0dHA6Ly9leGFtcGxlLmNvbSc7XG5cbnZhciByZXNvbHZlVXJsID0gZnVuY3Rpb24gcmVzb2x2ZVVybChiYXNlVXJsLCByZWxhdGl2ZVVybCkge1xuICAvLyByZXR1cm4gZWFybHkgaWYgd2UgZG9uJ3QgbmVlZCB0byByZXNvbHZlXG4gIGlmICgvXlthLXpdKzovaS50ZXN0KHJlbGF0aXZlVXJsKSkge1xuICAgIHJldHVybiByZWxhdGl2ZVVybDtcbiAgfSAvLyBpZiBiYXNlVXJsIGlzIGEgZGF0YSBVUkksIGlnbm9yZSBpdCBhbmQgcmVzb2x2ZSBldmVyeXRoaW5nIHJlbGF0aXZlIHRvIHdpbmRvdy5sb2NhdGlvblxuXG5cbiAgaWYgKC9eZGF0YTovLnRlc3QoYmFzZVVybCkpIHtcbiAgICBiYXNlVXJsID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5ocmVmIHx8ICcnO1xuICB9IC8vIElFMTEgc3VwcG9ydHMgVVJMIGJ1dCBub3QgdGhlIFVSTCBjb25zdHJ1Y3RvclxuICAvLyBmZWF0dXJlIGRldGVjdCB0aGUgYmVoYXZpb3Igd2Ugd2FudFxuXG5cbiAgdmFyIG5hdGl2ZVVSTCA9IHR5cGVvZiB3aW5kb3cuVVJMID09PSAnZnVuY3Rpb24nO1xuICB2YXIgcHJvdG9jb2xMZXNzID0gL15cXC9cXC8vLnRlc3QoYmFzZVVybCk7IC8vIHJlbW92ZSBsb2NhdGlvbiBpZiB3aW5kb3cubG9jYXRpb24gaXNuJ3QgYXZhaWxhYmxlIChpLmUuIHdlJ3JlIGluIG5vZGUpXG4gIC8vIGFuZCBpZiBiYXNlVXJsIGlzbid0IGFuIGFic29sdXRlIHVybFxuXG4gIHZhciByZW1vdmVMb2NhdGlvbiA9ICF3aW5kb3cubG9jYXRpb24gJiYgIS9cXC9cXC8vaS50ZXN0KGJhc2VVcmwpOyAvLyBpZiB0aGUgYmFzZSBVUkwgaXMgcmVsYXRpdmUgdGhlbiBjb21iaW5lIHdpdGggdGhlIGN1cnJlbnQgbG9jYXRpb25cblxuICBpZiAobmF0aXZlVVJMKSB7XG4gICAgYmFzZVVybCA9IG5ldyB3aW5kb3cuVVJMKGJhc2VVcmwsIHdpbmRvdy5sb2NhdGlvbiB8fCBERUZBVUxUX0xPQ0FUSU9OKTtcbiAgfSBlbHNlIGlmICghL1xcL1xcLy9pLnRlc3QoYmFzZVVybCkpIHtcbiAgICBiYXNlVXJsID0gVVJMVG9vbGtpdC5idWlsZEFic29sdXRlVVJMKHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiB8fCAnJywgYmFzZVVybCk7XG4gIH1cblxuICBpZiAobmF0aXZlVVJMKSB7XG4gICAgdmFyIG5ld1VybCA9IG5ldyBVUkwocmVsYXRpdmVVcmwsIGJhc2VVcmwpOyAvLyBpZiB3ZSdyZSBhIHByb3RvY29sLWxlc3MgdXJsLCByZW1vdmUgdGhlIHByb3RvY29sXG4gICAgLy8gYW5kIGlmIHdlJ3JlIGxvY2F0aW9uLWxlc3MsIHJlbW92ZSB0aGUgbG9jYXRpb25cbiAgICAvLyBvdGhlcndpc2UsIHJldHVybiB0aGUgdXJsIHVubW9kaWZpZWRcblxuICAgIGlmIChyZW1vdmVMb2NhdGlvbikge1xuICAgICAgcmV0dXJuIG5ld1VybC5ocmVmLnNsaWNlKERFRkFVTFRfTE9DQVRJT04ubGVuZ3RoKTtcbiAgICB9IGVsc2UgaWYgKHByb3RvY29sTGVzcykge1xuICAgICAgcmV0dXJuIG5ld1VybC5ocmVmLnNsaWNlKG5ld1VybC5wcm90b2NvbC5sZW5ndGgpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdVcmwuaHJlZjtcbiAgfVxuXG4gIHJldHVybiBVUkxUb29sa2l0LmJ1aWxkQWJzb2x1dGVVUkwoYmFzZVVybCwgcmVsYXRpdmVVcmwpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcmVzb2x2ZVVybDsiXSwibmFtZXMiOlsiVVJMVG9vbGtpdCIsIndpbmRvdyIsIkRFRkFVTFRfTE9DQVRJT04iLCJyZXNvbHZlVXJsIiwiYmFzZVVybCIsInJlbGF0aXZlVXJsIiwidGVzdCIsImxvY2F0aW9uIiwiaHJlZiIsIm5hdGl2ZVVSTCIsIlVSTCIsInByb3RvY29sTGVzcyIsInJlbW92ZUxvY2F0aW9uIiwiYnVpbGRBYnNvbHV0ZVVSTCIsIm5ld1VybCIsInNsaWNlIiwibGVuZ3RoIiwicHJvdG9jb2wiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/resolve-url.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/vhs-utils/es/stream.js":
/*!*******************************************************!*\
  !*** ../node_modules/@videojs/vhs-utils/es/stream.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Stream)\n/* harmony export */ });\n/**\n * @file stream.js\n */ /**\n * A lightweight readable stream implemention that handles event dispatching.\n *\n * @class Stream\n */ var Stream = /*#__PURE__*/ function() {\n    function Stream() {\n        this.listeners = {};\n    }\n    /**\n   * Add a listener for a specified event type.\n   *\n   * @param {string} type the event name\n   * @param {Function} listener the callback to be invoked when an event of\n   * the specified type occurs\n   */ var _proto = Stream.prototype;\n    _proto.on = function on(type, listener) {\n        if (!this.listeners[type]) {\n            this.listeners[type] = [];\n        }\n        this.listeners[type].push(listener);\n    } /**\n   * Remove a listener for a specified event type.\n   *\n   * @param {string} type the event name\n   * @param {Function} listener  a function previously registered for this\n   * type of event through `on`\n   * @return {boolean} if we could turn it off or not\n   */ ;\n    _proto.off = function off(type, listener) {\n        if (!this.listeners[type]) {\n            return false;\n        }\n        var index = this.listeners[type].indexOf(listener); // TODO: which is better?\n        // In Video.js we slice listener functions\n        // on trigger so that it does not mess up the order\n        // while we loop through.\n        //\n        // Here we slice on off so that the loop in trigger\n        // can continue using it's old reference to loop without\n        // messing up the order.\n        this.listeners[type] = this.listeners[type].slice(0);\n        this.listeners[type].splice(index, 1);\n        return index > -1;\n    } /**\n   * Trigger an event of the specified type on this stream. Any additional\n   * arguments to this function are passed as parameters to event listeners.\n   *\n   * @param {string} type the event name\n   */ ;\n    _proto.trigger = function trigger(type) {\n        var callbacks = this.listeners[type];\n        if (!callbacks) {\n            return;\n        } // Slicing the arguments on every invocation of this method\n        // can add a significant amount of overhead. Avoid the\n        // intermediate object creation for the common case of a\n        // single callback argument\n        if (arguments.length === 2) {\n            var length = callbacks.length;\n            for(var i = 0; i < length; ++i){\n                callbacks[i].call(this, arguments[1]);\n            }\n        } else {\n            var args = Array.prototype.slice.call(arguments, 1);\n            var _length = callbacks.length;\n            for(var _i = 0; _i < _length; ++_i){\n                callbacks[_i].apply(this, args);\n            }\n        }\n    } /**\n   * Destroys the stream and cleans up.\n   */ ;\n    _proto.dispose = function dispose() {\n        this.listeners = {};\n    } /**\n   * Forwards all `data` events on this stream to the destination stream. The\n   * destination stream should provide a method `push` to receive the data\n   * events as they arrive.\n   *\n   * @param {Stream} destination the stream that will receive all `data` events\n   * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n   */ ;\n    _proto.pipe = function pipe(destination) {\n        this.on(\"data\", function(data) {\n            destination.push(data);\n        });\n    };\n    return Stream;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9zdHJlYW0uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztDQUVDLEdBRUQ7Ozs7Q0FJQyxHQUNELElBQUlBLFNBQVMsV0FBVyxHQUFFO0lBQ3hCLFNBQVNBO1FBQ1AsSUFBSSxDQUFDQyxTQUFTLEdBQUcsQ0FBQztJQUNwQjtJQUNBOzs7Ozs7R0FNQyxHQUdELElBQUlDLFNBQVNGLE9BQU9HLFNBQVM7SUFFN0JELE9BQU9FLEVBQUUsR0FBRyxTQUFTQSxHQUFHQyxJQUFJLEVBQUVDLFFBQVE7UUFDcEMsSUFBSSxDQUFDLElBQUksQ0FBQ0wsU0FBUyxDQUFDSSxLQUFLLEVBQUU7WUFDekIsSUFBSSxDQUFDSixTQUFTLENBQUNJLEtBQUssR0FBRyxFQUFFO1FBQzNCO1FBRUEsSUFBSSxDQUFDSixTQUFTLENBQUNJLEtBQUssQ0FBQ0UsSUFBSSxDQUFDRDtJQUM1QixFQUNBOzs7Ozs7O0dBT0M7SUFHREosT0FBT00sR0FBRyxHQUFHLFNBQVNBLElBQUlILElBQUksRUFBRUMsUUFBUTtRQUN0QyxJQUFJLENBQUMsSUFBSSxDQUFDTCxTQUFTLENBQUNJLEtBQUssRUFBRTtZQUN6QixPQUFPO1FBQ1Q7UUFFQSxJQUFJSSxRQUFRLElBQUksQ0FBQ1IsU0FBUyxDQUFDSSxLQUFLLENBQUNLLE9BQU8sQ0FBQ0osV0FBVyx5QkFBeUI7UUFDN0UsMENBQTBDO1FBQzFDLG1EQUFtRDtRQUNuRCx5QkFBeUI7UUFDekIsRUFBRTtRQUNGLG1EQUFtRDtRQUNuRCx3REFBd0Q7UUFDeEQsd0JBQXdCO1FBRXhCLElBQUksQ0FBQ0wsU0FBUyxDQUFDSSxLQUFLLEdBQUcsSUFBSSxDQUFDSixTQUFTLENBQUNJLEtBQUssQ0FBQ00sS0FBSyxDQUFDO1FBQ2xELElBQUksQ0FBQ1YsU0FBUyxDQUFDSSxLQUFLLENBQUNPLE1BQU0sQ0FBQ0gsT0FBTztRQUNuQyxPQUFPQSxRQUFRLENBQUM7SUFDbEIsRUFDQTs7Ozs7R0FLQztJQUdEUCxPQUFPVyxPQUFPLEdBQUcsU0FBU0EsUUFBUVIsSUFBSTtRQUNwQyxJQUFJUyxZQUFZLElBQUksQ0FBQ2IsU0FBUyxDQUFDSSxLQUFLO1FBRXBDLElBQUksQ0FBQ1MsV0FBVztZQUNkO1FBQ0YsRUFBRSwyREFBMkQ7UUFDN0Qsc0RBQXNEO1FBQ3RELHdEQUF3RDtRQUN4RCwyQkFBMkI7UUFHM0IsSUFBSUMsVUFBVUMsTUFBTSxLQUFLLEdBQUc7WUFDMUIsSUFBSUEsU0FBU0YsVUFBVUUsTUFBTTtZQUU3QixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUQsUUFBUSxFQUFFQyxFQUFHO2dCQUMvQkgsU0FBUyxDQUFDRyxFQUFFLENBQUNDLElBQUksQ0FBQyxJQUFJLEVBQUVILFNBQVMsQ0FBQyxFQUFFO1lBQ3RDO1FBQ0YsT0FBTztZQUNMLElBQUlJLE9BQU9DLE1BQU1qQixTQUFTLENBQUNRLEtBQUssQ0FBQ08sSUFBSSxDQUFDSCxXQUFXO1lBQ2pELElBQUlNLFVBQVVQLFVBQVVFLE1BQU07WUFFOUIsSUFBSyxJQUFJTSxLQUFLLEdBQUdBLEtBQUtELFNBQVMsRUFBRUMsR0FBSTtnQkFDbkNSLFNBQVMsQ0FBQ1EsR0FBRyxDQUFDQyxLQUFLLENBQUMsSUFBSSxFQUFFSjtZQUM1QjtRQUNGO0lBQ0YsRUFDQTs7R0FFQztJQUdEakIsT0FBT3NCLE9BQU8sR0FBRyxTQUFTQTtRQUN4QixJQUFJLENBQUN2QixTQUFTLEdBQUcsQ0FBQztJQUNwQixFQUNBOzs7Ozs7O0dBT0M7SUFHREMsT0FBT3VCLElBQUksR0FBRyxTQUFTQSxLQUFLQyxXQUFXO1FBQ3JDLElBQUksQ0FBQ3RCLEVBQUUsQ0FBQyxRQUFRLFNBQVV1QixJQUFJO1lBQzVCRCxZQUFZbkIsSUFBSSxDQUFDb0I7UUFDbkI7SUFDRjtJQUVBLE9BQU8zQjtBQUNUO0FBRTZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJlZXplLW5leHQvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3Zocy11dGlscy9lcy9zdHJlYW0uanM/NzgxZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlIHN0cmVhbS5qc1xuICovXG5cbi8qKlxuICogQSBsaWdodHdlaWdodCByZWFkYWJsZSBzdHJlYW0gaW1wbGVtZW50aW9uIHRoYXQgaGFuZGxlcyBldmVudCBkaXNwYXRjaGluZy5cbiAqXG4gKiBAY2xhc3MgU3RyZWFtXG4gKi9cbnZhciBTdHJlYW0gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTdHJlYW0oKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSB7fTtcbiAgfVxuICAvKipcbiAgICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgc3BlY2lmaWVkIGV2ZW50IHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIHRoZSBldmVudCBuYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIHRoZSBjYWxsYmFjayB0byBiZSBpbnZva2VkIHdoZW4gYW4gZXZlbnQgb2ZcbiAgICogdGhlIHNwZWNpZmllZCB0eXBlIG9jY3Vyc1xuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBTdHJlYW0ucHJvdG90eXBlO1xuXG4gIF9wcm90by5vbiA9IGZ1bmN0aW9uIG9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVyc1t0eXBlXSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnNbdHlwZV0gPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLmxpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGEgbGlzdGVuZXIgZm9yIGEgc3BlY2lmaWVkIGV2ZW50IHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIHRoZSBldmVudCBuYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyICBhIGZ1bmN0aW9uIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBmb3IgdGhpc1xuICAgKiB0eXBlIG9mIGV2ZW50IHRocm91Z2ggYG9uYFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBpZiB3ZSBjb3VsZCB0dXJuIGl0IG9mZiBvciBub3RcbiAgICovXG4gIDtcblxuICBfcHJvdG8ub2ZmID0gZnVuY3Rpb24gb2ZmKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVyc1t0eXBlXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBpbmRleCA9IHRoaXMubGlzdGVuZXJzW3R5cGVdLmluZGV4T2YobGlzdGVuZXIpOyAvLyBUT0RPOiB3aGljaCBpcyBiZXR0ZXI/XG4gICAgLy8gSW4gVmlkZW8uanMgd2Ugc2xpY2UgbGlzdGVuZXIgZnVuY3Rpb25zXG4gICAgLy8gb24gdHJpZ2dlciBzbyB0aGF0IGl0IGRvZXMgbm90IG1lc3MgdXAgdGhlIG9yZGVyXG4gICAgLy8gd2hpbGUgd2UgbG9vcCB0aHJvdWdoLlxuICAgIC8vXG4gICAgLy8gSGVyZSB3ZSBzbGljZSBvbiBvZmYgc28gdGhhdCB0aGUgbG9vcCBpbiB0cmlnZ2VyXG4gICAgLy8gY2FuIGNvbnRpbnVlIHVzaW5nIGl0J3Mgb2xkIHJlZmVyZW5jZSB0byBsb29wIHdpdGhvdXRcbiAgICAvLyBtZXNzaW5nIHVwIHRoZSBvcmRlci5cblxuICAgIHRoaXMubGlzdGVuZXJzW3R5cGVdID0gdGhpcy5saXN0ZW5lcnNbdHlwZV0uc2xpY2UoMCk7XG4gICAgdGhpcy5saXN0ZW5lcnNbdHlwZV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICByZXR1cm4gaW5kZXggPiAtMTtcbiAgfVxuICAvKipcbiAgICogVHJpZ2dlciBhbiBldmVudCBvZiB0aGUgc3BlY2lmaWVkIHR5cGUgb24gdGhpcyBzdHJlYW0uIEFueSBhZGRpdGlvbmFsXG4gICAqIGFyZ3VtZW50cyB0byB0aGlzIGZ1bmN0aW9uIGFyZSBwYXNzZWQgYXMgcGFyYW1ldGVycyB0byBldmVudCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIHRoZSBldmVudCBuYW1lXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRyaWdnZXIgPSBmdW5jdGlvbiB0cmlnZ2VyKHR5cGUpIHtcbiAgICB2YXIgY2FsbGJhY2tzID0gdGhpcy5saXN0ZW5lcnNbdHlwZV07XG5cbiAgICBpZiAoIWNhbGxiYWNrcykge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gU2xpY2luZyB0aGUgYXJndW1lbnRzIG9uIGV2ZXJ5IGludm9jYXRpb24gb2YgdGhpcyBtZXRob2RcbiAgICAvLyBjYW4gYWRkIGEgc2lnbmlmaWNhbnQgYW1vdW50IG9mIG92ZXJoZWFkLiBBdm9pZCB0aGVcbiAgICAvLyBpbnRlcm1lZGlhdGUgb2JqZWN0IGNyZWF0aW9uIGZvciB0aGUgY29tbW9uIGNhc2Ugb2YgYVxuICAgIC8vIHNpbmdsZSBjYWxsYmFjayBhcmd1bWVudFxuXG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgdmFyIGxlbmd0aCA9IGNhbGxiYWNrcy5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY2FsbGJhY2tzW2ldLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgdmFyIF9sZW5ndGggPSBjYWxsYmFja3MubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgX2xlbmd0aDsgKytfaSkge1xuICAgICAgICBjYWxsYmFja3NbX2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIHN0cmVhbSBhbmQgY2xlYW5zIHVwLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICB9XG4gIC8qKlxuICAgKiBGb3J3YXJkcyBhbGwgYGRhdGFgIGV2ZW50cyBvbiB0aGlzIHN0cmVhbSB0byB0aGUgZGVzdGluYXRpb24gc3RyZWFtLiBUaGVcbiAgICogZGVzdGluYXRpb24gc3RyZWFtIHNob3VsZCBwcm92aWRlIGEgbWV0aG9kIGBwdXNoYCB0byByZWNlaXZlIHRoZSBkYXRhXG4gICAqIGV2ZW50cyBhcyB0aGV5IGFycml2ZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJlYW19IGRlc3RpbmF0aW9uIHRoZSBzdHJlYW0gdGhhdCB3aWxsIHJlY2VpdmUgYWxsIGBkYXRhYCBldmVudHNcbiAgICogQHNlZSBodHRwOi8vbm9kZWpzLm9yZy9hcGkvc3RyZWFtLmh0bWwjc3RyZWFtX3JlYWRhYmxlX3BpcGVfZGVzdGluYXRpb25fb3B0aW9uc1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5waXBlID0gZnVuY3Rpb24gcGlwZShkZXN0aW5hdGlvbikge1xuICAgIHRoaXMub24oJ2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgZGVzdGluYXRpb24ucHVzaChkYXRhKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gU3RyZWFtO1xufSgpO1xuXG5leHBvcnQgeyBTdHJlYW0gYXMgZGVmYXVsdCB9OyJdLCJuYW1lcyI6WyJTdHJlYW0iLCJsaXN0ZW5lcnMiLCJfcHJvdG8iLCJwcm90b3R5cGUiLCJvbiIsInR5cGUiLCJsaXN0ZW5lciIsInB1c2giLCJvZmYiLCJpbmRleCIsImluZGV4T2YiLCJzbGljZSIsInNwbGljZSIsInRyaWdnZXIiLCJjYWxsYmFja3MiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJpIiwiY2FsbCIsImFyZ3MiLCJBcnJheSIsIl9sZW5ndGgiLCJfaSIsImFwcGx5IiwiZGlzcG9zZSIsInBpcGUiLCJkZXN0aW5hdGlvbiIsImRhdGEiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/vhs-utils/es/stream.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/xhr/lib/http-handler.js":
/*!********************************************************!*\
  !*** ../node_modules/@videojs/xhr/lib/http-handler.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar window = __webpack_require__(/*! global/window */ \"(ssr)/../node_modules/global/window.js\");\nvar httpResponseHandler = function httpResponseHandler(callback, decodeResponseBody) {\n    if (decodeResponseBody === void 0) {\n        decodeResponseBody = false;\n    }\n    return function(err, response, responseBody) {\n        // if the XHR failed, return that error\n        if (err) {\n            callback(err);\n            return;\n        } // if the HTTP status code is 4xx or 5xx, the request also failed\n        if (response.statusCode >= 400 && response.statusCode <= 599) {\n            var cause = responseBody;\n            if (decodeResponseBody) {\n                if (window.TextDecoder) {\n                    var charset = getCharset(response.headers && response.headers[\"content-type\"]);\n                    try {\n                        cause = new TextDecoder(charset).decode(responseBody);\n                    } catch (e) {}\n                } else {\n                    cause = String.fromCharCode.apply(null, new Uint8Array(responseBody));\n                }\n            }\n            callback({\n                cause: cause\n            });\n            return;\n        } // otherwise, request succeeded\n        callback(null, responseBody);\n    };\n};\nfunction getCharset(contentTypeHeader) {\n    if (contentTypeHeader === void 0) {\n        contentTypeHeader = \"\";\n    }\n    return contentTypeHeader.toLowerCase().split(\";\").reduce(function(charset, contentType) {\n        var _contentType$split = contentType.split(\"=\"), type = _contentType$split[0], value = _contentType$split[1];\n        if (type.trim() === \"charset\") {\n            return value.trim();\n        }\n        return charset;\n    }, \"utf-8\");\n}\nmodule.exports = httpResponseHandler;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3hoci9saWIvaHR0cC1oYW5kbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBRWIsSUFBSUEsU0FBU0MsbUJBQU9BLENBQUM7QUFFckIsSUFBSUMsc0JBQXNCLFNBQVNBLG9CQUFvQkMsUUFBUSxFQUFFQyxrQkFBa0I7SUFDakYsSUFBSUEsdUJBQXVCLEtBQUssR0FBRztRQUNqQ0EscUJBQXFCO0lBQ3ZCO0lBRUEsT0FBTyxTQUFVQyxHQUFHLEVBQUVDLFFBQVEsRUFBRUMsWUFBWTtRQUMxQyx1Q0FBdUM7UUFDdkMsSUFBSUYsS0FBSztZQUNQRixTQUFTRTtZQUNUO1FBQ0YsRUFBRSxpRUFBaUU7UUFHbkUsSUFBSUMsU0FBU0UsVUFBVSxJQUFJLE9BQU9GLFNBQVNFLFVBQVUsSUFBSSxLQUFLO1lBQzVELElBQUlDLFFBQVFGO1lBRVosSUFBSUgsb0JBQW9CO2dCQUN0QixJQUFJSixPQUFPVSxXQUFXLEVBQUU7b0JBQ3RCLElBQUlDLFVBQVVDLFdBQVdOLFNBQVNPLE9BQU8sSUFBSVAsU0FBU08sT0FBTyxDQUFDLGVBQWU7b0JBRTdFLElBQUk7d0JBQ0ZKLFFBQVEsSUFBSUMsWUFBWUMsU0FBU0csTUFBTSxDQUFDUDtvQkFDMUMsRUFBRSxPQUFPUSxHQUFHLENBQUM7Z0JBQ2YsT0FBTztvQkFDTE4sUUFBUU8sT0FBT0MsWUFBWSxDQUFDQyxLQUFLLENBQUMsTUFBTSxJQUFJQyxXQUFXWjtnQkFDekQ7WUFDRjtZQUVBSixTQUFTO2dCQUNQTSxPQUFPQTtZQUNUO1lBQ0E7UUFDRixFQUFFLCtCQUErQjtRQUdqQ04sU0FBUyxNQUFNSTtJQUNqQjtBQUNGO0FBRUEsU0FBU0ssV0FBV1EsaUJBQWlCO0lBQ25DLElBQUlBLHNCQUFzQixLQUFLLEdBQUc7UUFDaENBLG9CQUFvQjtJQUN0QjtJQUVBLE9BQU9BLGtCQUFrQkMsV0FBVyxHQUFHQyxLQUFLLENBQUMsS0FBS0MsTUFBTSxDQUFDLFNBQVVaLE9BQU8sRUFBRWEsV0FBVztRQUNyRixJQUFJQyxxQkFBcUJELFlBQVlGLEtBQUssQ0FBQyxNQUN2Q0ksT0FBT0Qsa0JBQWtCLENBQUMsRUFBRSxFQUM1QkUsUUFBUUYsa0JBQWtCLENBQUMsRUFBRTtRQUVqQyxJQUFJQyxLQUFLRSxJQUFJLE9BQU8sV0FBVztZQUM3QixPQUFPRCxNQUFNQyxJQUFJO1FBQ25CO1FBRUEsT0FBT2pCO0lBQ1QsR0FBRztBQUNMO0FBRUFrQixPQUFPQyxPQUFPLEdBQUc1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2JyZWV6ZS1uZXh0Ly4uL25vZGVfbW9kdWxlcy9AdmlkZW9qcy94aHIvbGliL2h0dHAtaGFuZGxlci5qcz9mZDRkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgd2luZG93ID0gcmVxdWlyZSgnZ2xvYmFsL3dpbmRvdycpO1xuXG52YXIgaHR0cFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIGh0dHBSZXNwb25zZUhhbmRsZXIoY2FsbGJhY2ssIGRlY29kZVJlc3BvbnNlQm9keSkge1xuICBpZiAoZGVjb2RlUmVzcG9uc2VCb2R5ID09PSB2b2lkIDApIHtcbiAgICBkZWNvZGVSZXNwb25zZUJvZHkgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoZXJyLCByZXNwb25zZSwgcmVzcG9uc2VCb2R5KSB7XG4gICAgLy8gaWYgdGhlIFhIUiBmYWlsZWQsIHJldHVybiB0aGF0IGVycm9yXG4gICAgaWYgKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGlmIHRoZSBIVFRQIHN0YXR1cyBjb2RlIGlzIDR4eCBvciA1eHgsIHRoZSByZXF1ZXN0IGFsc28gZmFpbGVkXG5cblxuICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID49IDQwMCAmJiByZXNwb25zZS5zdGF0dXNDb2RlIDw9IDU5OSkge1xuICAgICAgdmFyIGNhdXNlID0gcmVzcG9uc2VCb2R5O1xuXG4gICAgICBpZiAoZGVjb2RlUmVzcG9uc2VCb2R5KSB7XG4gICAgICAgIGlmICh3aW5kb3cuVGV4dERlY29kZXIpIHtcbiAgICAgICAgICB2YXIgY2hhcnNldCA9IGdldENoYXJzZXQocmVzcG9uc2UuaGVhZGVycyAmJiByZXNwb25zZS5oZWFkZXJzWydjb250ZW50LXR5cGUnXSk7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2F1c2UgPSBuZXcgVGV4dERlY29kZXIoY2hhcnNldCkuZGVjb2RlKHJlc3BvbnNlQm9keSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYXVzZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkocmVzcG9uc2VCb2R5KSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2soe1xuICAgICAgICBjYXVzZTogY2F1c2VcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gb3RoZXJ3aXNlLCByZXF1ZXN0IHN1Y2NlZWRlZFxuXG5cbiAgICBjYWxsYmFjayhudWxsLCByZXNwb25zZUJvZHkpO1xuICB9O1xufTtcblxuZnVuY3Rpb24gZ2V0Q2hhcnNldChjb250ZW50VHlwZUhlYWRlcikge1xuICBpZiAoY29udGVudFR5cGVIZWFkZXIgPT09IHZvaWQgMCkge1xuICAgIGNvbnRlbnRUeXBlSGVhZGVyID0gJyc7XG4gIH1cblxuICByZXR1cm4gY29udGVudFR5cGVIZWFkZXIudG9Mb3dlckNhc2UoKS5zcGxpdCgnOycpLnJlZHVjZShmdW5jdGlvbiAoY2hhcnNldCwgY29udGVudFR5cGUpIHtcbiAgICB2YXIgX2NvbnRlbnRUeXBlJHNwbGl0ID0gY29udGVudFR5cGUuc3BsaXQoJz0nKSxcbiAgICAgICAgdHlwZSA9IF9jb250ZW50VHlwZSRzcGxpdFswXSxcbiAgICAgICAgdmFsdWUgPSBfY29udGVudFR5cGUkc3BsaXRbMV07XG5cbiAgICBpZiAodHlwZS50cmltKCkgPT09ICdjaGFyc2V0Jykge1xuICAgICAgcmV0dXJuIHZhbHVlLnRyaW0oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hhcnNldDtcbiAgfSwgJ3V0Zi04Jyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaHR0cFJlc3BvbnNlSGFuZGxlcjsiXSwibmFtZXMiOlsid2luZG93IiwicmVxdWlyZSIsImh0dHBSZXNwb25zZUhhbmRsZXIiLCJjYWxsYmFjayIsImRlY29kZVJlc3BvbnNlQm9keSIsImVyciIsInJlc3BvbnNlIiwicmVzcG9uc2VCb2R5Iiwic3RhdHVzQ29kZSIsImNhdXNlIiwiVGV4dERlY29kZXIiLCJjaGFyc2V0IiwiZ2V0Q2hhcnNldCIsImhlYWRlcnMiLCJkZWNvZGUiLCJlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYXBwbHkiLCJVaW50OEFycmF5IiwiY29udGVudFR5cGVIZWFkZXIiLCJ0b0xvd2VyQ2FzZSIsInNwbGl0IiwicmVkdWNlIiwiY29udGVudFR5cGUiLCJfY29udGVudFR5cGUkc3BsaXQiLCJ0eXBlIiwidmFsdWUiLCJ0cmltIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/xhr/lib/http-handler.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@videojs/xhr/lib/index.js":
/*!*************************************************!*\
  !*** ../node_modules/@videojs/xhr/lib/index.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar window = __webpack_require__(/*! global/window */ \"(ssr)/../node_modules/global/window.js\");\nvar _extends = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"(ssr)/../node_modules/@babel/runtime/helpers/extends.js\");\nvar isFunction = __webpack_require__(/*! is-function */ \"(ssr)/../node_modules/is-function/index.js\");\ncreateXHR.httpHandler = __webpack_require__(/*! ./http-handler.js */ \"(ssr)/../node_modules/@videojs/xhr/lib/http-handler.js\");\n/**\n * @license\n * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>\n * Copyright (c) 2014 David Bjrklund\n * Available under the MIT license\n * <https://github.com/kesla/parse-headers/blob/master/LICENCE>\n */ var parseHeaders = function parseHeaders(headers) {\n    var result = {};\n    if (!headers) {\n        return result;\n    }\n    headers.trim().split(\"\\n\").forEach(function(row) {\n        var index = row.indexOf(\":\");\n        var key = row.slice(0, index).trim().toLowerCase();\n        var value = row.slice(index + 1).trim();\n        if (typeof result[key] === \"undefined\") {\n            result[key] = value;\n        } else if (Array.isArray(result[key])) {\n            result[key].push(value);\n        } else {\n            result[key] = [\n                result[key],\n                value\n            ];\n        }\n    });\n    return result;\n};\nmodule.exports = createXHR; // Allow use of default import syntax in TypeScript\nmodule.exports[\"default\"] = createXHR;\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop;\ncreateXHR.XDomainRequest = \"withCredentials\" in new createXHR.XMLHttpRequest() ? createXHR.XMLHttpRequest : window.XDomainRequest;\nforEachArray([\n    \"get\",\n    \"put\",\n    \"post\",\n    \"patch\",\n    \"head\",\n    \"delete\"\n], function(method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n        options = initParams(uri, options, callback);\n        options.method = method.toUpperCase();\n        return _createXHR(options);\n    };\n});\nfunction forEachArray(array, iterator) {\n    for(var i = 0; i < array.length; i++){\n        iterator(array[i]);\n    }\n}\nfunction isEmpty(obj) {\n    for(var i in obj){\n        if (obj.hasOwnProperty(i)) return false;\n    }\n    return true;\n}\nfunction initParams(uri, options, callback) {\n    var params = uri;\n    if (isFunction(options)) {\n        callback = options;\n        if (typeof uri === \"string\") {\n            params = {\n                uri: uri\n            };\n        }\n    } else {\n        params = _extends({}, options, {\n            uri: uri\n        });\n    }\n    params.callback = callback;\n    return params;\n}\nfunction createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback);\n    return _createXHR(options);\n}\nfunction _createXHR(options) {\n    if (typeof options.callback === \"undefined\") {\n        throw new Error(\"callback argument missing\");\n    }\n    var called = false;\n    var callback = function cbOnce(err, response, body) {\n        if (!called) {\n            called = true;\n            options.callback(err, response, body);\n        }\n    };\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            setTimeout(loadFunc, 0);\n        }\n    }\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined;\n        if (xhr.response) {\n            body = xhr.response;\n        } else {\n            body = xhr.responseText || getXml(xhr);\n        }\n        if (isJson) {\n            try {\n                body = JSON.parse(body);\n            } catch (e) {}\n        }\n        return body;\n    }\n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer);\n        if (!(evt instanceof Error)) {\n            evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\"));\n        }\n        evt.statusCode = 0;\n        return callback(evt, failureResponse);\n    } // will load the data & process the response in a special response object\n    function loadFunc() {\n        if (aborted) return;\n        var status;\n        clearTimeout(timeoutTimer);\n        if (options.useXDR && xhr.status === undefined) {\n            //IE8 CORS GET successful response doesn't have a status field, but body is fine\n            status = 200;\n        } else {\n            status = xhr.status === 1223 ? 204 : xhr.status;\n        }\n        var response = failureResponse;\n        var err = null;\n        if (status !== 0) {\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            };\n            if (xhr.getAllResponseHeaders) {\n                //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders());\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\");\n        }\n        return callback(err, response, response.body);\n    }\n    var xhr = options.xhr || null;\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new createXHR.XDomainRequest();\n        } else {\n            xhr = new createXHR.XMLHttpRequest();\n        }\n    }\n    var key;\n    var aborted;\n    var uri = xhr.url = options.uri || options.url;\n    var method = xhr.method = options.method || \"GET\";\n    var body = options.body || options.data;\n    var headers = xhr.headers = options.headers || {};\n    var sync = !!options.sync;\n    var isJson = false;\n    var timeoutTimer;\n    var failureResponse = {\n        body: undefined,\n        headers: {},\n        statusCode: 0,\n        method: method,\n        url: uri,\n        rawRequest: xhr\n    };\n    if (\"json\" in options && options.json !== false) {\n        isJson = true;\n        headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\"); //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\"); //Don't override existing accept header declared by user\n            body = JSON.stringify(options.json === true ? body : options.json);\n        }\n    }\n    xhr.onreadystatechange = readystatechange;\n    xhr.onload = loadFunc;\n    xhr.onerror = errorFunc; // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function() {};\n    xhr.onabort = function() {\n        aborted = true;\n    };\n    xhr.ontimeout = errorFunc;\n    xhr.open(method, uri, !sync, options.username, options.password); //has to be after open\n    if (!sync) {\n        xhr.withCredentials = !!options.withCredentials;\n    } // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0) {\n        timeoutTimer = setTimeout(function() {\n            if (aborted) return;\n            aborted = true; //IE9 may still call readystatechange\n            xhr.abort(\"timeout\");\n            var e = new Error(\"XMLHttpRequest timeout\");\n            e.code = \"ETIMEDOUT\";\n            errorFunc(e);\n        }, options.timeout);\n    }\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if (headers.hasOwnProperty(key)) {\n                xhr.setRequestHeader(key, headers[key]);\n            }\n        }\n    } else if (options.headers && !isEmpty(options.headers)) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\");\n    }\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType;\n    }\n    if (\"beforeSend\" in options && typeof options.beforeSend === \"function\") {\n        options.beforeSend(xhr);\n    } // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n    xhr.send(body || null);\n    return xhr;\n}\nfunction getXml(xhr) {\n    // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n    // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n    try {\n        if (xhr.responseType === \"document\") {\n            return xhr.responseXML;\n        }\n        var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\";\n        if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n            return xhr.responseXML;\n        }\n    } catch (e) {}\n    return null;\n}\nfunction noop() {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3hoci9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFFYixJQUFJQSxTQUFTQyxtQkFBT0EsQ0FBQyw2REFBZTtBQUVwQyxJQUFJQyxXQUFXRCxtQkFBT0EsQ0FBQywrRkFBZ0M7QUFFdkQsSUFBSUUsYUFBYUYsbUJBQU9BLENBQUM7QUFFekJHLFVBQVVDLFdBQVcsR0FBR0osbUJBQU9BLENBQUM7QUFDaEM7Ozs7OztDQU1DLEdBRUQsSUFBSUssZUFBZSxTQUFTQSxhQUFhQyxPQUFPO0lBQzlDLElBQUlDLFNBQVMsQ0FBQztJQUVkLElBQUksQ0FBQ0QsU0FBUztRQUNaLE9BQU9DO0lBQ1Q7SUFFQUQsUUFBUUUsSUFBSSxHQUFHQyxLQUFLLENBQUMsTUFBTUMsT0FBTyxDQUFDLFNBQVVDLEdBQUc7UUFDOUMsSUFBSUMsUUFBUUQsSUFBSUUsT0FBTyxDQUFDO1FBQ3hCLElBQUlDLE1BQU1ILElBQUlJLEtBQUssQ0FBQyxHQUFHSCxPQUFPSixJQUFJLEdBQUdRLFdBQVc7UUFDaEQsSUFBSUMsUUFBUU4sSUFBSUksS0FBSyxDQUFDSCxRQUFRLEdBQUdKLElBQUk7UUFFckMsSUFBSSxPQUFPRCxNQUFNLENBQUNPLElBQUksS0FBSyxhQUFhO1lBQ3RDUCxNQUFNLENBQUNPLElBQUksR0FBR0c7UUFDaEIsT0FBTyxJQUFJQyxNQUFNQyxPQUFPLENBQUNaLE1BQU0sQ0FBQ08sSUFBSSxHQUFHO1lBQ3JDUCxNQUFNLENBQUNPLElBQUksQ0FBQ00sSUFBSSxDQUFDSDtRQUNuQixPQUFPO1lBQ0xWLE1BQU0sQ0FBQ08sSUFBSSxHQUFHO2dCQUFDUCxNQUFNLENBQUNPLElBQUk7Z0JBQUVHO2FBQU07UUFDcEM7SUFDRjtJQUNBLE9BQU9WO0FBQ1Q7QUFFQWMsT0FBT0MsT0FBTyxHQUFHbkIsV0FBVyxtREFBbUQ7QUFFL0VrQix5QkFBc0IsR0FBR2xCO0FBQ3pCQSxVQUFVcUIsY0FBYyxHQUFHekIsT0FBT3lCLGNB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SUFBSTlDLElBQUk4QyxXQUFXLENBQUNFLGVBQWUsQ0FBQ0MsUUFBUSxLQUFLO1FBRTVGLElBQUlqRCxJQUFJMkMsWUFBWSxLQUFLLE1BQU0sQ0FBQ0ksdUJBQXVCO1lBQ3JELE9BQU8vQyxJQUFJOEMsV0FBVztRQUN4QjtJQUNGLEVBQUUsT0FBT25DLEdBQUcsQ0FBQztJQUViLE9BQU87QUFDVDtBQUVBLFNBQVNwQyxRQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJlZXplLW5leHQvLi4vbm9kZV9tb2R1bGVzL0B2aWRlb2pzL3hoci9saWIvaW5kZXguanM/YmM4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIHdpbmRvdyA9IHJlcXVpcmUoXCJnbG9iYWwvd2luZG93XCIpO1xuXG52YXIgX2V4dGVuZHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzXCIpO1xuXG52YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJ2lzLWZ1bmN0aW9uJyk7XG5cbmNyZWF0ZVhIUi5odHRwSGFuZGxlciA9IHJlcXVpcmUoJy4vaHR0cC1oYW5kbGVyLmpzJyk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBzbGlnaGx5IG1vZGlmaWVkIHBhcnNlLWhlYWRlcnMgMi4wLjIgPGh0dHBzOi8vZ2l0aHViLmNvbS9rZXNsYS9wYXJzZS1oZWFkZXJzLz5cbiAqIENvcHlyaWdodCAoYykgMjAxNCBEYXZpZCBCasO2cmtsdW5kXG4gKiBBdmFpbGFibGUgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiA8aHR0cHM6Ly9naXRodWIuY29tL2tlc2xhL3BhcnNlLWhlYWRlcnMvYmxvYi9tYXN0ZXIvTElDRU5DRT5cbiAqL1xuXG52YXIgcGFyc2VIZWFkZXJzID0gZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGlmICghaGVhZGVycykge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBoZWFkZXJzLnRyaW0oKS5zcGxpdCgnXFxuJykuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgdmFyIGluZGV4ID0gcm93LmluZGV4T2YoJzonKTtcbiAgICB2YXIga2V5ID0gcm93LnNsaWNlKDAsIGluZGV4KS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgdmFsdWUgPSByb3cuc2xpY2UoaW5kZXggKyAxKS50cmltKCk7XG5cbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0W2tleV0pKSB7XG4gICAgICByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSBbcmVzdWx0W2tleV0sIHZhbHVlXTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVYSFI7IC8vIEFsbG93IHVzZSBvZiBkZWZhdWx0IGltcG9ydCBzeW50YXggaW4gVHlwZVNjcmlwdFxuXG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlWEhSO1xuY3JlYXRlWEhSLlhNTEh0dHBSZXF1ZXN0ID0gd2luZG93LlhNTEh0dHBSZXF1ZXN0IHx8IG5vb3A7XG5jcmVhdGVYSFIuWERvbWFpblJlcXVlc3QgPSBcIndpdGhDcmVkZW50aWFsc1wiIGluIG5ldyBjcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3QoKSA/IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCA6IHdpbmRvdy5YRG9tYWluUmVxdWVzdDtcbmZvckVhY2hBcnJheShbXCJnZXRcIiwgXCJwdXRcIiwgXCJwb3N0XCIsIFwicGF0Y2hcIiwgXCJoZWFkXCIsIFwiZGVsZXRlXCJdLCBmdW5jdGlvbiAobWV0aG9kKSB7XG4gIGNyZWF0ZVhIUlttZXRob2QgPT09IFwiZGVsZXRlXCIgPyBcImRlbFwiIDogbWV0aG9kXSA9IGZ1bmN0aW9uICh1cmksIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgb3B0aW9ucyA9IGluaXRQYXJhbXModXJpLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgb3B0aW9ucy5tZXRob2QgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICByZXR1cm4gX2NyZWF0ZVhIUihvcHRpb25zKTtcbiAgfTtcbn0pO1xuXG5mdW5jdGlvbiBmb3JFYWNoQXJyYXkoYXJyYXksIGl0ZXJhdG9yKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBpdGVyYXRvcihhcnJheVtpXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNFbXB0eShvYmopIHtcbiAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaW5pdFBhcmFtcyh1cmksIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIHZhciBwYXJhbXMgPSB1cmk7XG5cbiAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG5cbiAgICBpZiAodHlwZW9mIHVyaSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcGFyYW1zID0ge1xuICAgICAgICB1cmk6IHVyaVxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGFyYW1zID0gX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICAgIHVyaTogdXJpXG4gICAgfSk7XG4gIH1cblxuICBwYXJhbXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgcmV0dXJuIHBhcmFtcztcbn1cblxuZnVuY3Rpb24gY3JlYXRlWEhSKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgb3B0aW9ucyA9IGluaXRQYXJhbXModXJpLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gIHJldHVybiBfY3JlYXRlWEhSKG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBfY3JlYXRlWEhSKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY2FsbGJhY2sgYXJndW1lbnQgbWlzc2luZ1wiKTtcbiAgfVxuXG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcblxuICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYk9uY2UoZXJyLCByZXNwb25zZSwgYm9keSkge1xuICAgIGlmICghY2FsbGVkKSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgb3B0aW9ucy5jYWxsYmFjayhlcnIsIHJlc3BvbnNlLCBib2R5KTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVhZHlzdGF0ZWNoYW5nZSgpIHtcbiAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgIHNldFRpbWVvdXQobG9hZEZ1bmMsIDApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJvZHkoKSB7XG4gICAgLy8gQ2hyb21lIHdpdGggcmVxdWVzdFR5cGU9YmxvYiB0aHJvd3MgZXJyb3JzIGFycm91bmQgd2hlbiBldmVuIHRlc3RpbmcgYWNjZXNzIHRvIHJlc3BvbnNlVGV4dFxuICAgIHZhciBib2R5ID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKHhoci5yZXNwb25zZSkge1xuICAgICAgYm9keSA9IHhoci5yZXNwb25zZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYm9keSA9IHhoci5yZXNwb25zZVRleHQgfHwgZ2V0WG1sKHhocik7XG4gICAgfVxuXG4gICAgaWYgKGlzSnNvbikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cblxuICAgIHJldHVybiBib2R5O1xuICB9XG5cbiAgZnVuY3Rpb24gZXJyb3JGdW5jKGV2dCkge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0VGltZXIpO1xuXG4gICAgaWYgKCEoZXZ0IGluc3RhbmNlb2YgRXJyb3IpKSB7XG4gICAgICBldnQgPSBuZXcgRXJyb3IoXCJcIiArIChldnQgfHwgXCJVbmtub3duIFhNTEh0dHBSZXF1ZXN0IEVycm9yXCIpKTtcbiAgICB9XG5cbiAgICBldnQuc3RhdHVzQ29kZSA9IDA7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGV2dCwgZmFpbHVyZVJlc3BvbnNlKTtcbiAgfSAvLyB3aWxsIGxvYWQgdGhlIGRhdGEgJiBwcm9jZXNzIHRoZSByZXNwb25zZSBpbiBhIHNwZWNpYWwgcmVzcG9uc2Ugb2JqZWN0XG5cblxuICBmdW5jdGlvbiBsb2FkRnVuYygpIHtcbiAgICBpZiAoYWJvcnRlZCkgcmV0dXJuO1xuICAgIHZhciBzdGF0dXM7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRUaW1lcik7XG5cbiAgICBpZiAob3B0aW9ucy51c2VYRFIgJiYgeGhyLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvL0lFOCBDT1JTIEdFVCBzdWNjZXNzZnVsIHJlc3BvbnNlIGRvZXNuJ3QgaGF2ZSBhIHN0YXR1cyBmaWVsZCwgYnV0IGJvZHkgaXMgZmluZVxuICAgICAgc3RhdHVzID0gMjAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0dXMgPSB4aHIuc3RhdHVzID09PSAxMjIzID8gMjA0IDogeGhyLnN0YXR1cztcbiAgICB9XG5cbiAgICB2YXIgcmVzcG9uc2UgPSBmYWlsdXJlUmVzcG9uc2U7XG4gICAgdmFyIGVyciA9IG51bGw7XG5cbiAgICBpZiAoc3RhdHVzICE9PSAwKSB7XG4gICAgICByZXNwb25zZSA9IHtcbiAgICAgICAgYm9keTogZ2V0Qm9keSgpLFxuICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXMsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgdXJsOiB1cmksXG4gICAgICAgIHJhd1JlcXVlc3Q6IHhoclxuICAgICAgfTtcblxuICAgICAgaWYgKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMpIHtcbiAgICAgICAgLy9yZW1lbWJlciB4aHIgY2FuIGluIGZhY3QgYmUgWERSIGZvciBDT1JTIGluIElFXG4gICAgICAgIHJlc3BvbnNlLmhlYWRlcnMgPSBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZXJyID0gbmV3IEVycm9yKFwiSW50ZXJuYWwgWE1MSHR0cFJlcXVlc3QgRXJyb3JcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgcmVzcG9uc2UsIHJlc3BvbnNlLmJvZHkpO1xuICB9XG5cbiAgdmFyIHhociA9IG9wdGlvbnMueGhyIHx8IG51bGw7XG5cbiAgaWYgKCF4aHIpIHtcbiAgICBpZiAob3B0aW9ucy5jb3JzIHx8IG9wdGlvbnMudXNlWERSKSB7XG4gICAgICB4aHIgPSBuZXcgY3JlYXRlWEhSLlhEb21haW5SZXF1ZXN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHhociA9IG5ldyBjcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB9XG4gIH1cblxuICB2YXIga2V5O1xuICB2YXIgYWJvcnRlZDtcbiAgdmFyIHVyaSA9IHhoci51cmwgPSBvcHRpb25zLnVyaSB8fCBvcHRpb25zLnVybDtcbiAgdmFyIG1ldGhvZCA9IHhoci5tZXRob2QgPSBvcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiO1xuICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keSB8fCBvcHRpb25zLmRhdGE7XG4gIHZhciBoZWFkZXJzID0geGhyLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge307XG4gIHZhciBzeW5jID0gISFvcHRpb25zLnN5bmM7XG4gIHZhciBpc0pzb24gPSBmYWxzZTtcbiAgdmFyIHRpbWVvdXRUaW1lcjtcbiAgdmFyIGZhaWx1cmVSZXNwb25zZSA9IHtcbiAgICBib2R5OiB1bmRlZmluZWQsXG4gICAgaGVhZGVyczoge30sXG4gICAgc3RhdHVzQ29kZTogMCxcbiAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICB1cmw6IHVyaSxcbiAgICByYXdSZXF1ZXN0OiB4aHJcbiAgfTtcblxuICBpZiAoXCJqc29uXCIgaW4gb3B0aW9ucyAmJiBvcHRpb25zLmpzb24gIT09IGZhbHNlKSB7XG4gICAgaXNKc29uID0gdHJ1ZTtcbiAgICBoZWFkZXJzW1wiYWNjZXB0XCJdIHx8IGhlYWRlcnNbXCJBY2NlcHRcIl0gfHwgKGhlYWRlcnNbXCJBY2NlcHRcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIik7IC8vRG9uJ3Qgb3ZlcnJpZGUgZXhpc3RpbmcgYWNjZXB0IGhlYWRlciBkZWNsYXJlZCBieSB1c2VyXG5cbiAgICBpZiAobWV0aG9kICE9PSBcIkdFVFwiICYmIG1ldGhvZCAhPT0gXCJIRUFEXCIpIHtcbiAgICAgIGhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl0gfHwgaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSB8fCAoaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiKTsgLy9Eb24ndCBvdmVycmlkZSBleGlzdGluZyBhY2NlcHQgaGVhZGVyIGRlY2xhcmVkIGJ5IHVzZXJcblxuICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuanNvbiA9PT0gdHJ1ZSA/IGJvZHkgOiBvcHRpb25zLmpzb24pO1xuICAgIH1cbiAgfVxuXG4gIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSByZWFkeXN0YXRlY2hhbmdlO1xuICB4aHIub25sb2FkID0gbG9hZEZ1bmM7XG4gIHhoci5vbmVycm9yID0gZXJyb3JGdW5jOyAvLyBJRTkgbXVzdCBoYXZlIG9ucHJvZ3Jlc3MgYmUgc2V0IHRvIGEgdW5pcXVlIGZ1bmN0aW9uLlxuXG4gIHhoci5vbnByb2dyZXNzID0gZnVuY3Rpb24gKCkgey8vIElFIG11c3QgZGllXG4gIH07XG5cbiAgeGhyLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgYWJvcnRlZCA9IHRydWU7XG4gIH07XG5cbiAgeGhyLm9udGltZW91dCA9IGVycm9yRnVuYztcbiAgeGhyLm9wZW4obWV0aG9kLCB1cmksICFzeW5jLCBvcHRpb25zLnVzZXJuYW1lLCBvcHRpb25zLnBhc3N3b3JkKTsgLy9oYXMgdG8gYmUgYWZ0ZXIgb3BlblxuXG4gIGlmICghc3luYykge1xuICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSAhIW9wdGlvbnMud2l0aENyZWRlbnRpYWxzO1xuICB9IC8vIENhbm5vdCBzZXQgdGltZW91dCB3aXRoIHN5bmMgcmVxdWVzdFxuICAvLyBub3Qgc2V0dGluZyB0aW1lb3V0IG9uIHRoZSB4aHIgb2JqZWN0LCBiZWNhdXNlIG9mIG9sZCB3ZWJraXRzIGV0Yy4gbm90IGhhbmRsaW5nIHRoYXQgY29ycmVjdGx5XG4gIC8vIGJvdGggbnBtJ3MgcmVxdWVzdCBhbmQganF1ZXJ5IDEueCB1c2UgdGhpcyBraW5kIG9mIHRpbWVvdXQsIHNvIHRoaXMgaXMgYmVpbmcgY29uc2lzdGVudFxuXG5cbiAgaWYgKCFzeW5jICYmIG9wdGlvbnMudGltZW91dCA+IDApIHtcbiAgICB0aW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChhYm9ydGVkKSByZXR1cm47XG4gICAgICBhYm9ydGVkID0gdHJ1ZTsgLy9JRTkgbWF5IHN0aWxsIGNhbGwgcmVhZHlzdGF0ZWNoYW5nZVxuXG4gICAgICB4aHIuYWJvcnQoXCJ0aW1lb3V0XCIpO1xuICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoXCJYTUxIdHRwUmVxdWVzdCB0aW1lb3V0XCIpO1xuICAgICAgZS5jb2RlID0gXCJFVElNRURPVVRcIjtcbiAgICAgIGVycm9yRnVuYyhlKTtcbiAgICB9LCBvcHRpb25zLnRpbWVvdXQpO1xuICB9XG5cbiAgaWYgKHhoci5zZXRSZXF1ZXN0SGVhZGVyKSB7XG4gICAgZm9yIChrZXkgaW4gaGVhZGVycykge1xuICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKG9wdGlvbnMuaGVhZGVycyAmJiAhaXNFbXB0eShvcHRpb25zLmhlYWRlcnMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSGVhZGVycyBjYW5ub3QgYmUgc2V0IG9uIGFuIFhEb21haW5SZXF1ZXN0IG9iamVjdFwiKTtcbiAgfVxuXG4gIGlmIChcInJlc3BvbnNlVHlwZVwiIGluIG9wdGlvbnMpIHtcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gb3B0aW9ucy5yZXNwb25zZVR5cGU7XG4gIH1cblxuICBpZiAoXCJiZWZvcmVTZW5kXCIgaW4gb3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5iZWZvcmVTZW5kID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBvcHRpb25zLmJlZm9yZVNlbmQoeGhyKTtcbiAgfSAvLyBNaWNyb3NvZnQgRWRnZSBicm93c2VyIHNlbmRzIFwidW5kZWZpbmVkXCIgd2hlbiBzZW5kIGlzIGNhbGxlZCB3aXRoIHVuZGVmaW5lZCB2YWx1ZS5cbiAgLy8gWE1MSHR0cFJlcXVlc3Qgc3BlYyBzYXlzIHRvIHBhc3MgbnVsbCBhcyBib2R5IHRvIGluZGljYXRlIG5vIGJvZHlcbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9uYXVndHVyL3hoci9pc3N1ZXMvMTAwLlxuXG5cbiAgeGhyLnNlbmQoYm9keSB8fCBudWxsKTtcbiAgcmV0dXJuIHhocjtcbn1cblxuZnVuY3Rpb24gZ2V0WG1sKHhocikge1xuICAvLyB4aHIucmVzcG9uc2VYTUwgd2lsbCB0aHJvdyBFeGNlcHRpb24gXCJJbnZhbGlkU3RhdGVFcnJvclwiIG9yIFwiRE9NRXhjZXB0aW9uXCJcbiAgLy8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdC9yZXNwb25zZVhNTC5cbiAgdHJ5IHtcbiAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gXCJkb2N1bWVudFwiKSB7XG4gICAgICByZXR1cm4geGhyLnJlc3BvbnNlWE1MO1xuICAgIH1cblxuICAgIHZhciBmaXJlZm94QnVnVGFrZW5FZmZlY3QgPSB4aHIucmVzcG9uc2VYTUwgJiYgeGhyLnJlc3BvbnNlWE1MLmRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSA9PT0gXCJwYXJzZXJlcnJvclwiO1xuXG4gICAgaWYgKHhoci5yZXNwb25zZVR5cGUgPT09IFwiXCIgJiYgIWZpcmVmb3hCdWdUYWtlbkVmZmVjdCkge1xuICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVhNTDtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fSJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJyZXF1aXJlIiwiX2V4dGVuZHMiLCJpc0Z1bmN0aW9uIiwiY3JlYXRlWEhSIiwiaHR0cEhhbmRsZXIiLCJwYXJzZUhlYWRlcnMiLCJoZWFkZXJzIiwicmVzdWx0IiwidHJpbSIsInNwbGl0IiwiZm9yRWFjaCIsInJvdyIsImluZGV4IiwiaW5kZXhPZiIsImtleSIsInNsaWNlIiwidG9Mb3dlckNhc2UiLCJ2YWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsInB1c2giLCJtb2R1bGUiLCJleHBvcnRzIiwiZGVmYXVsdCIsIlhNTEh0dHBSZXF1ZXN0Iiwibm9vcCIsIlhEb21haW5SZXF1ZXN0IiwiZm9yRWFjaEFycmF5IiwibWV0aG9kIiwidXJpIiwib3B0aW9ucyIsImNhbGxiYWNrIiwiaW5pdFBhcmFtcyIsInRvVXBwZXJDYXNlIiwiX2NyZWF0ZVhIUiIsImFycmF5IiwiaXRlcmF0b3IiLCJpIiwibGVuZ3RoIiwiaXNFbXB0eSIsIm9iaiIsImhhc093blByb3BlcnR5IiwicGFyYW1zIiwiRXJyb3IiLCJjYWxsZWQiLCJjYk9uY2UiLCJlcnIiLCJyZXNwb25zZSIsImJvZHkiLCJyZWFkeXN0YXRlY2hhbmdlIiwieGhyIiwicmVhZHlTdGF0ZSIsInNldFRpbWVvdXQiLCJsb2FkRnVuYyIsImdldEJvZHkiLCJ1bmRlZmluZWQiLCJyZXNwb25zZVRleHQiLCJnZXRYbWwiLCJpc0pzb24iLCJKU09OIiwicGFyc2UiLCJlIiwiZXJyb3JGdW5jIiwiZXZ0IiwiY2xlYXJUaW1lb3V0IiwidGltZW91dFRpbWVyIiwic3RhdHVzQ29kZSIsImZhaWx1cmVSZXNwb25zZSIsImFib3J0ZWQiLCJzdGF0dXMiLCJ1c2VYRFIiLCJ1cmwiLCJyYXdSZXF1ZXN0IiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwiY29ycyIsImRhdGEiLCJzeW5jIiwianNvbiIsInN0cmluZ2lmeSIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJvbnByb2dyZXNzIiwib25hYm9ydCIsIm9udGltZW91dCIsIm9wZW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwid2l0aENyZWRlbnRpYWxzIiwidGltZW91dCIsImFib3J0IiwiY29kZSIsInNldFJlcXVlc3RIZWFkZXIiLCJyZXNwb25zZVR5cGUiLCJiZWZvcmVTZW5kIiwic2VuZCIsInJlc3BvbnNlWE1MIiwiZmlyZWZveEJ1Z1Rha2VuRWZmZWN0IiwiZG9jdW1lbnRFbGVtZW50Iiwibm9kZU5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@videojs/xhr/lib/index.js\n");

/***/ })

};
;